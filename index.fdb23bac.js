!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function r(e){return e&&e.__esModule?e.default:e}var n={},o={},i=t.parcelRequired854;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},t.parcelRequired854=i),i.register("jqMkm",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.HttpChain=void 0;var r=i("lebJ5"),n=i("3LfmY");class o{baseUrl;options;httpOptions;constructor(e,t=r.defaultChainOptions,n={}){this.baseUrl=e,this.options=t,this.httpOptions=n}async info(){const e=await(0,n.jsonOrError)(`${this.baseUrl}/info`,this.httpOptions);if(this.options.chainVerificationParams&&!function(e,t){return e.hash===t.chainHash&&e.public_key===t.publicKey}(e,this.options.chainVerificationParams))throw Error(`The chain info retrieved from ${this.baseUrl} did not match the verification params!`);return e}}e.exports.HttpChain=o;e.exports.default=class{baseUrl;options;chain;cachedInfo;constructor(e,t=r.defaultChainOptions){this.baseUrl=e,this.options=t,this.chain=new o(e,t)}async info(){return this.cachedInfo||(this.cachedInfo=await this.chain.info()),this.cachedInfo}}})),i.register("lebJ5",(function(e,t){"use strict";var r=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.roundTime=e.exports.roundAt=e.exports.FastestNodeClient=e.exports.MultiBeaconNode=e.exports.HttpCachingChain=e.exports.HttpChainClient=e.exports.HttpChain=e.exports.isG1Rfc9380=e.exports.isG1G2SwappedBeacon=e.exports.isUnchainedBeacon=e.exports.isChainedBeacon=e.exports.watch=e.exports.fetchBeaconByTime=e.exports.fetchBeacon=e.exports.defaultChainOptions=void 0;const n=r(i("jqMkm"));e.exports.HttpCachingChain=n.default,Object.defineProperty(e.exports,"HttpChain",{enumerable:!0,get:function(){return i("jqMkm").HttpChain}});const o=r(i("cSiHZ"));e.exports.HttpChainClient=o.default;const a=r(i("buI6Z"));e.exports.FastestNodeClient=a.default;const s=r(i("5y2Oa"));e.exports.MultiBeaconNode=s.default;var c=i("3LfmY");Object.defineProperty(e.exports,"roundAt",{enumerable:!0,get:function(){return c.roundAt}}),Object.defineProperty(e.exports,"roundTime",{enumerable:!0,get:function(){return c.roundTime}});var u=i("de9Zr");async function f(e,t){if(t||(t=(0,c.roundAt)(Date.now(),await e.chain().info())),t<1)throw Error("Cannot request lower than round number 1");const r=await e.get(t);return d(e,r,t)}e.exports.defaultChainOptions={disableBeaconVerification:!1,noCache:!1},e.exports.fetchBeacon=f,e.exports.fetchBeaconByTime=async function(e,t){const r=await e.chain().info();return f(e,(0,c.roundAt)(t,r))},e.exports.watch=async function*(e,t,r=l){const n=await e.chain().info();let o=(0,c.roundAt)(Date.now(),n);for(;!t.signal.aborted;){const t=Date.now();await(0,c.sleep)((0,c.roundTime)(n,o)-t);const i=await(0,c.retryOnError)((async()=>e.get(o)),r.retriesOnFailure);yield d(e,i,o),o+=1}};const l={retriesOnFailure:3};async function d(e,t,r){if(e.options.disableBeaconVerification)return t;const n=await e.chain().info();if(!await(0,u.verifyBeacon)(n,t,r))throw Error("The beacon retrieved was not valid!");return t}e.exports.isChainedBeacon=function(e,t){return"pedersen-bls-chained"===t.schemeID&&!!e.previous_signature&&!!e.randomness&&!!e.signature&&e.round>0},e.exports.isUnchainedBeacon=function(e,t){return"pedersen-bls-unchained"===t.schemeID&&!!e.randomness&&!!e.signature&&void 0===e.previous_signature&&e.round>0},e.exports.isG1G2SwappedBeacon=function(e,t){return"bls-unchained-on-g1"===t.schemeID&&!!e.randomness&&!!e.signature&&void 0===e.previous_signature&&e.round>0},e.exports.isG1Rfc9380=function(e,t){return"bls-unchained-g1-rfc9380"===t.schemeID&&!!e.randomness&&!!e.signature&&void 0===e.previous_signature&&e.round>0}})),i.register("cSiHZ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var r=i("lebJ5"),n=i("3LfmY");function o(e,t){return t.noCache?`${e}?${Date.now()}`:e}e.exports.default=class{someChain;options;httpOptions;constructor(e,t=r.defaultChainOptions,o=n.defaultHttpOptions){this.someChain=e,this.options=t,this.httpOptions=o}async get(e){const t=o(`${this.someChain.baseUrl}/public/${e}`,this.options);return await(0,n.jsonOrError)(t,this.httpOptions)}async latest(){const e=o(`${this.someChain.baseUrl}/public/latest`,this.options);return await(0,n.jsonOrError)(e,this.httpOptions)}chain(){return this.someChain}}})),i.register("3LfmY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.retryOnError=e.exports.jsonOrError=e.exports.defaultHttpOptions=e.exports.roundTime=e.exports.roundAt=e.exports.sleep=void 0;var r=i("d2VrX");e.exports.sleep=function(e){return new Promise((t=>{e<=0&&t(),setTimeout(t,e)}))},e.exports.roundAt=function(e,t){if(!Number.isFinite(e))throw new Error("Cannot use Infinity or NaN as a beacon time");if(e<1e3*t.genesis_time)throw Error("Cannot request a round before the genesis time");return Math.floor((e-1e3*t.genesis_time)/(1e3*t.period))+1},e.exports.roundTime=function(e,t){if(!Number.isFinite(t))throw new Error("Cannot use Infinity or NaN as a round number");return t=t<0?0:t,1e3*(e.genesis_time+(t-1)*e.period)},e.exports.defaultHttpOptions={userAgent:`drand-client-${r.LIB_VERSION}`},e.exports.jsonOrError=async function(t,r=e.exports.defaultHttpOptions){const n={...r.headers};r.userAgent&&(n["User-Agent"]=r.userAgent);const o=await fetch(t,{headers:n});if(!o.ok)throw Error(`Error response fetching ${t} - got ${o.status}`);return await o.json()},e.exports.retryOnError=async function e(t,r){try{return await t()}catch(n){if(0===r)throw n;return e(t,r-1)}}})),i.register("d2VrX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.LIB_VERSION=void 0,e.exports.LIB_VERSION="1.2.5"})),i.register("buI6Z",(function(e,t){"use strict";var r=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e.exports&&e.exports.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=e.exports&&e.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return n(t,e),t},a=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0});var s=i("lebJ5");const c=o(i("jqMkm"));var u=i("2DUey");const f=a(i("cSiHZ"));e.exports.default=class{baseUrls;options;speedTestIntervalMs;speedTests=[];speedTestHttpOptions={userAgent:"drand-web-client-speedtest"};constructor(e,t=s.defaultChainOptions,r=3e5){if(this.baseUrls=e,this.options=t,this.speedTestIntervalMs=r,0===e.length)throw Error("Can't optimise an empty `baseUrls` array!")}async latest(){return new f.default(this.current(),this.options).latest()}async get(e){return new f.default(this.current(),this.options).get(e)}chain(){return this.current()}start(){1!==this.baseUrls.length?this.speedTests=this.baseUrls.map((e=>{const t=(0,u.createSpeedTest)((async()=>{await new c.HttpChain(e,this.options,this.speedTestHttpOptions).info()}),this.speedTestIntervalMs);return t.start(),{test:t,url:e}})):console.warn("There was only a single base URL in the `FastestNodeClient` - not running speed testing")}current(){0===this.speedTests.length&&console.warn("You are not currently running speed tests to choose the fastest client. Run `.start()` to speed test");const e=this.speedTests.slice().sort(((e,t)=>e.test.average()-t.test.average())).shift();if(!e)throw Error("Somehow there were no entries to optimise! This should be impossible by now");return new c.default(e.url,this.options)}stop(){this.speedTests.forEach((e=>e.test.stop())),this.speedTests=[]}}})),i.register("2DUey",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.createSpeedTest=void 0,e.exports.createSpeedTest=function(e,t,n=5){let o=new r(n),i=null;const a=async()=>{const t=Date.now();try{await e(),o.add(Date.now()-t)}catch(e){o.add(Number.MAX_SAFE_INTEGER)}};return{start:()=>{null==i?i=setInterval(a,t):console.warn("Attempted to start a speed test, but it had already been started!")},stop:()=>{null!==i&&(clearInterval(i),i=null,o=new r(n))},average:()=>{const e=o.get();if(0===e.length)return Number.MAX_SAFE_INTEGER;return e.reduce(((e,t)=>e+t),0)/e.length}}};class r{capacity;values=[];constructor(e){this.capacity=e}add(e){this.values.push(e),this.values.length>this.capacity&&this.values.pop()}get(){return this.values}}})),i.register("5y2Oa",(function(e,t){"use strict";var r=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0});var n=i("lebJ5");const o=r(i("jqMkm"));var a=i("3LfmY");e.exports.default=class{baseUrl;options;constructor(e,t=n.defaultChainOptions){this.baseUrl=e,this.options=t}async chains(){const e=await(0,a.jsonOrError)(`${this.baseUrl}/chains`);if(!Array.isArray(e))throw Error(`Expected an array from the chains endpoint but got: ${e}`);return e.map((e=>new o.default(`${this.baseUrl}/${e}`)),this.options)}async health(){const e=await fetch(`${this.baseUrl}/health`);if(!e.ok)return{status:e.status,current:-1,expected:-1};const t=await e.json();return{status:e.status,current:t.current??-1,expected:t.expected??-1}}}})),i.register("de9Zr",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.roundBuffer=e.exports.verifyBeacon=e.exports.verifySigOnG1=void 0;var r=i("ckPcK"),n=i("20Bza"),o=i("faDxk"),a=i("16yZv"),s=i("lebJ5");async function c(e,t,n,i="BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_"){const a=(s=n)instanceof r.bls12_381.G2.ProjectivePoint?s:r.bls12_381.G2.ProjectivePoint.fromHex(s);var s;const c=function(e,t){return e instanceof r.bls12_381.G1.ProjectivePoint?e:r.bls12_381.G1.hashToCurve((0,o.ensureBytes)("point",e),{DST:t})}(t,i),u=r.bls12_381.G2.ProjectivePoint.BASE,f=function(e){return e instanceof r.bls12_381.G1.ProjectivePoint?e:r.bls12_381.G1.ProjectivePoint.fromHex(e)}(e),l=r.bls12_381.pairing(c,a.negate(),!0),d=r.bls12_381.pairing(f,u,!0),h=r.bls12_381.fields.Fp12.mul(d,l);return r.bls12_381.fields.Fp12.eql(h,r.bls12_381.fields.Fp12.ONE)}async function u(e){return(0,n.sha256)(l(e.round))}function f(e){return a.Buffer.from(e,"hex")}function l(e){const t=a.Buffer.alloc(8);return t.writeBigUInt64BE(BigInt(e)),t}e.exports.verifyBeacon=async function(e,t,o){const i=e.public_key;return t.round!==o?(console.error("round was not the expected round"),!1):await async function(e){const t=(0,n.sha256)(a.Buffer.from(e.signature,"hex"));return 0==a.Buffer.from(e.randomness,"hex").compare(t)}(t)?(0,s.isChainedBeacon)(t,e)?r.bls12_381.verify(t.signature,await async function(e){const t=a.Buffer.concat([f(e.previous_signature),l(e.round)]);return(0,n.sha256)(t)}(t),i):(0,s.isUnchainedBeacon)(t,e)?r.bls12_381.verify(t.signature,await u(t),i):(0,s.isG1G2SwappedBeacon)(t,e)?c(t.signature,await u(t),i):(0,s.isG1Rfc9380)(t,e)?c(t.signature,await u(t),i,"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"):(console.error(`Beacon type ${e.schemeID} was not supported or the beacon was not of the purported type`),!1):(console.error("randomness did not match the signature"),!1)},e.exports.verifySigOnG1=c,e.exports.roundBuffer=l})),i.register("ckPcK",(function(e,t){"use strict";
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.bls12_381=void 0;var r=i("20Bza"),n=i("hHQ9F"),o=i("52IAl"),a=i("lGn4F"),s=i("faDxk"),c=i("8hMpN"),u=i("3tqJa");const f=BigInt(0),l=BigInt(1),d=BigInt(2),h=BigInt(3),p=BigInt(4),b=BigInt(8),y=BigInt(16),g=BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),_=a.Field(g),m=a.Field(BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001")),v=({c0:e,c1:t},{c0:r,c1:n})=>({c0:_.add(e,r),c1:_.add(t,n)}),w=({c0:e,c1:t},{c0:r,c1:n})=>({c0:_.sub(e,r),c1:_.sub(t,n)}),x=({c0:e,c1:t},r)=>{if("bigint"==typeof r)return{c0:_.mul(e,r),c1:_.mul(t,r)};const{c0:n,c1:o}=r;let i=_.mul(e,n),a=_.mul(t,o);return{c0:_.sub(i,a),c1:_.sub(_.mul(_.add(e,t),_.add(n,o)),_.add(i,a))}},E=({c0:e,c1:t})=>{const r=_.add(e,t),n=_.sub(e,t),o=_.add(e,e);return{c0:_.mul(r,n),c1:_.mul(o,t)}},B=g*g,O={ORDER:B,BITS:(0,s.bitLen)(B),BYTES:Math.ceil((0,s.bitLen)(B)/8),MASK:(0,s.bitMask)((0,s.bitLen)(B)),ZERO:{c0:_.ZERO,c1:_.ZERO},ONE:{c0:_.ONE,c1:_.ZERO},create:e=>e,isValid:({c0:e,c1:t})=>"bigint"==typeof e&&"bigint"==typeof t,is0:({c0:e,c1:t})=>_.is0(e)&&_.is0(t),eql:({c0:e,c1:t},{c0:r,c1:n})=>_.eql(e,r)&&_.eql(t,n),neg:({c0:e,c1:t})=>({c0:_.neg(e),c1:_.neg(t)}),pow:(e,t)=>a.FpPow(O,e,t),invertBatch:e=>a.FpInvertBatch(O,e),add:v,sub:w,mul:x,sqr:E,addN:v,subN:w,mulN:x,sqrN:E,div:(e,t)=>O.mul(e,"bigint"==typeof t?_.inv(_.create(t)):O.inv(t)),inv:({c0:e,c1:t})=>{const r=_.inv(_.create(e*e+t*t));return{c0:_.mul(r,_.create(e)),c1:_.mul(r,_.create(-t))}},sqrt:e=>{if(O.eql(e,O.ZERO))return O.ZERO;const t=O.pow(e,(O.ORDER+b)/y),r=O.div(O.sqr(t),e),n=S,o=[n[0],n[2],n[4],n[6]].find((e=>O.eql(e,r)));if(!o)throw new Error("No root");const i=n.indexOf(o),a=n[i/2];if(!a)throw new Error("Invalid root");const s=O.div(t,a),c=O.neg(s),{re:u,im:f}=O.reim(s),{re:l,im:d}=O.reim(c);return f>d||f===d&&u>l?s:c},isOdd:e=>{const{re:t,im:r}=O.reim(e);return BigInt(t%d||t===f&&r%d)==l},fromBytes(e){if(e.length!==O.BYTES)throw new Error(`fromBytes wrong length=${e.length}`);return{c0:_.fromBytes(e.subarray(0,_.BYTES)),c1:_.fromBytes(e.subarray(_.BYTES))}},toBytes:({c0:e,c1:t})=>(0,s.concatBytes)(_.toBytes(e),_.toBytes(t)),cmov:({c0:e,c1:t},{c0:r,c1:n},o)=>({c0:_.cmov(e,r,o),c1:_.cmov(t,n,o)}),reim:({c0:e,c1:t})=>({re:e,im:t}),mulByNonresidue:({c0:e,c1:t})=>({c0:_.sub(e,t),c1:_.add(e,t)}),multiplyByB:({c0:e,c1:t})=>{let r=_.mul(e,p),n=_.mul(t,p);return{c0:_.sub(r,n),c1:_.add(r,n)}},fromBigTuple:e=>{if(2!==e.length)throw new Error("Invalid tuple");const t=e.map((e=>_.create(e)));return{c0:t[0],c1:t[1]}},frobeniusMap:({c0:e,c1:t},r)=>({c0:e,c1:_.mul(t,A[r%2])})},A=[BigInt("0x1"),BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaa")].map((e=>_.create(e))),T=BigInt("0x6af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09"),S=[[l,f],[T,-T],[f,l],[T,T],[-l,f],[-T,T],[f,-l],[-T,-T]].map((e=>O.fromBigTuple(e))),I=({c0:e,c1:t,c2:r},{c0:n,c1:o,c2:i})=>({c0:O.add(e,n),c1:O.add(t,o),c2:O.add(r,i)}),F=({c0:e,c1:t,c2:r},{c0:n,c1:o,c2:i})=>({c0:O.sub(e,n),c1:O.sub(t,o),c2:O.sub(r,i)}),N=({c0:e,c1:t,c2:r},n)=>{if("bigint"==typeof n)return{c0:O.mul(e,n),c1:O.mul(t,n),c2:O.mul(r,n)};const{c0:o,c1:i,c2:a}=n,s=O.mul(e,o),c=O.mul(t,i),u=O.mul(r,a);return{c0:O.add(s,O.mulByNonresidue(O.sub(O.mul(O.add(t,r),O.add(i,a)),O.add(c,u)))),c1:O.add(O.sub(O.mul(O.add(e,t),O.add(o,i)),O.add(s,c)),O.mulByNonresidue(u)),c2:O.sub(O.add(c,O.mul(O.add(e,r),O.add(o,a))),O.add(s,u))}},C=({c0:e,c1:t,c2:r})=>{let n=O.sqr(e),o=O.mul(O.mul(e,t),d),i=O.mul(O.mul(t,r),d),a=O.sqr(r);return{c0:O.add(O.mulByNonresidue(i),n),c1:O.add(O.mulByNonresidue(a),o),c2:O.sub(O.sub(O.add(O.add(o,O.sqr(O.add(O.sub(e,t),r))),i),n),a)}},U={ORDER:O.ORDER,BITS:3*O.BITS,BYTES:3*O.BYTES,MASK:(0,s.bitMask)(3*O.BITS),ZERO:{c0:O.ZERO,c1:O.ZERO,c2:O.ZERO},ONE:{c0:O.ONE,c1:O.ZERO,c2:O.ZERO},create:e=>e,isValid:({c0:e,c1:t,c2:r})=>O.isValid(e)&&O.isValid(t)&&O.isValid(r),is0:({c0:e,c1:t,c2:r})=>O.is0(e)&&O.is0(t)&&O.is0(r),neg:({c0:e,c1:t,c2:r})=>({c0:O.neg(e),c1:O.neg(t),c2:O.neg(r)}),eql:({c0:e,c1:t,c2:r},{c0:n,c1:o,c2:i})=>O.eql(e,n)&&O.eql(t,o)&&O.eql(r,i),sqrt:()=>{throw new Error("Not implemented")},div:(e,t)=>U.mul(e,"bigint"==typeof t?_.inv(_.create(t)):U.inv(t)),pow:(e,t)=>a.FpPow(U,e,t),invertBatch:e=>a.FpInvertBatch(U,e),add:I,sub:F,mul:N,sqr:C,addN:I,subN:F,mulN:N,sqrN:C,inv:({c0:e,c1:t,c2:r})=>{let n=O.sub(O.sqr(e),O.mulByNonresidue(O.mul(r,t))),o=O.sub(O.mulByNonresidue(O.sqr(r)),O.mul(e,t)),i=O.sub(O.sqr(t),O.mul(e,r)),a=O.inv(O.add(O.mulByNonresidue(O.add(O.mul(r,o),O.mul(t,i))),O.mul(e,n)));return{c0:O.mul(a,n),c1:O.mul(a,o),c2:O.mul(a,i)}},fromBytes:e=>{if(e.length!==U.BYTES)throw new Error(`fromBytes wrong length=${e.length}`);return{c0:O.fromBytes(e.subarray(0,O.BYTES)),c1:O.fromBytes(e.subarray(O.BYTES,2*O.BYTES)),c2:O.fromBytes(e.subarray(2*O.BYTES))}},toBytes:({c0:e,c1:t,c2:r})=>(0,s.concatBytes)(O.toBytes(e),O.toBytes(t),O.toBytes(r)),cmov:({c0:e,c1:t,c2:r},{c0:n,c1:o,c2:i},a)=>({c0:O.cmov(e,n,a),c1:O.cmov(t,o,a),c2:O.cmov(r,i,a)}),fromBigSix:e=>{if(!Array.isArray(e)||6!==e.length)throw new Error("Invalid Fp6 usage");return{c0:O.fromBigTuple(e.slice(0,2)),c1:O.fromBigTuple(e.slice(2,4)),c2:O.fromBigTuple(e.slice(4,6))}},frobeniusMap:({c0:e,c1:t,c2:r},n)=>({c0:O.frobeniusMap(e,n),c1:O.mul(O.frobeniusMap(t,n),k[n%6]),c2:O.mul(O.frobeniusMap(r,n),P[n%6])}),mulByNonresidue:({c0:e,c1:t,c2:r})=>({c0:O.mulByNonresidue(r),c1:e,c2:t}),multiplyBy1:({c0:e,c1:t,c2:r},n)=>({c0:O.mulByNonresidue(O.mul(r,n)),c1:O.mul(e,n),c2:O.mul(t,n)}),multiplyBy01({c0:e,c1:t,c2:r},n,o){let i=O.mul(e,n),a=O.mul(t,o);return{c0:O.add(O.mulByNonresidue(O.sub(O.mul(O.add(t,r),o),a)),i),c1:O.sub(O.sub(O.mul(O.add(n,o),O.add(e,t)),i),a),c2:O.add(O.sub(O.mul(O.add(e,r),n),i),a)}},multiplyByFp2:({c0:e,c1:t,c2:r},n)=>({c0:O.mul(e,n),c1:O.mul(t,n),c2:O.mul(r,n)})},k=[[BigInt("0x1"),BigInt("0x0")],[BigInt("0x0"),BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),BigInt("0x0")],[BigInt("0x0"),BigInt("0x1")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac"),BigInt("0x0")],[BigInt("0x0"),BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe")]].map((e=>O.fromBigTuple(e))),P=[[BigInt("0x1"),BigInt("0x0")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaad"),BigInt("0x0")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac"),BigInt("0x0")],[BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaa"),BigInt("0x0")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),BigInt("0x0")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffff"),BigInt("0x0")]].map((e=>O.fromBigTuple(e))),j=BigInt("0xd201000000010000"),R=(0,s.bitLen)(j),L=({c0:e,c1:t},{c0:r,c1:n})=>({c0:U.add(e,r),c1:U.add(t,n)}),D=({c0:e,c1:t},{c0:r,c1:n})=>({c0:U.sub(e,r),c1:U.sub(t,n)}),M=({c0:e,c1:t},r)=>{if("bigint"==typeof r)return{c0:U.mul(e,r),c1:U.mul(t,r)};let{c0:n,c1:o}=r,i=U.mul(e,n),a=U.mul(t,o);return{c0:U.add(i,U.mulByNonresidue(a)),c1:U.sub(U.mul(U.add(e,t),U.add(n,o)),U.add(i,a))}},H=({c0:e,c1:t})=>{let r=U.mul(e,t);return{c0:U.sub(U.sub(U.mul(U.add(U.mulByNonresidue(t),e),U.add(e,t)),r),U.mulByNonresidue(r)),c1:U.add(r,r)}};function $(e,t){const r=O.sqr(e),n=O.sqr(t);return{first:O.add(O.mulByNonresidue(n),r),second:O.sub(O.sub(O.sqr(O.add(e,t)),r),n)}}const q={ORDER:O.ORDER,BITS:2*O.BITS,BYTES:2*O.BYTES,MASK:(0,s.bitMask)(2*O.BITS),ZERO:{c0:U.ZERO,c1:U.ZERO},ONE:{c0:U.ONE,c1:U.ZERO},create:e=>e,isValid:({c0:e,c1:t})=>U.isValid(e)&&U.isValid(t),is0:({c0:e,c1:t})=>U.is0(e)&&U.is0(t),neg:({c0:e,c1:t})=>({c0:U.neg(e),c1:U.neg(t)}),eql:({c0:e,c1:t},{c0:r,c1:n})=>U.eql(e,r)&&U.eql(t,n),sqrt:()=>{throw new Error("Not implemented")},inv:({c0:e,c1:t})=>{let r=U.inv(U.sub(U.sqr(e),U.mulByNonresidue(U.sqr(t))));return{c0:U.mul(e,r),c1:U.neg(U.mul(t,r))}},div:(e,t)=>q.mul(e,"bigint"==typeof t?_.inv(_.create(t)):q.inv(t)),pow:(e,t)=>a.FpPow(q,e,t),invertBatch:e=>a.FpInvertBatch(q,e),add:L,sub:D,mul:M,sqr:H,addN:L,subN:D,mulN:M,sqrN:H,fromBytes:e=>{if(e.length!==q.BYTES)throw new Error(`fromBytes wrong length=${e.length}`);return{c0:U.fromBytes(e.subarray(0,U.BYTES)),c1:U.fromBytes(e.subarray(U.BYTES))}},toBytes:({c0:e,c1:t})=>(0,s.concatBytes)(U.toBytes(e),U.toBytes(t)),cmov:({c0:e,c1:t},{c0:r,c1:n},o)=>({c0:U.cmov(e,r,o),c1:U.cmov(t,n,o)}),fromBigTwelve:e=>({c0:U.fromBigSix(e.slice(0,6)),c1:U.fromBigSix(e.slice(6,12))}),frobeniusMap(e,t){const r=U.frobeniusMap(e.c0,t),{c0:n,c1:o,c2:i}=U.frobeniusMap(e.c1,t),a=V[t%12];return{c0:r,c1:U.create({c0:O.mul(n,a),c1:O.mul(o,a),c2:O.mul(i,a)})}},multiplyBy014:({c0:e,c1:t},r,n,o)=>{let i=U.multiplyBy01(e,r,n),a=U.multiplyBy1(t,o);return{c0:U.add(U.mulByNonresidue(a),i),c1:U.sub(U.sub(U.multiplyBy01(U.add(t,e),r,O.add(n,o)),i),a)}},multiplyByFp2:({c0:e,c1:t},r)=>({c0:U.multiplyByFp2(e,r),c1:U.multiplyByFp2(t,r)}),conjugate:({c0:e,c1:t})=>({c0:e,c1:U.neg(t)}),_cyclotomicSquare:({c0:e,c1:t})=>{const{c0:r,c1:n,c2:o}=e,{c0:i,c1:a,c2:s}=t,{first:c,second:u}=$(r,a),{first:f,second:l}=$(i,o),{first:h,second:p}=$(n,s);let b=O.mulByNonresidue(p);return{c0:U.create({c0:O.add(O.mul(O.sub(c,r),d),c),c1:O.add(O.mul(O.sub(f,n),d),f),c2:O.add(O.mul(O.sub(h,o),d),h)}),c1:U.create({c0:O.add(O.mul(O.add(b,i),d),b),c1:O.add(O.mul(O.add(u,a),d),u),c2:O.add(O.mul(O.add(l,s),d),l)})}},_cyclotomicExp(e,t){let r=q.ONE;for(let n=R-1;n>=0;n--)r=q._cyclotomicSquare(r),(0,s.bitGet)(t,n)&&(r=q.mul(r,e));return r},finalExponentiate:e=>{const t=j,r=q.div(q.frobeniusMap(e,6),e),n=q.mul(q.frobeniusMap(r,2),r),o=q.conjugate(q._cyclotomicExp(n,t)),i=q.mul(q.conjugate(q._cyclotomicSquare(n)),o),a=q.conjugate(q._cyclotomicExp(i,t)),s=q.conjugate(q._cyclotomicExp(a,t)),c=q.mul(q.conjugate(q._cyclotomicExp(s,t)),q._cyclotomicSquare(o)),u=q.conjugate(q._cyclotomicExp(c,t)),f=q.frobeniusMap(q.mul(o,s),2),l=q.frobeniusMap(q.mul(a,n),3),d=q.frobeniusMap(q.mul(c,q.conjugate(n)),1),h=q.mul(q.mul(u,q.conjugate(i)),n);return q.mul(q.mul(q.mul(f,l),d),h)}},V=[[BigInt("0x1"),BigInt("0x0")],[BigInt("0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8"),BigInt("0x00fc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffff"),BigInt("0x0")],[BigInt("0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2"),BigInt("0x06af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09")],[BigInt("0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),BigInt("0x0")],[BigInt("0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995"),BigInt("0x05b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116")],[BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaa"),BigInt("0x0")],[BigInt("0x00fc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3"),BigInt("0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac"),BigInt("0x0")],[BigInt("0x06af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09"),BigInt("0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2")],[BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaad"),BigInt("0x0")],[BigInt("0x05b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116"),BigInt("0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995")]].map((e=>O.fromBigTuple(e))),G=(0,u.isogenyMap)(O,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map((e=>e.map((e=>O.fromBigTuple(e.map(BigInt))))))),z=(0,u.isogenyMap)(_,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))),Z=(0,c.mapToCurveSimpleSWU)(O,{A:O.create({c0:_.create(f),c1:_.create(BigInt(240))}),B:O.create({c0:_.create(BigInt(1012)),c1:_.create(BigInt(1012))}),Z:O.create({c0:_.create(BigInt(-2)),c1:_.create(BigInt(-1))})}),Y=(0,c.mapToCurveSimpleSWU)(_,{A:_.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:_.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:_.create(BigInt(11))}),W=U.create({c0:O.ZERO,c1:O.ONE,c2:O.ZERO}),K=q.create({c0:W,c1:U.ZERO}),J=q.create({c0:U.ZERO,c1:W}),[X,Q]=q.invertBatch([K,J]);function ee(e,t){const r=t.toAffine(),n=(o=r.x,i=r.y,[q.mul(q.frobeniusMap(q.multiplyByFp2(X,o),1),K).c0.c0,q.mul(q.frobeniusMap(q.multiplyByFp2(Q,i),1),J).c0.c0]);var o,i;return new e(n[0],n[1],O.ONE)}const te=BigInt("0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaac");function re(e,t){const r=t.toAffine(),n=(o=r.x,i=r.y,[O.mul(o,te),O.neg(i)]);var o,i;return new e(n[0],n[1],O.ONE)}const ne=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:_.ORDER,m:2,k:128,expand:"xmd",hash:r.sha256}),oe=ae(_.toBytes(f),{infinity:!0,compressed:!0});function ie(e){const t=224&(e=e.slice())[0],r=!!(t>>7&1),n=!!(t>>6&1),o=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:n,sort:o,value:e}}function ae(e,t){if(224&e[0])throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function se(t){t.assertValidity();const r=t.equals(e.exports.bls12_381.G1.ProjectivePoint.ZERO),{x:n,y:o}=t.toAffine();if(r)return oe.slice();const i=_.ORDER,a=Boolean(o*d/i);return ae((0,s.numberToBytesBE)(n,_.BYTES),{compressed:!0,sort:a})}function ce(t){t.assertValidity();const r=_.BYTES;if(t.equals(e.exports.bls12_381.G2.ProjectivePoint.ZERO))return(0,s.concatBytes)(oe,(0,s.numberToBytesBE)(f,r));const{x:n,y:o}=t.toAffine(),{re:i,im:a}=O.reim(n),{re:c,im:u}=O.reim(o),h=Boolean((u>f?u*d:c*d)/_.ORDER&l),p=i;return(0,s.concatBytes)(ae((0,s.numberToBytesBE)(a,r),{sort:h,compressed:!0}),(0,s.numberToBytesBE)(p,r))}e.exports.bls12_381=(0,o.bls)({fields:{Fp:_,Fp2:O,Fp6:U,Fp12:q,Fr:m},G1:{Fp:_,h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1"),a:_.ZERO,b:p,htfDefaults:{...ne,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(t,r)=>{const n=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),o=new t(_.mul(r.px,n),r.py,r.pz);return r.multiplyUnsafe(e.exports.bls12_381.params.x).negate().multiplyUnsafe(e.exports.bls12_381.params.x).equals(o)},clearCofactor:(t,r)=>r.multiplyUnsafe(e.exports.bls12_381.params.x).add(r),mapToCurve:e=>{const{x:t,y:r}=Y(_.create(e[0]));return z(t,r)},fromBytes:t=>{const{compressed:r,infinity:n,sort:o,value:i}=ie(t);if(48===i.length&&r){const t=_.ORDER,r=(0,s.bytesToNumberBE)(i),a=_.create(r&_.MASK);if(n){if(a!==f)throw new Error("G1: non-empty compressed point at infinity");return{x:f,y:f}}const c=_.add(_.pow(a,h),_.create(e.exports.bls12_381.params.G1b));let u=_.sqrt(c);if(!u)throw new Error("Invalid compressed G1 point");return u*d/t!==BigInt(o)&&(u=_.neg(u)),{x:_.create(a),y:_.create(u)}}if(96!==i.length||r)throw new Error("Invalid point G1, expected 48/96 bytes");{const t=(0,s.bytesToNumberBE)(i.subarray(0,_.BYTES)),r=(0,s.bytesToNumberBE)(i.subarray(_.BYTES));if(n){if(t!==f||r!==f)throw new Error("G1: non-empty point at infinity");return e.exports.bls12_381.G1.ProjectivePoint.ZERO.toAffine()}return{x:_.create(t),y:_.create(r)}}},toBytes:(e,t,r)=>{const n=t.equals(e.ZERO),{x:o,y:i}=t.toAffine();if(r){if(n)return oe.slice();const e=_.ORDER,t=Boolean(i*d/e);return ae((0,s.numberToBytesBE)(o,_.BYTES),{compressed:!0,sort:t})}if(n){return(0,s.concatBytes)(new Uint8Array([64]),new Uint8Array(2*_.BYTES-1))}return(0,s.concatBytes)((0,s.numberToBytesBE)(o,_.BYTES),(0,s.numberToBytesBE)(i,_.BYTES))},ShortSignature:{fromHex(t){const{infinity:r,sort:n,value:o}=ie((0,s.ensureBytes)("signatureHex",t,48)),i=_.ORDER,a=(0,s.bytesToNumberBE)(o);if(r)return e.exports.bls12_381.G1.ProjectivePoint.ZERO;const c=_.create(a&_.MASK),u=_.add(_.pow(c,h),_.create(e.exports.bls12_381.params.G1b));let f=_.sqrt(u);if(!f)throw new Error("Invalid compressed G1 point");const l=BigInt(n);f*d/i!==l&&(f=_.neg(f));const p=e.exports.bls12_381.G1.ProjectivePoint.fromAffine({x:c,y:f});return p.assertValidity(),p},toRawBytes:e=>se(e),toHex:e=>(0,s.bytesToHex)(se(e))}},G2:{Fp:O,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),Gx:O.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:O.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")]),a:O.ZERO,b:O.fromBigTuple([p,p]),hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...ne},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:e=>{const{x:t,y:r}=Z(O.fromBigTuple(e));return G(t,r)},isTorsionFree:(t,r)=>r.multiplyUnsafe(e.exports.bls12_381.params.x).negate().equals(ee(t,r)),clearCofactor:(t,r)=>{const n=e.exports.bls12_381.params.x;let o=r.multiplyUnsafe(n).negate(),i=ee(t,r),a=r.double();a=re(t,a),a=a.subtract(i),i=o.add(i),i=i.multiplyUnsafe(n).negate(),a=a.add(i),a=a.subtract(o);return a.subtract(r)},fromBytes:t=>{const{compressed:r,infinity:n,sort:o,value:i}=ie(t);if(!r&&!n&&o||!r&&n&&o||o&&n&&r)throw new Error("Invalid encoding flag: "+(224&t[0]));const a=_.BYTES,c=(e,t,r)=>(0,s.bytesToNumberBE)(e.slice(t,r));if(96===i.length&&r){const t=e.exports.bls12_381.params.G2b,r=_.ORDER;if(n){if(i.reduce(((e,t)=>0!==e?t+1:t),0)>0)throw new Error("Invalid compressed G2 point");return{x:O.ZERO,y:O.ZERO}}const s=c(i,0,a),u=c(i,a,2*a),p=O.create({c0:_.create(u),c1:_.create(s)}),b=O.add(O.pow(p,h),t);let y=O.sqrt(b);const g=y.c1===f?y.c0*d/r:y.c1*d/r?l:f;return y=o&&g>0?y:O.neg(y),{x:p,y:y}}if(192!==i.length||r)throw new Error("Invalid point G2, expected 96/192 bytes");{if(n){if(i.reduce(((e,t)=>0!==e?t+1:t),0)>0)throw new Error("Invalid uncompressed G2 point");return{x:O.ZERO,y:O.ZERO}}const e=c(i,0,a),t=c(i,a,2*a),r=c(i,2*a,3*a),o=c(i,3*a,4*a);return{x:O.fromBigTuple([t,e]),y:O.fromBigTuple([o,r])}}},toBytes:(e,t,r)=>{const{BYTES:n,ORDER:o}=_,i=t.equals(e.ZERO),{x:a,y:c}=t.toAffine();if(r){if(i)return(0,s.concatBytes)(oe,(0,s.numberToBytesBE)(f,n));const e=Boolean(c.c1===f?c.c0*d/o:c.c1*d/o);return(0,s.concatBytes)(ae((0,s.numberToBytesBE)(a.c1,n),{compressed:!0,sort:e}),(0,s.numberToBytesBE)(a.c0,n))}{if(i)return(0,s.concatBytes)(new Uint8Array([64]),new Uint8Array(4*n-1));const{re:e,im:t}=O.reim(a),{re:r,im:o}=O.reim(c);return(0,s.concatBytes)((0,s.numberToBytesBE)(t,n),(0,s.numberToBytesBE)(e,n),(0,s.numberToBytesBE)(o,n),(0,s.numberToBytesBE)(r,n))}},Signature:{fromHex(t){const{infinity:r,sort:n,value:o}=ie((0,s.ensureBytes)("signatureHex",t)),i=_.ORDER,a=o.length/2;if(48!==a&&96!==a)throw new Error("Invalid compressed signature length, must be 96 or 192");const c=(0,s.bytesToNumberBE)(o.slice(0,a)),u=(0,s.bytesToNumberBE)(o.slice(a));if(r)return e.exports.bls12_381.G2.ProjectivePoint.ZERO;const l=_.create(c&_.MASK),p=_.create(u),b=O.create({c0:p,c1:l}),y=O.add(O.pow(b,h),e.exports.bls12_381.params.G2b);let g=O.sqrt(y);if(!g)throw new Error("Failed to find a square root");const{re:m,im:v}=O.reim(g),w=BigInt(n);(v>f&&v*d/i!==w||v===f&&m*d/i!==w)&&(g=O.neg(g));const x=e.exports.bls12_381.G2.ProjectivePoint.fromAffine({x:b,y:g});return x.assertValidity(),x},toRawBytes:e=>ce(e),toHex:e=>(0,s.bytesToHex)(ce(e))}},params:{x:j,r:m.ORDER},htfDefaults:ne,hash:r.sha256,randomBytes:n.randomBytes})})),i.register("20Bza",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.sha224=e.exports.sha256=void 0;var r=i("gHZFQ"),n=i("hHQ9F");const o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint32Array(64);class c extends r.HashMD{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:n,E:o,F:i,G:a,H:s}=this;return[e,t,r,n,o,i,a,s]}set(e,t,r,n,o,i,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|o,this.F=0|i,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)s[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=s[e-15],r=s[e-2],o=(0,n.rotr)(t,7)^(0,n.rotr)(t,18)^t>>>3,i=(0,n.rotr)(r,17)^(0,n.rotr)(r,19)^r>>>10;s[e]=i+s[e-7]+o+s[e-16]|0}let{A:i,B:a,C:c,D:u,E:f,F:l,G:d,H:h}=this;for(let e=0;e<64;e++){const t=h+((0,n.rotr)(f,6)^(0,n.rotr)(f,11)^(0,n.rotr)(f,25))+(0,r.Chi)(f,l,d)+o[e]+s[e]|0,p=((0,n.rotr)(i,2)^(0,n.rotr)(i,13)^(0,n.rotr)(i,22))+(0,r.Maj)(i,a,c)|0;h=d,d=l,l=f,f=u+t|0,u=c,c=a,a=i,i=t+p|0}i=i+this.A|0,a=a+this.B|0,c=c+this.C|0,u=u+this.D|0,f=f+this.E|0,l=l+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(i,a,c,u,f,l,d,h)}roundClean(){s.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class u extends c{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}e.exports.sha256=(0,n.wrapConstructor)((()=>new c)),e.exports.sha224=(0,n.wrapConstructor)((()=>new u))})),i.register("gHZFQ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.HashMD=e.exports.Maj=e.exports.Chi=void 0;var r=i("lJYNc"),n=i("hHQ9F");e.exports.Chi=(e,t,r)=>e&t^~e&r;e.exports.Maj=(e,t,r)=>e&t^e&r^t&r;class o extends n.Hash{constructor(e,t,r,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,n.createView)(this.buffer)}update(e){(0,r.exists)(this);const{view:t,buffer:o,blockLen:i}=this,a=(e=(0,n.toBytes)(e)).length;for(let r=0;r<a;){const s=Math.min(i-this.pos,a-r);if(s!==i)o.set(e.subarray(r,r+s),this.pos),this.pos+=s,r+=s,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=(0,n.createView)(e);for(;i<=a-r;r+=i)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.exists)(this),(0,r.output)(e,this),this.finished=!0;const{buffer:t,view:o,blockLen:i,isLE:a}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(o,0),s=0);for(let e=s;e<i;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const o=BigInt(32),i=BigInt(4294967295),a=Number(r>>o&i),s=Number(r&i),c=n?4:0,u=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+u,s,n)}(o,i-8,BigInt(8*this.length),a),this.process(o,0);const c=(0,n.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,l=this.get();if(f>l.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<f;e++)c.setUint32(4*e,l[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:o,destroyed:i,pos:a}=this;return e.length=n,e.pos=a,e.finished=o,e.destroyed=i,n%t&&e.buffer.set(r),e}}e.exports.HashMD=o})),i.register("lJYNc",(function(e,t){"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function n(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function o(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function i(e,...t){if(!o(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function a(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c(e,t){i(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.output=e.exports.exists=e.exports.hash=e.exports.bytes=e.exports.bool=e.exports.number=e.exports.isBytes=void 0,e.exports.number=r,e.exports.bool=n,e.exports.isBytes=o,e.exports.bytes=i,e.exports.hash=a,e.exports.exists=s,e.exports.output=c;const u={number:r,bool:n,bytes:i,hash:a,exists:s,output:c};e.exports.default=u})),i.register("hHQ9F",(function(e,t){"use strict";
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.randomBytes=e.exports.wrapXOFConstructorWithOpts=e.exports.wrapConstructorWithOpts=e.exports.wrapConstructor=e.exports.checkOpts=e.exports.Hash=e.exports.concatBytes=e.exports.toBytes=e.exports.utf8ToBytes=e.exports.asyncLoop=e.exports.nextTick=e.exports.hexToBytes=e.exports.bytesToHex=e.exports.byteSwap32=e.exports.byteSwapIfBE=e.exports.byteSwap=e.exports.isLE=e.exports.rotl=e.exports.rotr=e.exports.createView=e.exports.u32=e.exports.u8=e.exports.isBytes=void 0;var r=i("IX2eU"),n=i("lJYNc");e.exports.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name};e.exports.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.exports.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));e.exports.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);e.exports.rotr=(e,t)=>e<<32-t|e>>>t;e.exports.rotl=(e,t)=>e<<t|e>>>32-t>>>0,e.exports.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];e.exports.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,e.exports.byteSwapIfBE=e.exports.isLE?e=>e:t=>(0,e.exports.byteSwap)(t),e.exports.byteSwap32=function(t){for(let r=0;r<t.length;r++)t[r]=(0,e.exports.byteSwap)(t[r])};const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));e.exports.bytesToHex=function(e){(0,n.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=o[e[r]];return t};const a=48,s=57,c=65,u=70,f=97,l=102;function d(e){return e>=a&&e<=s?e-a:e>=c&&e<=u?e-(c-10):e>=f&&e<=l?e-(f-10):void 0}e.exports.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,o=0;t<r;t++,o+=2){const r=d(e.charCodeAt(o)),i=d(e.charCodeAt(o+1));if(void 0===r||void 0===i){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}n[t]=16*r+i}return n};function h(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function p(e){return"string"==typeof e&&(e=h(e)),(0,n.bytes)(e),e}e.exports.nextTick=async()=>{},e.exports.asyncLoop=async function(t,r,n){let o=Date.now();for(let i=0;i<t;i++){n(i);const t=Date.now()-o;t>=0&&t<r||(await(0,e.exports.nextTick)(),o+=t)}},e.exports.utf8ToBytes=h,e.exports.toBytes=p,e.exports.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){const o=e[r];(0,n.bytes)(o),t+=o.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const o=e[t];r.set(o,n),n+=o.length}return r};e.exports.Hash=class{clone(){return this._cloneInto()}};const b={}.toString;e.exports.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==b.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},e.exports.wrapConstructor=function(e){const t=t=>e().update(p(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},e.exports.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.exports.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(p(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.exports.randomBytes=function(e=32){if(r.crypto&&"function"==typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}})),i.register("IX2eU",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.crypto=void 0,e.exports.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0})),i.register("52IAl",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.bls=void 0;var r=i("lGn4F"),n=i("faDxk"),o=i("3tqJa"),a=i("8hMpN");const s=BigInt(2),c=BigInt(3);e.exports.bls=function(e){const{Fp:t,Fr:i,Fp2:u,Fp6:f,Fp12:l}=e.fields,d=(0,n.bitLen)(e.params.x);function h(t){const{x:r,y:o}=t,i=r,a=o;let f=i,l=a,h=u.ONE,p=[];for(let t=d-2;t>=0;t--){let r=u.sqr(l),o=u.sqr(h),d=u.multiplyByB(u.mul(o,c)),b=u.mul(d,c),y=u.sub(u.sub(u.sqr(u.add(l,h)),o),r);if(p.push([u.sub(d,r),u.mul(u.sqr(f),c),u.neg(y)]),f=u.div(u.mul(u.mul(u.sub(r,b),f),l),s),l=u.sub(u.sqr(u.div(u.add(r,b),s)),u.mul(u.sqr(d),c)),h=u.mul(r,y),(0,n.bitGet)(e.params.x,t)){let e=u.sub(l,u.mul(a,h)),t=u.sub(f,u.mul(i,h));p.push([u.sub(u.mul(e,i),u.mul(t,a)),u.neg(e),t]);let r=u.sqr(t),n=u.mul(r,t),o=u.mul(r,f),c=u.add(u.sub(n,u.mul(o,s)),u.mul(u.sqr(e),h));f=u.mul(t,c),l=u.sub(u.mul(u.sub(o,c),e),u.mul(n,l)),h=u.mul(h,n)}}return p}function p(t,r){const{x:o}=e.params,i=r[0],a=r[1];let s=l.ONE;for(let e=0,r=d-2;r>=0;r--,e++){const c=t[e];if(s=l.multiplyBy014(s,c[0],u.mul(c[1],i),u.mul(c[2],a)),(0,n.bitGet)(o,r)){e+=1;const r=t[e];s=l.multiplyBy014(s,r[0],u.mul(r[1],i),u.mul(r[2],a))}0!==r&&(s=l.sqr(s))}return l.conjugate(s)}const b={randomPrivateKey:()=>{const t=(0,r.getMinHashLength)(i.ORDER);return(0,r.mapHashToField)(e.randomBytes(t),i.ORDER)},calcPairingPrecomputes:h},y=(0,a.weierstrassPoints)({n:i.ORDER,...e.G1}),g=Object.assign(y,(0,o.createHasher)(y.ProjectivePoint,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),_=(0,a.weierstrassPoints)({n:i.ORDER,...e.G2}),m=Object.assign(_,(0,o.createHasher)(_.ProjectivePoint,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults})),{ShortSignature:v}=e.G1,{Signature:w}=e.G2;function x(e,t,r=!0){if(e.equals(g.ProjectivePoint.ZERO)||t.equals(m.ProjectivePoint.ZERO))throw new Error("pairing is not available for ZERO point");e.assertValidity(),t.assertValidity();const n=e.toAffine(),o=p(function(e){const t=e;return t._PPRECOMPUTES||(t._PPRECOMPUTES=h(e.toAffine())),t._PPRECOMPUTES}(t),[n.x,n.y]);return r?l.finalExponentiate(o):o}function E(e){return e instanceof g.ProjectivePoint?e:g.ProjectivePoint.fromHex(e)}function B(e,t){return e instanceof g.ProjectivePoint?e:g.hashToCurve((0,n.ensureBytes)("point",e),t)}function O(e){return e instanceof m.ProjectivePoint?e:w.fromHex(e)}function A(e,t){return e instanceof m.ProjectivePoint?e:m.hashToCurve((0,n.ensureBytes)("point",e),t)}return g.ProjectivePoint.BASE._setWindowSize(4),{getPublicKey:function(e){return g.ProjectivePoint.fromPrivateKey(e).toRawBytes(!0)},getPublicKeyForShortSignatures:function(e){return m.ProjectivePoint.fromPrivateKey(e).toRawBytes(!0)},sign:function(e,t,r){const n=A(e,r);n.assertValidity();const o=n.multiply(g.normPrivateKeyToScalar(t));return e instanceof m.ProjectivePoint?o:w.toRawBytes(o)},signShortSignature:function(e,t,r){const n=B(e,r);n.assertValidity();const o=n.multiply(g.normPrivateKeyToScalar(t));return e instanceof g.ProjectivePoint?o:v.toRawBytes(o)},verify:function(e,t,r,n){const o=E(r),i=A(t,n),a=g.ProjectivePoint.BASE,s=O(e),c=x(o.negate(),i,!1),u=x(a,s,!1),f=l.finalExponentiate(l.mul(u,c));return l.eql(f,l.ONE)},verifyBatch:function(e,t,r,n){if(!t.length)throw new Error("Expected non-empty messages array");if(r.length!==t.length)throw new Error("Pubkey count should equal msg count");const o=O(e),i=t.map((e=>A(e,n))),a=r.map(E);try{const e=[];for(const t of new Set(i)){const r=i.reduce(((e,r,n)=>r===t?e.add(a[n]):e),g.ProjectivePoint.ZERO);e.push(x(r,t,!1))}e.push(x(g.ProjectivePoint.BASE.negate(),o,!1));const t=e.reduce(((e,t)=>l.mul(e,t)),l.ONE),r=l.finalExponentiate(t);return l.eql(r,l.ONE)}catch{return!1}},verifyShortSignature:function(e,t,r,n){const o=O(r),i=B(t,n),a=m.ProjectivePoint.BASE,s=E(e),c=x(i,o,!1),u=x(s,a.negate(),!1),f=l.finalExponentiate(l.mul(u,c));return l.eql(f,l.ONE)},aggregatePublicKeys:function(e){if(!e.length)throw new Error("Expected non-empty array");const t=e.map(E).reduce(((e,t)=>e.add(t)),g.ProjectivePoint.ZERO);return e[0]instanceof g.ProjectivePoint?(t.assertValidity(),t):t.toRawBytes(!0)},aggregateSignatures:function(e){if(!e.length)throw new Error("Expected non-empty array");const t=e.map(O).reduce(((e,t)=>e.add(t)),m.ProjectivePoint.ZERO);return e[0]instanceof m.ProjectivePoint?(t.assertValidity(),t):w.toRawBytes(t)},aggregateShortSignatures:function(e){if(!e.length)throw new Error("Expected non-empty array");const t=e.map(E).reduce(((e,t)=>e.add(t)),g.ProjectivePoint.ZERO);return e[0]instanceof g.ProjectivePoint?(t.assertValidity(),t):v.toRawBytes(t)},millerLoop:p,pairing:x,G1:g,G2:m,Signature:w,ShortSignature:v,fields:{Fr:i,Fp:t,Fp2:u,Fp6:f,Fp12:l},params:{x:e.params.x,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:b}}})),i.register("lGn4F",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.mapHashToField=e.exports.getMinHashLength=e.exports.getFieldBytesLength=e.exports.hashToPrivateScalar=e.exports.FpSqrtEven=e.exports.FpSqrtOdd=e.exports.Field=e.exports.nLength=e.exports.FpIsSquare=e.exports.FpDiv=e.exports.FpInvertBatch=e.exports.FpPow=e.exports.validateField=e.exports.isNegativeLE=e.exports.FpSqrt=e.exports.tonelliShanks=e.exports.invert=e.exports.pow2=e.exports.pow=e.exports.mod=void 0;var r=i("faDxk");const n=BigInt(0),o=BigInt(1),a=BigInt(2),s=BigInt(3),c=BigInt(4),u=BigInt(5),f=BigInt(8);BigInt(9),BigInt(16);function l(e,t){const r=e%t;return r>=n?r:t+r}function d(e,t,r){if(r<=n||t<n)throw new Error("Expected power/modulo > 0");if(r===o)return n;let i=o;for(;t>n;)t&o&&(i=i*e%r),e=e*e%r,t>>=o;return i}function h(e,t){if(e===n||t<=n)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=l(e,t),i=t,a=n,s=o,c=o,u=n;for(;r!==n;){const e=i/r,t=i%r,n=a-c*e,o=s-u*e;i=r,r=t,a=c,s=u,c=n,u=o}if(i!==o)throw new Error("invert: does not exist");return l(a,t)}function p(e){const t=(e-o)/a;let r,i,s;for(r=e-o,i=0;r%a===n;r/=a,i++);for(s=a;s<e&&d(s,t,e)!==e-o;s++);if(1===i){const t=(e+o)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const u=(r+o)/a;return function(e,n){if(e.pow(n,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=i,c=e.pow(e.mul(e.ONE,s),r),f=e.pow(n,u),l=e.pow(n,r);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(l);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,o<<BigInt(a-t-1));c=e.sqr(r),f=e.mul(f,r),l=e.mul(l,c),a=t}return f}}function b(e){if(e%c===s){const t=(e+o)/c;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%f===u){const t=(e-u)/f;return function(e,r){const n=e.mul(r,a),o=e.pow(n,t),i=e.mul(r,o),s=e.mul(e.mul(i,a),o),c=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(c),r))throw new Error("Cannot find square root");return c}}return p(e)}e.exports.mod=l,e.exports.pow=d,e.exports.pow2=function(e,t,r){let o=e;for(;t-- >n;)o*=o,o%=r;return o},e.exports.invert=h,e.exports.tonelliShanks=p,e.exports.FpSqrt=b;e.exports.isNegativeLE=(e,t)=>(l(e,t)&o)===o;const y=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function g(e,t,r){if(r<n)throw new Error("Expected power > 0");if(r===n)return e.ONE;if(r===o)return t;let i=e.ONE,a=t;for(;r>n;)r&o&&(i=e.mul(i,a)),a=e.sqr(a),r>>=o;return i}function _(e,t){const r=new Array(t.length),n=t.reduce(((t,n,o)=>e.is0(n)?t:(r[o]=t,e.mul(t,n))),e.ONE),o=e.inv(n);return t.reduceRight(((t,n,o)=>e.is0(n)?t:(r[o]=e.mul(t,r[o]),e.mul(t,n))),o),r}function m(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function v(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function w(e){const t=v(e);return t+Math.ceil(t/2)}e.exports.validateField=function(e){const t=y.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,r.validateObject)(e,t)},e.exports.FpPow=g,e.exports.FpInvertBatch=_,e.exports.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?h(r,e.ORDER):e.inv(r))},e.exports.FpIsSquare=function(e){const t=(e.ORDER-o)/a;return r=>{const n=e.pow(r,t);return e.eql(n,e.ZERO)||e.eql(n,e.ONE)}},e.exports.nLength=m,e.exports.Field=function(e,t,i=!1,a={}){if(e<=n)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:c}=m(e,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=b(e),f=Object.freeze({ORDER:e,BITS:s,BYTES:c,MASK:(0,r.bitMask)(s),ZERO:n,ONE:o,create:t=>l(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return n<=t&&t<e},is0:e=>e===n,isOdd:e=>(e&o)===o,neg:t=>l(-t,e),eql:(e,t)=>e===t,sqr:t=>l(t*t,e),add:(t,r)=>l(t+r,e),sub:(t,r)=>l(t-r,e),mul:(t,r)=>l(t*r,e),pow:(e,t)=>g(f,e,t),div:(t,r)=>l(t*h(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>h(t,e),sqrt:a.sqrt||(e=>u(f,e)),invertBatch:e=>_(f,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>i?(0,r.numberToBytesLE)(e,c):(0,r.numberToBytesBE)(e,c),fromBytes:e=>{if(e.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${e.length}`);return i?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e)}});return Object.freeze(f)},e.exports.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},e.exports.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},e.exports.hashToPrivateScalar=function(e,t,n=!1){const i=(e=(0,r.ensureBytes)("privateHash",e)).length,a=m(t).nByteLength+8;if(a<24||i<a||i>1024)throw new Error(`hashToPrivateScalar: expected ${a}-1024 bytes of input, got ${i}`);return l(n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e),t-o)+o},e.exports.getFieldBytesLength=v,e.exports.getMinHashLength=w,e.exports.mapHashToField=function(e,t,n=!1){const i=e.length,a=v(t),s=w(t);if(i<16||i<s||i>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${i}`);const c=l(n?(0,r.bytesToNumberBE)(e):(0,r.bytesToNumberLE)(e),t-o)+o;return n?(0,r.numberToBytesLE)(c,a):(0,r.numberToBytesBE)(c,a)}})),i.register("faDxk",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.validateObject=e.exports.createHmacDrbg=e.exports.bitMask=e.exports.bitSet=e.exports.bitGet=e.exports.bitLen=e.exports.utf8ToBytes=e.exports.equalBytes=e.exports.concatBytes=e.exports.ensureBytes=e.exports.numberToVarBytesBE=e.exports.numberToBytesLE=e.exports.numberToBytesBE=e.exports.bytesToNumberLE=e.exports.bytesToNumberBE=e.exports.hexToBytes=e.exports.hexToNumber=e.exports.numberToHexUnpadded=e.exports.bytesToHex=e.exports.abytes=e.exports.isBytes=void 0;
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const r=BigInt(0),n=BigInt(1),o=BigInt(2);function i(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function a(e){if(!i(e))throw new Error("Uint8Array expected")}e.exports.isBytes=i,e.exports.abytes=a;const s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function c(e){a(e);let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t}function u(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function f(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}e.exports.bytesToHex=c,e.exports.numberToHexUnpadded=u,e.exports.hexToNumber=f;const l=48,d=57,h=65,p=70,b=97,y=102;function g(e){return e>=l&&e<=d?e-l:e>=h&&e<=p?e-(h-10):e>=b&&e<=y?e-(b-10):void 0}function _(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,o=0;t<r;t++,o+=2){const r=g(e.charCodeAt(o)),i=g(e.charCodeAt(o+1));if(void 0===r||void 0===i){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}n[t]=16*r+i}return n}function m(e,t){return _(e.toString(16).padStart(2*t,"0"))}function v(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];a(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const o=e[t];r.set(o,n),n+=o.length}return r}e.exports.hexToBytes=_,e.exports.bytesToNumberBE=function(e){return f(c(e))},e.exports.bytesToNumberLE=function(e){return a(e),f(c(Uint8Array.from(e).reverse()))},e.exports.numberToBytesBE=m,e.exports.numberToBytesLE=function(e,t){return m(e,t).reverse()},e.exports.numberToVarBytesBE=function(e){return _(u(e))},e.exports.ensureBytes=function(e,t,r){let n;if("string"==typeof t)try{n=_(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!i(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const o=n.length;if("number"==typeof r&&o!==r)throw new Error(`${e} expected ${r} bytes, got ${o}`);return n},e.exports.concatBytes=v,e.exports.equalBytes=function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r},e.exports.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},e.exports.bitLen=function(e){let t;for(t=0;e>r;e>>=n,t+=1);return t},e.exports.bitGet=function(e,t){return e>>BigInt(t)&n},e.exports.bitSet=function(e,t,o){return e|(o?n:r)<<BigInt(t)};e.exports.bitMask=e=>(o<<BigInt(e-1))-n;const w=e=>new Uint8Array(e),x=e=>Uint8Array.from(e);e.exports.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=w(e),o=w(e),i=0;const a=()=>{n.fill(1),o.fill(0),i=0},s=(...e)=>r(o,n,...e),c=(e=w())=>{o=s(x([0]),e),n=s(),0!==e.length&&(o=s(x([1]),e),n=s())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=s();const t=n.slice();r.push(t),e+=n.length}return v(...r)};return(e,t)=>{let r;for(a(),c(e);!(r=t(u()));)c();return a(),r}};const E={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||i(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};e.exports.validateObject=function(e,t,r={}){const n=(t,r,n)=>{const o=E[r];if("function"!=typeof o)throw new Error(`Invalid validator "${r}", expected function`);const i=e[t];if(!(n&&void 0===i||o(i,e)))throw new Error(`Invalid param ${String(t)}=${i} (${typeof i}), expected ${r}`)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}})),i.register("3tqJa",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.createHasher=e.exports.isogenyMap=e.exports.hash_to_field=e.exports.expand_message_xof=e.exports.expand_message_xmd=void 0;var r=i("lGn4F"),n=i("faDxk");const o=n.bytesToNumberBE;function a(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function s(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function c(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function u(e,t,r,o){(0,n.abytes)(e),(0,n.abytes)(t),c(r),t.length>255&&(t=o((0,n.concatBytes)((0,n.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:u}=o,f=Math.ceil(r/i);if(f>255)throw new Error("Invalid xmd length");const l=(0,n.concatBytes)(t,a(t.length,1)),d=a(0,u),h=a(r,2),p=new Array(f),b=o((0,n.concatBytes)(d,e,h,a(0,1),l));p[0]=o((0,n.concatBytes)(b,a(1,1),l));for(let e=1;e<=f;e++){const t=[s(b,p[e-1]),a(e+1,1),l];p[e]=o((0,n.concatBytes)(...t))}return(0,n.concatBytes)(...p).slice(0,r)}function f(e,t,r,o,i){if((0,n.abytes)(e),(0,n.abytes)(t),c(r),t.length>255){const e=Math.ceil(2*o/8);t=i.create({dkLen:e}).update((0,n.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(a(r,2)).update(t).update(a(t.length,1)).digest()}function l(e,t,i){(0,n.validateObject)(i,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:a,k:s,m:l,hash:d,expand:h,DST:p}=i;(0,n.abytes)(e),c(t);const b="string"==typeof p?(0,n.utf8ToBytes)(p):p,y=a.toString(2).length,g=Math.ceil((y+s)/8),_=t*l*g;let m;if("xmd"===h)m=u(e,b,_,d);else if("xof"===h)m=f(e,b,_,s,d);else{if("_internal_pass"!==h)throw new Error('expand must be "xmd" or "xof"');m=e}const v=new Array(t);for(let e=0;e<t;e++){const t=new Array(l);for(let n=0;n<l;n++){const i=g*(n+e*l),s=m.subarray(i,i+g);t[n]=(0,r.mod)(o(s),a)}v[e]=t}return v}e.exports.expand_message_xmd=u,e.exports.expand_message_xof=f,e.exports.hash_to_field=l,e.exports.isogenyMap=function(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,n)=>{const[o,i,a,s]=r.map((r=>r.reduce(((r,n)=>e.add(e.mul(r,t),n)))));return t=e.div(o,i),n=e.mul(n,e.div(a,s)),{x:t,y:n}}},e.exports.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,o){const i=l(n,2,{...r,DST:r.DST,...o}),a=e.fromAffine(t(i[0])),s=e.fromAffine(t(i[1])),c=a.add(s).clearCofactor();return c.assertValidity(),c},encodeToCurve(n,o){const i=l(n,1,{...r,DST:r.encodeDST,...o}),a=e.fromAffine(t(i[0])).clearCofactor();return a.assertValidity(),a}}}})),i.register("8hMpN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.mapToCurveSimpleSWU=e.exports.SWUFpSqrtRatio=e.exports.weierstrass=e.exports.weierstrassPoints=e.exports.DER=void 0;var r=i("lGn4F"),n=i("faDxk"),o=(n=i("faDxk"),i("hd3Sc"));const{bytesToNumberBE:a,hexToBytes:s}=n;e.exports.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:r}=e.exports.DER;if(t.length<2||2!==t[0])throw new r("Invalid signature integer tag");const n=t[1],o=t.subarray(2,n+2);if(!n||o.length!==n)throw new r("Invalid signature integer: wrong length");if(128&o[0])throw new r("Invalid signature integer: negative");if(0===o[0]&&!(128&o[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:a(o),l:t.subarray(n+2)}},toSig(t){const{Err:r}=e.exports.DER,o="string"==typeof t?s(t):t;n.abytes(o);let i=o.length;if(i<2||48!=o[0])throw new r("Invalid signature tag");if(o[1]!==i-2)throw new r("Invalid signature: incorrect length");const{d:a,l:c}=e.exports.DER._parseInt(o.subarray(2)),{d:u,l:f}=e.exports.DER._parseInt(c);if(f.length)throw new r("Invalid signature: left bytes after parsing");return{r:a,s:u}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),o=t(r(e.r)),i=n.length/2,a=o.length/2,s=r(i),c=r(a);return`30${r(a+i+4)}02${c}${o}02${s}${n}`}};const c=BigInt(0),u=BigInt(1),f=BigInt(2),l=BigInt(3),d=BigInt(4);function h(e){const t=function(e){const t=(0,o.validateBasic)(e);n.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:a}=t;if(r){if(!i.eql(a,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:i}=t,a=t.toBytes||((e,t,r)=>{const o=t.toAffine();return n.concatBytes(Uint8Array.from([4]),i.toBytes(o.x),i.toBytes(o.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1);return{x:i.fromBytes(t.subarray(0,i.BYTES)),y:i.fromBytes(t.subarray(i.BYTES,2*i.BYTES))}});function f(e){const{a:r,b:n}=t,o=i.sqr(e),a=i.mul(o,e);return i.add(i.add(a,i.mul(e,r)),n)}if(!i.eql(i.sqr(t.Gy),f(t.Gx)))throw new Error("bad generator point: equation left != right");function d(e){return"bigint"==typeof e&&c<e&&e<t.n}function h(e){if(!d(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(e){const{allowedPrivateKeyLengths:o,nByteLength:i,wrapPrivateKey:a,n:s}=t;if(o&&"bigint"!=typeof e){if(n.isBytes(e)&&(e=n.bytesToHex(e)),"string"!=typeof e||!o.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*i,"0")}let c;try{c="bigint"==typeof e?e:n.bytesToNumberBE((0,n.ensureBytes)("private key",e,i))}catch(t){throw new Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return a&&(c=r.mod(c,s)),h(c),c}const b=new Map;function y(e){if(!(e instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!i.isValid(e))throw new Error("x required");if(null==t||!i.isValid(t))throw new Error("y required");if(null==r||!i.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!i.isValid(t)||!i.isValid(r))throw new Error("invalid affine point");if(e instanceof g)throw new Error("projective point not allowed");const n=e=>i.eql(e,i.ZERO);return n(t)&&n(r)?g.ZERO:new g(t,r,i.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=i.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(g.fromAffine)}static fromHex(e){const t=g.fromAffine(s((0,n.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return g.BASE.multiply(p(e))}_setWindowSize(e){this._WINDOW_SIZE=e,b.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!i.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!i.isValid(e)||!i.isValid(r))throw new Error("bad point: x or y not FE");const n=i.sqr(r),o=f(e);if(!i.eql(n,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(i.isOdd)return!i.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){y(e);const{px:t,py:r,pz:n}=this,{px:o,py:a,pz:s}=e,c=i.eql(i.mul(t,s),i.mul(o,n)),u=i.eql(i.mul(r,s),i.mul(a,n));return c&&u}negate(){return new g(this.px,i.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,n=i.mul(r,l),{px:o,py:a,pz:s}=this;let c=i.ZERO,u=i.ZERO,f=i.ZERO,d=i.mul(o,o),h=i.mul(a,a),p=i.mul(s,s),b=i.mul(o,a);return b=i.add(b,b),f=i.mul(o,s),f=i.add(f,f),c=i.mul(e,f),u=i.mul(n,p),u=i.add(c,u),c=i.sub(h,u),u=i.add(h,u),u=i.mul(c,u),c=i.mul(b,c),f=i.mul(n,f),p=i.mul(e,p),b=i.sub(d,p),b=i.mul(e,b),b=i.add(b,f),f=i.add(d,d),d=i.add(f,d),d=i.add(d,p),d=i.mul(d,b),u=i.add(u,d),p=i.mul(a,s),p=i.add(p,p),d=i.mul(p,b),c=i.sub(c,d),f=i.mul(p,h),f=i.add(f,f),f=i.add(f,f),new g(c,u,f)}add(e){y(e);const{px:r,py:n,pz:o}=this,{px:a,py:s,pz:c}=e;let u=i.ZERO,f=i.ZERO,d=i.ZERO;const h=t.a,p=i.mul(t.b,l);let b=i.mul(r,a),_=i.mul(n,s),m=i.mul(o,c),v=i.add(r,n),w=i.add(a,s);v=i.mul(v,w),w=i.add(b,_),v=i.sub(v,w),w=i.add(r,o);let x=i.add(a,c);return w=i.mul(w,x),x=i.add(b,m),w=i.sub(w,x),x=i.add(n,o),u=i.add(s,c),x=i.mul(x,u),u=i.add(_,m),x=i.sub(x,u),d=i.mul(h,w),u=i.mul(p,m),d=i.add(u,d),u=i.sub(_,d),d=i.add(_,d),f=i.mul(u,d),_=i.add(b,b),_=i.add(_,b),m=i.mul(h,m),w=i.mul(p,w),_=i.add(_,m),m=i.sub(b,m),m=i.mul(h,m),w=i.add(w,m),b=i.mul(_,w),f=i.add(f,b),b=i.mul(x,w),u=i.mul(v,u),u=i.sub(u,b),b=i.mul(v,_),d=i.mul(x,d),d=i.add(d,b),new g(u,f,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(g.ZERO)}wNAF(e){return m.wNAFCached(this,b,e,(e=>{const t=i.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(g.fromAffine)}))}multiplyUnsafe(e){const r=g.ZERO;if(e===c)return r;if(h(e),e===u)return this;const{endo:n}=t;if(!n)return m.unsafeLadder(this,e);let{k1neg:o,k1:a,k2neg:s,k2:f}=n.splitScalar(e),l=r,d=r,p=this;for(;a>c||f>c;)a&u&&(l=l.add(p)),f&u&&(d=d.add(p)),p=p.double(),a>>=u,f>>=u;return o&&(l=l.negate()),s&&(d=d.negate()),d=new g(i.mul(d.px,n.beta),d.py,d.pz),l.add(d)}multiply(e){h(e);let r,n,o=e;const{endo:a}=t;if(a){const{k1neg:e,k1:t,k2neg:s,k2:c}=a.splitScalar(o);let{p:u,f:f}=this.wNAF(t),{p:l,f:d}=this.wNAF(c);u=m.constTimeNegate(e,u),l=m.constTimeNegate(s,l),l=new g(i.mul(l.px,a.beta),l.py,l.pz),r=u.add(l),n=f.add(d)}else{const{p:e,f:t}=this.wNAF(o);r=e,n=t}return g.normalizeZ([r,n])[0]}multiplyAndAddUnsafe(e,t,r){const n=g.BASE,o=(e,t)=>t!==c&&t!==u&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),i=o(this,t).add(o(e,r));return i.is0()?void 0:i}toAffine(e){const{px:t,py:r,pz:n}=this,o=this.is0();null==e&&(e=o?i.ONE:i.inv(n));const a=i.mul(t,e),s=i.mul(r,e),c=i.mul(n,e);if(o)return{x:i.ZERO,y:i.ZERO};if(!i.eql(c,i.ONE))throw new Error("invZ was invalid");return{x:a,y:s}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===u)return!0;if(r)return r(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===u?this:r?r(g,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),a(g,this,e)}toHex(e=!0){return n.bytesToHex(this.toRawBytes(e))}}g.BASE=new g(t.Gx,t.Gy,i.ONE),g.ZERO=new g(i.ZERO,i.ONE,i.ZERO);const _=t.nBitLength,m=(0,o.wNAF)(g,t.endo?Math.ceil(_/2):_);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:p,weierstrassEquation:f,isWithinCurveOrder:d}}function p(e,t){const r=e.ORDER;let n=c;for(let e=r-u;e%f===c;e/=f)n+=u;const o=n,i=f<<o-u-u,a=i*f,s=(r-u)/a,h=(s-u)/f,p=a-u,b=i,y=e.pow(t,s),g=e.pow(t,(s+u)/f);let _=(t,r)=>{let n=y,i=e.pow(r,p),a=e.sqr(i);a=e.mul(a,r);let s=e.mul(t,a);s=e.pow(s,h),s=e.mul(s,i),i=e.mul(s,r),a=e.mul(s,t);let c=e.mul(a,i);s=e.pow(c,b);let l=e.eql(s,e.ONE);i=e.mul(a,g),s=e.mul(c,n),a=e.cmov(i,a,l),c=e.cmov(s,c,l);for(let t=o;t>u;t--){let r=t-f;r=f<<r-u;let o=e.pow(c,r);const s=e.eql(o,e.ONE);i=e.mul(a,n),n=e.mul(n,n),o=e.mul(c,n),a=e.cmov(i,a,s),c=e.cmov(o,c,s)}return{isValid:l,value:a}};if(e.ORDER%d===l){const r=(e.ORDER-l)/d,n=e.sqrt(e.neg(t));_=(t,o)=>{let i=e.sqr(o);const a=e.mul(t,o);i=e.mul(i,a);let s=e.pow(i,r);s=e.mul(s,a);const c=e.mul(s,n),u=e.mul(e.sqr(s),o),f=e.eql(u,t);return{isValid:f,value:e.cmov(c,s,f)}}}return _}e.exports.weierstrassPoints=h,e.exports.weierstrass=function(t){const i=function(e){const t=(0,o.validateBasic)(e);return n.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(t),{Fp:a,n:s}=i,f=a.BYTES+1,l=2*a.BYTES+1;function d(e){return r.mod(e,s)}function p(e){return r.invert(e,s)}const{ProjectivePoint:b,normPrivateKeyToScalar:y,weierstrassEquation:g,isWithinCurveOrder:_}=h({...i,toBytes(e,t,r){const o=t.toAffine(),i=a.toBytes(o.x),s=n.concatBytes;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,a.toBytes(o.y))},fromBytes(e){const t=e.length,r=e[0],o=e.subarray(1);if(t!==f||2!==r&&3!==r){if(t===l&&4===r){return{x:a.fromBytes(o.subarray(0,a.BYTES)),y:a.fromBytes(o.subarray(a.BYTES,2*a.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${f} compressed bytes or ${l} uncompressed bytes`)}{const e=n.bytesToNumberBE(o);if(!(c<(i=e)&&i<a.ORDER))throw new Error("Point is not on curve");const t=g(e);let s;try{s=a.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return 1==(1&r)!==((s&u)===u)&&(s=a.neg(s)),{x:e,y:s}}var i}}),m=e=>n.bytesToHex(n.numberToBytesBE(e,i.nByteLength));function v(e){return e>s>>u}const w=(e,t,r)=>n.bytesToNumberBE(e.slice(t,r));class x{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const t=i.nByteLength;return e=(0,n.ensureBytes)("compactSignature",e,2*t),new x(w(e,0,t),w(e,t,2*t))}static fromDER(t){const{r:r,s:o}=e.exports.DER.toSig((0,n.ensureBytes)("DER",t));return new x(r,o)}assertValidity(){if(!_(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!_(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new x(this.r,this.s,e)}recoverPublicKey(e){const{r:t,s:r,recovery:o}=this,s=A((0,n.ensureBytes)("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const c=2===o||3===o?t+i.n:t;if(c>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=0==(1&o)?"02":"03",f=b.fromHex(u+m(c)),l=p(c),h=d(-s*l),y=d(r*l),g=b.BASE.multiplyAndAddUnsafe(f,h,y);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return n.hexToBytes(this.toDERHex())}toDERHex(){return e.exports.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return n.hexToBytes(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const E={isValidPrivateKey(e){try{return y(e),!0}catch(e){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const e=r.getMinHashLength(i.n);return r.mapHashToField(i.randomBytes(e),i.n)},precompute:(e=8,t=b.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function B(e){const t=n.isBytes(e),r="string"==typeof e,o=(t||r)&&e.length;return t?o===f||o===l:r?o===2*f||o===2*l:e instanceof b}const O=i.bits2int||function(e){const t=n.bytesToNumberBE(e),r=8*e.length-i.nBitLength;return r>0?t>>BigInt(r):t},A=i.bits2int_modN||function(e){return d(O(e))},T=n.bitMask(i.nBitLength);function S(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(c<=e&&e<T))throw new Error(`bigint expected < 2^${i.nBitLength}`);return n.numberToBytesBE(e,i.nByteLength)}function I(e,t,r=F){if(["recovered","canonical"].some((e=>e in r)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:s}=i;let{lowS:f,prehash:l,extraEntropy:h}=r;null==f&&(f=!0),e=(0,n.ensureBytes)("msgHash",e),l&&(e=(0,n.ensureBytes)("prehashed msgHash",o(e)));const g=A(e),m=y(t),w=[S(m),S(g)];if(null!=h&&!1!==h){const e=!0===h?s(a.BYTES):h;w.push((0,n.ensureBytes)("extraEntropy",e))}const E=n.concatBytes(...w),B=g;return{seed:E,k2sig:function(e){const t=O(e);if(!_(t))return;const r=p(t),n=b.BASE.multiply(t).toAffine(),o=d(n.x);if(o===c)return;const i=d(r*d(B+o*m));if(i===c)return;let a=(n.x===o?0:2)|Number(n.y&u),s=i;return f&&v(i)&&(s=function(e){return v(e)?d(-e):e}(i),a^=1),new x(o,s,a)}}}const F={lowS:i.lowS,prehash:!1},N={lowS:i.lowS,prehash:!1};return b.BASE._setWindowSize(8),{CURVE:i,getPublicKey:function(e,t=!0){return b.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(B(e))throw new Error("first arg must be private key");if(!B(t))throw new Error("second arg must be public key");return b.fromHex(t).multiply(y(e)).toRawBytes(r)},sign:function(e,t,r=F){const{seed:o,k2sig:a}=I(e,t,r),s=i;return n.createHmacDrbg(s.hash.outputLen,s.nByteLength,s.hmac)(o,a)},verify:function(t,r,o,a=N){const s=t;if(r=(0,n.ensureBytes)("msgHash",r),o=(0,n.ensureBytes)("publicKey",o),"strict"in a)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:u}=a;let f,l;try{if("string"==typeof s||n.isBytes(s))try{f=x.fromDER(s)}catch(t){if(!(t instanceof e.exports.DER.Err))throw t;f=x.fromCompact(s)}else{if("object"!=typeof s||"bigint"!=typeof s.r||"bigint"!=typeof s.s)throw new Error("PARSE");{const{r:e,s:t}=s;f=new x(e,t)}}l=b.fromHex(o)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&f.hasHighS())return!1;u&&(r=i.hash(r));const{r:h,s:y}=f,g=A(r),_=p(y),m=d(g*_),v=d(h*_),w=b.BASE.multiplyAndAddUnsafe(l,m,v)?.toAffine();return!!w&&d(w.x)===h},ProjectivePoint:b,Signature:x,utils:E}},e.exports.SWUFpSqrtRatio=p,e.exports.mapToCurveSimpleSWU=function(e,t){if(r.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=p(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let o,i,a,s,c,u,f,l;o=e.sqr(r),o=e.mul(o,t.Z),i=e.sqr(o),i=e.add(i,o),a=e.add(i,e.ONE),a=e.mul(a,t.B),s=e.cmov(t.Z,e.neg(i),!e.eql(i,e.ZERO)),s=e.mul(s,t.A),i=e.sqr(a),u=e.sqr(s),c=e.mul(u,t.A),i=e.add(i,c),i=e.mul(i,a),u=e.mul(u,s),c=e.mul(u,t.B),i=e.add(i,c),f=e.mul(o,a);const{isValid:d,value:h}=n(i,u);l=e.mul(o,r),l=e.mul(l,h),f=e.cmov(f,a,d),l=e.cmov(l,h,d);const p=e.isOdd(r)===e.isOdd(l);return l=e.cmov(e.neg(l),l,p),f=e.div(f,s),{x:f,y:l}}}})),i.register("hd3Sc",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.validateBasic=e.exports.wNAF=void 0;var r=i("lGn4F"),n=i("faDxk");const o=BigInt(0),a=BigInt(1);e.exports.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>o;)r&a&&(n=n.add(i)),i=i.double(),r>>=a;return n},precomputeWindow(e,t){const{windows:r,windowSize:o}=n(t),i=[];let a=e,s=a;for(let e=0;e<r;e++){s=a,i.push(s);for(let e=1;e<o;e++)s=s.add(a),i.push(s);a=s.double()}return i},wNAF(t,o,i){const{windows:s,windowSize:c}=n(t);let u=e.ZERO,f=e.BASE;const l=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<s;e++){const t=e*c;let n=Number(i&l);i>>=h,n>c&&(n-=d,i+=a);const s=t,p=t+Math.abs(n)-1,b=e%2!=0,y=n<0;0===n?f=f.add(r(b,o[s])):u=u.add(r(y,o[p]))}return{p:u,f:f}},wNAFCached(e,t,r,n){const o=e._WINDOW_SIZE||1;let i=t.get(e);return i||(i=this.precomputeWindow(e,o),1!==o&&t.set(e,n(i))),this.wNAF(o,i,r)}}},e.exports.validateBasic=function(e){return(0,r.validateField)(e.Fp),(0,n.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,r.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}})),i.register("16yZv",(function(t,r){var n,o;e(t.exports,"Buffer",(function(){return n}),(function(e){return n=e})),e(t.exports,"INSPECT_MAX_BYTES",(function(){return o}),(function(e){return o=e}));var a=i("5u7NT"),s=i("drI6B");const c="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n=l,o=50;const u=2147483647;function f(e){if(e>u)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return d(e,t,r)}function d(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|_(e,t);let n=f(r);const o=n.write(e,t);o!==r&&(n=n.slice(0,o));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return y(t.buffer,t.byteOffset,t.byteLength)}return b(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return y(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return y(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,r);const o=function(e){if(l.isBuffer(e)){const t=0|g(e.length),r=f(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Q(e.length)?f(0):b(e);if("Buffer"===e.type&&Array.isArray(e.data))return b(e.data)}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return h(e),f(e<0?0:0|g(e))}function b(e){const t=e.length<0?0:0|g(e.length),r=f(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function y(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,l.prototype),n}function g(e){if(e>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return 0|e}function _(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(o)return n?-1:W(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Q(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:x(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):x(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function x(e,t,r,n,o){let i,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){let n=-1;for(i=r;i<s;i++)if(u(e,i)===u(t,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===c)return n*a}else-1!==n&&(i-=i-n),n=-1}else for(r+c>s&&(r=s-c),i=r;i>=0;i--){let r=!0;for(let n=0;n<c;n++)if(u(e,i+n)!==u(t,n)){r=!1;break}if(r)return i}return-1}function E(e,t,r,n){r=Number(r)||0;const o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;const i=t.length;let a;for(n>i/2&&(n=i/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(Q(n))return a;e[r+a]=n}return a}function B(e,t,r,n){return J(W(t,e.length-r),e,r,n)}function O(e,t,r,n){return J(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function A(e,t,r,n){return J(K(t),e,r,n)}function T(e,t,r,n){return J(function(e,t){let r,n,o;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);const n=[];let o=t;for(;o<r;){const t=e[o];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(o+a<=r){let r,n,s,c;switch(a){case 1:t<128&&(i=t);break;case 2:r=e[o+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(i=c));break;case 3:r=e[o+1],n=e[o+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:r=e[o+1],n=e[o+2],s=e[o+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=a}return function(e){const t=e.length;if(t<=F)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=F));return r}(n)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return d(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return function(e,t,r){return h(e),e<=0?f(e):void 0!==t?"string"==typeof r?f(e).fill(t,r):f(e).fill(t):f(e)}(e,t,r)},l.allocUnsafe=function(e){return p(e)},l.allocUnsafeSlow=function(e){return p(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=l.allocUnsafe(t);let o=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,Uint8Array))o+t.length>n.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(n,o)):Uint8Array.prototype.set.call(n,t,o);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,o)}o+=t.length}return n},l.byteLength=_,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):m.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const t=o;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},c&&(l.prototype[c]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,o){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;let i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(i,a),c=this.slice(n,o),u=e.slice(t,r);for(let e=0;e<s;++e)if(c[e]!==u[e]){i=c[e],a=u[e];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return E(this,e,t,r);case"utf8":case"utf-8":return B(this,e,t,r);case"ascii":case"latin1":case"binary":return O(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const F=4096;function N(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function C(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function U(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let o="";for(let n=t;n<r;++n)o+=ee[e[n]];return o}function k(e,t,r){const n=e.slice(t,r);let o="";for(let e=0;e<n.length-1;e+=2)o+=String.fromCharCode(n[e]+256*n[e+1]);return o}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,r,n,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function R(e,t,r,n,o){G(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function L(e,t,r,n,o){G(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r+7]=i,i>>=8,e[r+6]=i,i>>=8,e[r+5]=i,i>>=8,e[r+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function D(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,n,o){return t=+t,r>>>=0,o||D(e,0,r,4),s.write(e,t,r,n,23,4),r+4}function H(e,t,r,n,o){return t=+t,r>>>=0,o||D(e,0,r,8),s.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=te((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Z(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),l.prototype.readBigUInt64BE=te((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Z(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let n=t,o=1,i=this[e+--n];for(;n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=te((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Z(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=te((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Z(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),s.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),s.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),s.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),s.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){j(this,e,t,r,Math.pow(2,8*r)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){j(this,e,t,r,Math.pow(2,8*r)-1,0)}let o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=te((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=te((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);j(this,e,t,r,n-1,-n)}let o=0,i=1,a=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);j(this,e,t,r,n-1,-n)}let o=r-1,i=1,a=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=te((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=te((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return H(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return H(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{const i=l.isBuffer(e)?e:l.from(e,n),a=i.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=i[o%a]}return this};const $={};function q(e,t,r){$[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function V(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function G(e,t,r,n,o,i){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new $.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||Z(t,e.length-(r+1))}(n,o,i)}function z(e,t){if("number"!=typeof e)throw new $.ERR_INVALID_ARG_TYPE(t,"number",e)}function Z(e,t,r){if(Math.floor(e)!==e)throw z(e,r),new $.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new $.ERR_BUFFER_OUT_OF_BOUNDS;throw new $.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}q("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),q("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),q("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=V(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=V(o)),o+="n"),n+=` It must be ${t}. Received ${o}`,n}),RangeError);const Y=/[^+/0-9A-Za-z-_]/g;function W(e,t){let r;t=t||1/0;const n=e.length;let o=null;const i=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function K(e){return a.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function J(e,t,r,n){let o;for(o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!=e}const ee=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)t[n+o]=e[r]+e[o]}return t}();function te(e){return"undefined"==typeof BigInt?re:e}function re(){throw new Error("BigInt not supported")}})),i.register("5u7NT",(function(t,r){var n,o;e(t.exports,"toByteArray",(function(){return n}),(function(e){return n=e})),e(t.exports,"fromByteArray",(function(){return o}),(function(e){return o=e})),n=function(e){var t,r,n=l(e),o=n[0],i=n[1],c=new s(function(e,t,r){return 3*(t+r)/4-r}(0,o,i)),u=0,f=i>0?o-4:o;for(r=0;r<f;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===i&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,c[u++]=255&t);1===i&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},o=function(e){for(var t,r=e.length,n=r%3,o=[],a=16383,s=0,c=r-n;s<c;s+=a)o.push(d(e,s,s+a>c?c:s+a));1===n?(t=e[r-1],o.push(i[t>>2]+i[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],o.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"="));return o.join("")};for(var i=[],a=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,f=c.length;u<f;++u)i[u]=c[u],a[c.charCodeAt(u)]=u;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function d(e,t,r){for(var n,o,a=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(i[(o=n)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return a.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63})),i.register("drI6B",(function(t,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var n,o;e(t.exports,"read",(function(){return n}),(function(e){return n=e})),e(t.exports,"write",(function(){return o}),(function(e){return o=e})),n=function(e,t,r,n,o){var i,a,s=8*o-n-1,c=(1<<s)-1,u=c>>1,f=-7,l=r?o-1:0,d=r?-1:1,h=e[t+l];for(l+=d,i=h&(1<<-f)-1,h>>=-f,f+=s;f>0;i=256*i+e[t+l],l+=d,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=n;f>0;a=256*a+e[t+l],l+=d,f-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),i-=u}return(h?-1:1)*a*Math.pow(2,i-n)},o=function(e,t,r,n,o,i){var a,s,c,u=8*i-o-1,f=(1<<u)-1,l=f>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+l>=1?d/c:d*Math.pow(2,1-l))*c>=2&&(a++,c/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*c-1)*Math.pow(2,o),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;e[r+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[r+h]=255&a,h+=p,a/=256,u-=8);e[r+h-p]|=128*b}})),i.register("9CklJ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.gtToHash=e.exports.decryptOnG2=e.exports.decryptOnG1=e.exports.encryptOnG2RFC9380=e.exports.encryptOnG2=e.exports.encryptOnG1=void 0;var r=i("20Bza"),n=i("hHQ9F"),o=i("ckPcK"),a=i("16yZv"),s=i("4ipJw");const c=o.bls12_381.G1,u=o.bls12_381.G2;async function f(e,t,r,i){if(r.length>>8>1)throw new Error("cannot encrypt messages larger than our hash output: 256 bits.");const a=c.hashToCurve(t,{DST:i}),f=u.ProjectivePoint.fromHex(e),p=o.bls12_381.pairing(a,f),b=(0,n.randomBytes)(r.length),y=d(b,r),g=u.ProjectivePoint.BASE.multiply(y),_=l(o.bls12_381.fields.Fp12.pow(p,y),r.length),m=(0,s.xor)(b,_),v=h(b,r.length),w=(0,s.xor)(r,v);return{U:g.toRawBytes(),V:m,W:w}}function l(e,t){return r.sha256.create().update("IBE-H2").update((0,s.fp12ToBytes)(e)).digest().slice(0,t)}e.exports.encryptOnG1=async function(e,t,r){if(r.length>>8>1)throw new Error("cannot encrypt messages larger than our hash output: 256 bits.");const i=u.hashToCurve(t,{DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_"}),a=c.ProjectivePoint.fromHex(e),f=o.bls12_381.pairing(a,i),p=(0,n.randomBytes)(r.length),b=d(p,r),y=c.ProjectivePoint.BASE.multiply(b),g=l(o.bls12_381.fields.Fp12.pow(f,b),r.length),_=(0,s.xor)(p,g),m=h(p,r.length),v=(0,s.xor)(r,m);return{U:y.toRawBytes(),V:_,W:v}},e.exports.encryptOnG2=async function(e,t,r){return f(e,t,r,"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_")},e.exports.encryptOnG2RFC9380=async function(e,t,r){return f(e,t,r,"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_")},e.exports.decryptOnG1=async function(e,t){const r=c.ProjectivePoint.fromHex(t.U),n=u.ProjectivePoint.fromHex(e),i=l(o.bls12_381.pairing(r,n),t.W.length);if(i.length!=t.V.length)throw new Error("XorSigma is of invalid length");const a=(0,s.xor)(i,t.V),f=h(a,t.W.length),p=(0,s.xor)(f,t.W),b=d(a,p);if(!c.ProjectivePoint.BASE.multiply(b).equals(r))throw new Error("invalid proof: rP check failed");return p},e.exports.decryptOnG2=async function(e,t){const r=c.ProjectivePoint.fromHex(e),n=u.ProjectivePoint.fromHex(t.U),i=l(o.bls12_381.pairing(r,n),t.W.length);if(i.length!=t.V.length)throw new Error("XorSigma is of invalid length");const a=(0,s.xor)(i,t.V),f=h(a,t.W.length),p=(0,s.xor)(f,t.W),b=d(a,p);if(!u.ProjectivePoint.BASE.multiply(b).equals(n))throw new Error("invalid proof: rP check failed");return p},e.exports.gtToHash=l;function d(e,t){const n=r.sha256.create().update("IBE-H3").update(e).update(t).digest();for(let e=1;e<65535;e++){let t=n;t=r.sha256.create().update(p(e)).update(t).digest(),t[0]=t[0]>>1;const i=(0,s.bytesToNumberBE)(t);if(i<o.bls12_381.fields.Fr.ORDER)return i}throw new Error("invalid proof: rP check failed")}function h(e,t){return r.sha256.create().update("IBE-H4").update(e).digest().slice(0,t)}function p(e){if(e<0)throw Error("cannot write a negative value as uint!");if(e>65536)throw Error("input value too large to fit in a uint16!");const t=a.Buffer.alloc(2);return t.writeUint16LE(e),t}})),i.register("4ipJw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.fp12ToBytes=e.exports.fp6ToBytes=e.exports.fp2ToBytes=e.exports.fpToBytes=e.exports.bytesToHex=e.exports.bytesToNumberBE=e.exports.xor=void 0;var r=i("16yZv");e.exports.xor=function(e,t){if(e.length!=t.length)throw new Error("Error: incompatible sizes");const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r},e.exports.bytesToNumberBE=function(e){return BigInt("0x"+o(Uint8Array.from(e)))};const n=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function o(e){let t="";for(let r=0;r<e.length;r++)t+=n[e[r]];return t}function a(e){const t=e.toString(16).padStart(96,"0"),n=r.Buffer.alloc(t.length/2);return n.write(t,"hex"),n}function s(e){return r.Buffer.concat([e.c1,e.c0].map(a))}function c(e){return r.Buffer.concat([e.c2,e.c1,e.c0].map(s))}e.exports.bytesToHex=o,e.exports.fpToBytes=a,e.exports.fp2ToBytes=s,e.exports.fp6ToBytes=c,e.exports.fp12ToBytes=function(e){return r.Buffer.concat([e.c1,e.c0].map(c))}})),i.register("bJ2ll",(function(e,t){var r=i("kyusY"),n=i("gBoUh"),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||n;e.exports=c})),i.register("kyusY",(function(e,t){var r=i("iCtxU"),n="object"==typeof self&&self&&self.Object===Object&&self,o=r||n||Function("return this")();e.exports=o})),i.register("iCtxU",(function(e,r){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n})),i.register("gBoUh",(function(e,t){e.exports=function(){return!1}})),i.register("3NEfE",(function(e,t){var r=i("iCtxU"),n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,a=o&&o.exports===n&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}));var a,s,c,u,f,l={},d=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function p(e,t){for(var r in t)e[r]=t[r];return e}function b(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,r){var n,o,i,s={};for(i in t)"key"==i?n=t[i]:"ref"==i?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?a.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===s[i]&&(s[i]=e.defaultProps[i]);return g(e,s,n,o,null)}function g(e,t,r,n,o){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++c:o};return null==o&&null!=s.vnode&&s.vnode(i),i}function _(e){return e.children}function m(e,t){this.props=e,this.context=t}function v(e,t){if(null==t)return e.__?v(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?v(e):null}function w(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return w(e)}}function x(e){(!e.__d&&(e.__d=!0)&&u.push(e)&&!E.__r++||f!==s.debounceRendering)&&((f=s.debounceRendering)||setTimeout)(E)}function E(){for(var e;E.__r=u.length;)e=u.sort((function(e,t){return e.__v.__b-t.__v.__b})),u=[],e.some((function(e){var t,r,n,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(r=[],(n=p({},o)).__v=o.__v+1,C(a,o,n,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,r,null==i?v(o):i,o.__h),U(r,o),o.__e!=i&&w(o)))}))}function B(e,t,r,n,o,i,a,s,c,u){var f,h,p,b,y,m,w,x=n&&n.__k||d,E=x.length;for(r.__k=[],f=0;f<t.length;f++)if(null!=(b=r.__k[f]=null==(b=t[f])||"boolean"==typeof b?null:"string"==typeof b||"number"==typeof b||"bigint"==typeof b?g(null,b,null,null,b):Array.isArray(b)?g(_,{children:b},null,null,null):b.__b>0?g(b.type,b.props,b.key,null,b.__v):b)){if(b.__=r,b.__b=r.__b+1,null===(p=x[f])||p&&b.key==p.key&&b.type===p.type)x[f]=void 0;else for(h=0;h<E;h++){if((p=x[h])&&b.key==p.key&&b.type===p.type){x[h]=void 0;break}p=null}C(e,b,p=p||l,o,i,a,s,c,u),y=b.__e,(h=b.ref)&&p.ref!=h&&(w||(w=[]),p.ref&&w.push(p.ref,null,b),w.push(h,b.__c||y,b)),null!=y?(null==m&&(m=y),"function"==typeof b.type&&b.__k===p.__k?b.__d=c=O(b,c,e):c=T(e,b,p,x,y,c),"function"==typeof r.type&&(r.__d=c)):c&&p.__e==c&&c.parentNode!=e&&(c=v(p))}for(r.__e=m,f=E;f--;)null!=x[f]&&("function"==typeof r.type&&null!=x[f].__e&&x[f].__e==r.__d&&(r.__d=v(n,f+1)),P(x[f],x[f]));if(w)for(f=0;f<w.length;f++)k(w[f],w[++f],w[++f])}function O(e,t,r){for(var n,o=e.__k,i=0;o&&i<o.length;i++)(n=o[i])&&(n.__=e,t="function"==typeof n.type?O(n,t,r):T(r,n,n,o,n.__e,t));return t}function A(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){A(e,t)})):t.push(e)),t}function T(e,t,r,n,o,i){var a,s,c;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==r||o!=i||null==o.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(o),a=null;else{for(s=i,c=0;(s=s.nextSibling)&&c<n.length;c+=2)if(s==o)break e;e.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function S(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||h.test(t)?r:r+"px"}function I(e,t,r,n,o){var i;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||S(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||S(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=r,r?n||e.addEventListener(t,i?N:F,i):e.removeEventListener(t,i?N:F,i);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null!=r&&(!1!==r||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,r):e.removeAttribute(t))}}function F(e){this.l[e.type+!1](s.event?s.event(e):e)}function N(e){this.l[e.type+!0](s.event?s.event(e):e)}function C(e,t,r,n,o,i,c,u,f){var d,h,y,g,w,x,E,O,A,T,S,F,N,C=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(f=r.__h,u=t.__e=r.__e,t.__h=null,i=[u]),(d=s.__b)&&d(t);try{e:if("function"==typeof C){if(O=t.props,A=(d=C.contextType)&&n[d.__c],T=d?A?A.props.value:d.__:n,r.__c?E=(h=t.__c=r.__c).__=h.__E:("prototype"in C&&C.prototype.render?t.__c=h=new C(O,T):(t.__c=h=new m(O,T),h.constructor=C,h.render=j),A&&A.sub(h),h.props=O,h.state||(h.state={}),h.context=T,h.__n=n,y=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=C.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=p({},h.__s)),p(h.__s,C.getDerivedStateFromProps(O,h.__s))),g=h.props,w=h.state,y)null==C.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==C.getDerivedStateFromProps&&O!==g&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(O,T),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(O,h.__s,T)||t.__v===r.__v){h.props=O,h.state=h.__s,t.__v!==r.__v&&(h.__d=!1),h.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach((function(e){e&&(e.__=t)})),h.__h.length&&c.push(h);break e}null!=h.componentWillUpdate&&h.componentWillUpdate(O,h.__s,T),null!=h.componentDidUpdate&&h.__h.push((function(){h.componentDidUpdate(g,w,x)}))}if(h.context=T,h.props=O,h.__v=t,h.__P=e,S=s.__r,F=0,"prototype"in C&&C.prototype.render)h.state=h.__s,h.__d=!1,S&&S(t),d=h.render(h.props,h.state,h.context);else do{h.__d=!1,S&&S(t),d=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++F<25);h.state=h.__s,null!=h.getChildContext&&(n=p(p({},n),h.getChildContext())),y||null==h.getSnapshotBeforeUpdate||(x=h.getSnapshotBeforeUpdate(g,w)),N=null!=d&&d.type===_&&null==d.key?d.props.children:d,B(e,Array.isArray(N)?N:[N],t,r,n,o,i,c,u,f),h.base=t.__e,t.__h=null,h.__h.length&&c.push(h),E&&(h.__E=h.__=null),h.__e=!1}else null==i&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,o,i,s,c){var u,f,d,h=r.props,p=t.props,y=t.type,g=0;if("svg"===y&&(o=!0),null!=i)for(;g<i.length;g++)if((u=i[g])&&"setAttribute"in u==!!y&&(y?u.localName===y:3===u.nodeType)){e=u,i[g]=null;break}if(null==e){if(null===y)return document.createTextNode(p);e=o?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,p.is&&p),i=null,c=!1}if(null===y)h===p||c&&e.data===p||(e.data=p);else{if(i=i&&a.call(e.childNodes),f=(h=r.props||l).dangerouslySetInnerHTML,d=p.dangerouslySetInnerHTML,!c){if(null!=i)for(h={},g=0;g<e.attributes.length;g++)h[e.attributes[g].name]=e.attributes[g].value;(d||f)&&(d&&(f&&d.__html==f.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,r,n,o){var i;for(i in r)"children"===i||"key"===i||i in t||I(e,i,null,r[i],n);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||r[i]===t[i]||I(e,i,t[i],r[i],n)}(e,p,h,o,c),d)t.__k=[];else if(g=t.props.children,B(e,Array.isArray(g)?g:[g],t,r,n,o&&"foreignObject"!==y,i,s,i?i[0]:r.__k&&v(r,0),c),null!=i)for(g=i.length;g--;)null!=i[g]&&b(i[g]);c||("value"in p&&void 0!==(g=p.value)&&(g!==e.value||"progress"===y&&!g||"option"===y&&g!==h.value)&&I(e,"value",g,h.value,!1),"checked"in p&&void 0!==(g=p.checked)&&g!==e.checked&&I(e,"checked",g,h.checked,!1))}return e}(r.__e,t,r,n,o,i,c,f);(d=s.diffed)&&d(t)}catch(e){t.__v=null,(f||null!=i)&&(t.__e=u,t.__h=!!f,i[i.indexOf(u)]=null),s.__e(e,t,r)}}function U(e,t){s.__c&&s.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){s.__e(e,t.__v)}}))}function k(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){s.__e(e,r)}}function P(e,t,r){var n,o;if(s.unmount&&s.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||k(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){s.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&P(n[o],t,"function"!=typeof e.type);r||null==e.__e||b(e.__e),e.__e=e.__d=void 0}function j(e,t,r){return this.constructor(e,r)}function R(e,t,r){var n,o,i;s.__&&s.__(e,t),o=(n="function"==typeof r)?null:r&&r.__k||t.__k,i=[],C(t,e=(!n&&r||t).__k=y(_,null,[e]),o||l,l,void 0!==t.ownerSVGElement,!n&&r?[r]:o?null:t.firstChild?a.call(t.childNodes):null,i,!n&&r?r:o?o.__e:t.firstChild,n),U(i,e)}a=d.slice,s={__e:function(e,t,r,n){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,n||{}),a=o.__d),a)return o.__E=o}catch(t){e=t}throw e}},c=0,m.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(p({},r),this.props)),e&&p(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),x(this))},m.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),x(this))},m.prototype.render=_,u=[],E.__r=0;var L,D,M,H,$=0,q=[],V=[],G=s.__b,z=s.__r,Z=s.diffed,Y=s.__c,W=s.unmount;function K(e,t){s.__h&&s.__h(D,e,$||t),$=0;var r=D.__H||(D.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({__V:V}),r.__[e]}function J(e){return $=1,X(se,e)}function X(e,t,r){var n=K(L++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):se(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],r=n.t(t,e);t!==r&&(n.__N=[r,n.__[1]],n.__c.setState({}))}],n.__c=D,!n.__c.u)){n.__c.__H.u=!0;var o=n.__c.shouldComponentUpdate;n.__c.shouldComponentUpdate=function(e,t,r){var i=n.__c.__H.__.filter((function(e){return e.__c}));return(i.every((function(e){return!e.__N}))||!i.every((function(e){if(!e.__N)return!0;var t=e.__[0];return e.__=e.__N,e.__N=void 0,t===e.__[0]})))&&(!o||o(e,t,r))}}return n.__N||n.__}function Q(e,t){var r=K(L++,3);!s.__s&&ae(r.__H,t)&&(r.__=e,r.o=t,D.__H.__h.push(r))}function ee(e,t){var r=K(L++,7);return ae(r.__H,t)?(r.__V=e(),r.o=t,r.__h=e,r.__V):r.__}function te(e,t){return $=8,ee((function(){return e}),t)}function re(){for(var e;e=q.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(oe),e.__H.__h.forEach(ie),e.__H.__h=[]}catch(t){e.__H.__h=[],s.__e(t,e.__v)}}s.__b=function(e){D=null,G&&G(e)},s.__r=function(e){z&&z(e),L=0;var t=(D=e.__c).__H;t&&(M===D?(t.__h=[],D.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=V,e.__N=e.o=void 0}))):(t.__h.forEach(oe),t.__h.forEach(ie),t.__h=[])),M=D},s.diffed=function(e){Z&&Z(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==q.push(t)&&H===s.requestAnimationFrame||((H=s.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),ne&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);ne&&(t=requestAnimationFrame(r))})(re)),t.__H.__.forEach((function(e){e.o&&(e.__H=e.o),e.__V!==V&&(e.__=e.__V),e.o=void 0,e.__V=V}))),M=D=null},s.__c=function(e,t){t.some((function(e){try{e.__h.forEach(oe),e.__h=e.__h.filter((function(e){return!e.__||ie(e)}))}catch(r){t.some((function(e){e.__h&&(e.__h=[])})),t=[],s.__e(r,e.__v)}})),Y&&Y(e,t)},s.unmount=function(e){W&&W(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach((function(e){try{oe(e)}catch(e){t=e}})),t&&s.__e(t,r.__v))};var ne="function"==typeof requestAnimationFrame;function oe(e){var t=D,r=e.__c;"function"==typeof r&&(e.__c=void 0,r()),D=t}function ie(e){var t=D;e.__c=e.__(),D=t}function ae(e,t){return!e||e.length!==t.length||t.some((function(t,r){return t!==e[r]}))}function se(e,t){return"function"==typeof t?t(e):t}function ce(e,t){for(var r in t)e[r]=t[r];return e}function ue(e,t){for(var r in e)if("__source"!==r&&!(r in t))return!0;for(var n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}function fe(e){this.props=e}(fe.prototype=new m).isPureReactComponent=!0,fe.prototype.shouldComponentUpdate=function(e,t){return ue(this.props,e)||ue(this.state,t)};var le=s.__b;s.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),le&&le(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var de=s.__e;s.__e=function(e,t,r,n){if(e.then)for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return null==t.__e&&(t.__e=r.__e,t.__k=r.__k),o.__c(e,t);de(e,t,r,n)};var he=s.unmount;function pe(){this.__u=0,this.t=null,this.__b=null}function be(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function ye(){this.u=null,this.o=null}s.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),he&&he(e)},(pe.prototype=new m).__c=function(e,t){var r=t.__c,n=this;null==n.t&&(n.t=[]),n.t.push(r);var o=be(n.__v),i=!1,a=function(){i||(i=!0,r.__R=null,o?o(s):s())};r.__R=a;var s=function(){if(!--n.__u){if(n.state.__a){var e=n.state.__a;n.__v.__k[0]=function e(t,r,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,r,n)})),t.__c&&t.__c.__P===r&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}(e,e.__c.__P,e.__c.__O)}var t;for(n.setState({__a:n.__b=null});t=n.t.pop();)t.forceUpdate()}},c=!0===t.__h;n.__u++||c||n.setState({__a:n.__b=n.__v.__k[0]}),e.then(a,a)},pe.prototype.componentWillUnmount=function(){this.t=[]},pe.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,r,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=ce({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=r),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,r,n)}))),t}(this.__b,r,n.__O=n.__P)}this.__b=null}var o=t.__a&&y(_,null,e.fallback);return o&&(o.__h=null),[y(_,null,t.__a?null:e.children),o]};var ge=function(e,t,r){if(++r[1]===r[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(r=e.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.u=r=r[2]}};(ye.prototype=new m).__a=function(e){var t=this,r=be(t.__v),n=t.o.get(e);return n[0]++,function(o){var i=function(){t.props.revealOrder?(n.push(o),ge(t,e,n)):o()};r?r(i):i()}},ye.prototype.render=function(e){this.u=null,this.o=new Map;var t=A(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var r=t.length;r--;)this.o.set(t[r],this.u=[1,0,this.u]);return e.children},ye.prototype.componentDidUpdate=ye.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,r){ge(e,r,t)}))};var _e="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,me=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ve="undefined"!=typeof document,we=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};m.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(m.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var xe=s.event;function Ee(){}function Be(){return this.cancelBubble}function Oe(){return this.defaultPrevented}s.event=function(e){return xe&&(e=xe(e)),e.persist=Ee,e.isPropagationStopped=Be,e.isDefaultPrevented=Oe,e.nativeEvent=e};var Ae={configurable:!0,get:function(){return this.class}},Te=s.vnode;s.vnode=function(e){var t=e.type,r=e.props,n=r;if("string"==typeof t){var o=-1===t.indexOf("-");for(var i in n={},r){var a=r[i];ve&&"children"===i&&"noscript"===t||"value"===i&&"defaultValue"in r&&null==a||("defaultValue"===i&&"value"in r&&null==r.value?i="value":"download"===i&&!0===a?a="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!we(r.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&me.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===a&&(a=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),n[i]&&(i="oninputCapture")),n[i]=a)}"select"==t&&n.multiple&&Array.isArray(n.value)&&(n.value=A(r.children).forEach((function(e){e.props.selected=-1!=n.value.indexOf(e.props.value)}))),"select"==t&&null!=n.defaultValue&&(n.value=A(r.children).forEach((function(e){e.props.selected=n.multiple?-1!=n.defaultValue.indexOf(e.props.value):n.defaultValue==e.props.value}))),e.props=n,r.class!=r.className&&(Ae.enumerable="className"in r,null!=r.className&&(n.class=r.className),Object.defineProperty(n,"className",Ae))}e.$$typeof=_e,Te&&Te(e)};var Se=s.__r;s.__r=function(e){Se&&Se(e),e.__c};const Ie=e=>{const[t,r]=J(e.children[0]?.props.title);return y("div",{class:"row"},y("div",{class:"row justify-content-end"},e.children.map((e=>y(Fe,{text:e.props.title,selected:t===e.props.title,onClick:()=>r(e.props.title)})))),y("div",{class:"row light-bg"},e.children.map((e=>t===e.props.title?e:null))))},Fe=e=>{let t="col col-sm-2 tab-header";return e.selected&&(t+=" tab-header-selected"),y("div",{class:t,onClick:e.onClick},e.text)},Ne=e=>y(_,null,e.children);var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.Buffer=Ce.roundAt=Ce.roundTime=Ce.defaultChainUrl=Ce.defaultChainInfo=Ce.HttpCachingChain=Ce.HttpChainClient=Ce.nonRFCMainnetClient=Ce.mainnetClient=Ce.testnetClient=Ce.timelockDecrypt=Ce.timelockEncrypt=void 0;var Ue=i("lebJ5");Object.defineProperty(Ce,"HttpChainClient",{enumerable:!0,get:function(){return Ue.HttpChainClient}}),Object.defineProperty(Ce,"HttpCachingChain",{enumerable:!0,get:function(){return Ue.HttpCachingChain}}),Object.defineProperty(Ce,"roundTime",{enumerable:!0,get:function(){return Ue.roundTime}}),Object.defineProperty(Ce,"roundAt",{enumerable:!0,get:function(){return Ue.roundAt}});var ke=i("16yZv");Object.defineProperty(Ce,"Buffer",{enumerable:!0,get:function(){return ke.Buffer}});var Pe={},je=Pe&&Pe.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),Re=Pe&&Pe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Le=Pe&&Pe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&je(t,e,r);return Re(t,e),t};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.hashedRoundNumber=Pe.createTimelockEncrypter=void 0;var De=i("20Bza");ke=i("16yZv");const Me=Le(i("9CklJ"));function He(e){const t=ke.Buffer.alloc(8);return t.writeBigUInt64BE(BigInt(e)),(0,De.sha256)(t)}function $e(e){return ke.Buffer.concat([e.U,e.V,e.W])}Pe.createTimelockEncrypter=function(e,t){if(t<1)throw Error("You cannot encrypt for a roundNumber less than 1 (genesis = 0)");return async r=>{const n=await e.chain().info(),o=ke.Buffer.from(n.public_key,"hex"),i=He(t);let a;switch(n.schemeID){case"pedersen-bls-unchained":a=await Me.encryptOnG1(o,i,r);break;case"bls-unchained-on-g1":a=await Me.encryptOnG2(o,i,r);break;case"bls-unchained-g1-rfc9380":a=await Me.encryptOnG2RFC9380(o,i,r);break;default:throw Error(`Unsupported scheme: ${n.schemeID} - you must use a drand network with an unchained scheme for timelock encryption!`)}return[{type:"tlock",args:[`${t}`,n.hash],body:$e(a)}]}},Pe.hashedRoundNumber=He;var qe={};Object.defineProperty(qe,"__esModule",{value:!0}),qe.decryptAge=qe.encryptAge=void 0;var Ve={};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.hkdf=Ve.expand=Ve.extract=void 0;var Ge=i("lJYNc"),ze=i("hHQ9F"),Ze={};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.hmac=Ze.HMAC=void 0;Ge=i("lJYNc"),ze=i("hHQ9F");class Ye extends ze.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,Ge.hash)(e);const r=(0,ze.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,o=new Uint8Array(n);o.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<o.length;e++)o[e]^=54;this.iHash.update(o),this.oHash=e.create();for(let e=0;e<o.length;e++)o[e]^=106;this.oHash.update(o),o.fill(0)}update(e){return(0,Ge.exists)(this),this.iHash.update(e),this}digestInto(e){(0,Ge.exists)(this),(0,Ge.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:o,blockLen:i,outputLen:a}=this;return e.finished=n,e.destroyed=o,e.blockLen=i,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}Ze.HMAC=Ye;function We(e,t,r){return(0,Ge.hash)(e),void 0===r&&(r=new Uint8Array(e.outputLen)),(0,Ze.hmac)(e,(0,ze.toBytes)(r),(0,ze.toBytes)(t))}Ze.hmac=(e,t,r)=>new Ye(e,t).update(r).digest(),Ze.hmac.create=(e,t)=>new Ye(e,t),Ve.extract=We;const Ke=new Uint8Array([0]),Je=new Uint8Array;function Xe(e,t,r,n=32){if((0,Ge.hash)(e),(0,Ge.number)(n),n>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(n/e.outputLen);void 0===r&&(r=Je);const i=new Uint8Array(o*e.outputLen),a=Ze.hmac.create(e,t),s=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let t=0;t<o;t++)Ke[0]=t+1,s.update(0===t?Je:c).update(r).update(Ke).digestInto(c),i.set(c,e.outputLen*t),a._cloneInto(s);return a.destroy(),s.destroy(),c.fill(0),Ke.fill(0),i.slice(0,n)}Ve.expand=Xe;Ve.hkdf=(e,t,r,n,o)=>Xe(e,We(e,t,r),n,o);De=i("20Bza");var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.STREAM=void 0;var et={};Object.defineProperty(et,"__esModule",{value:!0});var tt={};Object.defineProperty(tt,"__esModule",{value:!0});var rt={};Object.defineProperty(rt,"__esModule",{value:!0});var nt={};function ot(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function it(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function at(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function st(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function ct(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function ut(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function ft(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function lt(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function dt(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),ft(e/4294967296>>>0,t,r),ft(e>>>0,t,r+4),t}function ht(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),lt(e>>>0,t,r),lt(e/4294967296>>>0,t,r+4),t}Object.defineProperty(nt,"__esModule",{value:!0}),nt.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},nt.add=function(e,t){return e+t|0},nt.sub=function(e,t){return e-t|0},nt.rotl=function(e,t){return e<<t|e>>>32-t},nt.rotr=function(e,t){return e<<32-t|e>>>t},nt.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},nt.MAX_SAFE_INTEGER=9007199254740991,nt.isSafeInteger=function(e){return nt.isInteger(e)&&e>=-nt.MAX_SAFE_INTEGER&&e<=nt.MAX_SAFE_INTEGER},rt.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},rt.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},rt.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},rt.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},rt.writeUint16BE=ot,rt.writeInt16BE=ot,rt.writeUint16LE=it,rt.writeInt16LE=it,rt.readInt32BE=at,rt.readUint32BE=st,rt.readInt32LE=ct,rt.readUint32LE=ut,rt.writeUint32BE=ft,rt.writeInt32BE=ft,rt.writeUint32LE=lt,rt.writeInt32LE=lt,rt.readInt64BE=function(e,t){void 0===t&&(t=0);var r=at(e,t),n=at(e,t+4);return 4294967296*r+n-4294967296*(n>>31)},rt.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*st(e,t)+st(e,t+4)},rt.readInt64LE=function(e,t){void 0===t&&(t=0);var r=ct(e,t);return 4294967296*ct(e,t+4)+r-4294967296*(r>>31)},rt.readUint64LE=function(e,t){void 0===t&&(t=0);var r=ut(e,t);return 4294967296*ut(e,t+4)+r},rt.writeUint64BE=dt,rt.writeInt64BE=dt,rt.writeUint64LE=ht,rt.writeInt64LE=ht,rt.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,o=1,i=e/8+r-1;i>=r;i--)n+=t[i]*o,o*=256;return n},rt.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,o=1,i=r;i<r+e/8;i++)n+=t[i]*o,o*=256;return n},rt.writeUintBE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!nt.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var o=1,i=e/8+n-1;i>=n;i--)r[i]=t/o&255,o*=256;return r},rt.writeUintLE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!nt.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var o=1,i=n;i<n+e/8;i++)r[i]=t/o&255,o*=256;return r},rt.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},rt.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},rt.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},rt.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},rt.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},rt.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},rt.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},rt.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t};var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e};function bt(e,t,r){for(var n=1634760805,o=857760878,i=2036477234,a=1797285236,s=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],u=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],l=r[19]<<24|r[18]<<16|r[17]<<8|r[16],d=r[23]<<24|r[22]<<16|r[21]<<8|r[20],h=r[27]<<24|r[26]<<16|r[25]<<8|r[24],p=r[31]<<24|r[30]<<16|r[29]<<8|r[28],b=t[3]<<24|t[2]<<16|t[1]<<8|t[0],y=t[7]<<24|t[6]<<16|t[5]<<8|t[4],g=t[11]<<24|t[10]<<16|t[9]<<8|t[8],_=t[15]<<24|t[14]<<16|t[13]<<8|t[12],m=n,v=o,w=i,x=a,E=s,B=c,O=u,A=f,T=l,S=d,I=h,F=p,N=b,C=y,U=g,k=_,P=0;P<20;P+=2)E=(E^=T=T+(N=(N^=m=m+E|0)>>>16|N<<16)|0)>>>20|E<<12,B=(B^=S=S+(C=(C^=v=v+B|0)>>>16|C<<16)|0)>>>20|B<<12,O=(O^=I=I+(U=(U^=w=w+O|0)>>>16|U<<16)|0)>>>20|O<<12,A=(A^=F=F+(k=(k^=x=x+A|0)>>>16|k<<16)|0)>>>20|A<<12,O=(O^=I=I+(U=(U^=w=w+O|0)>>>24|U<<8)|0)>>>25|O<<7,A=(A^=F=F+(k=(k^=x=x+A|0)>>>24|k<<8)|0)>>>25|A<<7,B=(B^=S=S+(C=(C^=v=v+B|0)>>>24|C<<8)|0)>>>25|B<<7,E=(E^=T=T+(N=(N^=m=m+E|0)>>>24|N<<8)|0)>>>25|E<<7,B=(B^=I=I+(k=(k^=m=m+B|0)>>>16|k<<16)|0)>>>20|B<<12,O=(O^=F=F+(N=(N^=v=v+O|0)>>>16|N<<16)|0)>>>20|O<<12,A=(A^=T=T+(C=(C^=w=w+A|0)>>>16|C<<16)|0)>>>20|A<<12,E=(E^=S=S+(U=(U^=x=x+E|0)>>>16|U<<16)|0)>>>20|E<<12,A=(A^=T=T+(C=(C^=w=w+A|0)>>>24|C<<8)|0)>>>25|A<<7,E=(E^=S=S+(U=(U^=x=x+E|0)>>>24|U<<8)|0)>>>25|E<<7,O=(O^=F=F+(N=(N^=v=v+O|0)>>>24|N<<8)|0)>>>25|O<<7,B=(B^=I=I+(k=(k^=m=m+B|0)>>>24|k<<8)|0)>>>25|B<<7;rt.writeUint32LE(m+n|0,e,0),rt.writeUint32LE(v+o|0,e,4),rt.writeUint32LE(w+i|0,e,8),rt.writeUint32LE(x+a|0,e,12),rt.writeUint32LE(E+s|0,e,16),rt.writeUint32LE(B+c|0,e,20),rt.writeUint32LE(O+u|0,e,24),rt.writeUint32LE(A+f|0,e,28),rt.writeUint32LE(T+l|0,e,32),rt.writeUint32LE(S+d|0,e,36),rt.writeUint32LE(I+h|0,e,40),rt.writeUint32LE(F+p|0,e,44),rt.writeUint32LE(N+b|0,e,48),rt.writeUint32LE(C+y|0,e,52),rt.writeUint32LE(U+g|0,e,56),rt.writeUint32LE(k+_|0,e,60)}function yt(e,t,r,n,o){if(void 0===o&&(o=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var i,a;if(0===o){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");a=(i=new Uint8Array(16)).length-t.length,i.set(t,a)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");i=t,a=o}for(var s=new Uint8Array(64),c=0;c<r.length;c+=64){bt(s,i,e);for(var u=c;u<c+64&&u<r.length;u++)n[u]=r[u]^s[u-c];gt(i,0,a)}return pt.wipe(s),0===o&&pt.wipe(i),n}function gt(e,t,r){for(var n=1;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}tt.streamXOR=yt,tt.stream=function(e,t,r,n){return void 0===n&&(n=0),pt.wipe(r),yt(e,t,r,r,n)};var _t={};Object.defineProperty(_t,"__esModule",{value:!0});var mt={};function vt(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Object.defineProperty(mt,"__esModule",{value:!0}),mt.select=function(e,t,r){return~(e-1)&t|e-1&r},mt.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},mt.compare=vt,mt.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==vt(e,t)},_t.DIGEST_LENGTH=16;var wt=function(){function e(e){this.digestLength=_t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=8191&t;var r=e[2]|e[3]<<8;this._r[1]=8191&(t>>>13|r<<3);var n=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|n<<6);var o=e[6]|e[7]<<8;this._r[3]=8191&(n>>>7|o<<9);var i=e[8]|e[9]<<8;this._r[4]=255&(o>>>4|i<<12),this._r[5]=i>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=8191&(i>>>14|a<<2);var s=e[12]|e[13]<<8;this._r[7]=8065&(a>>>11|s<<5);var c=e[14]|e[15]<<8;this._r[8]=8191&(s>>>8|c<<8),this._r[9]=c>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,r){for(var n=this._fin?0:2048,o=this._h[0],i=this._h[1],a=this._h[2],s=this._h[3],c=this._h[4],u=this._h[5],f=this._h[6],l=this._h[7],d=this._h[8],h=this._h[9],p=this._r[0],b=this._r[1],y=this._r[2],g=this._r[3],_=this._r[4],m=this._r[5],v=this._r[6],w=this._r[7],x=this._r[8],E=this._r[9];r>=16;){var B=e[t+0]|e[t+1]<<8;o+=8191&B;var O=e[t+2]|e[t+3]<<8;i+=8191&(B>>>13|O<<3);var A=e[t+4]|e[t+5]<<8;a+=8191&(O>>>10|A<<6);var T=e[t+6]|e[t+7]<<8;s+=8191&(A>>>7|T<<9);var S=e[t+8]|e[t+9]<<8;c+=8191&(T>>>4|S<<12),u+=S>>>1&8191;var I=e[t+10]|e[t+11]<<8;f+=8191&(S>>>14|I<<2);var F=e[t+12]|e[t+13]<<8;l+=8191&(I>>>11|F<<5);var N=e[t+14]|e[t+15]<<8,C=0,U=C;U+=o*p,U+=i*(5*E),U+=a*(5*x),U+=s*(5*w),C=(U+=c*(5*v))>>>13,U&=8191,U+=u*(5*m),U+=f*(5*_),U+=l*(5*g),U+=(d+=8191&(F>>>8|N<<8))*(5*y);var k=C+=(U+=(h+=N>>>5|n)*(5*b))>>>13;k+=o*b,k+=i*p,k+=a*(5*E),k+=s*(5*x),C=(k+=c*(5*w))>>>13,k&=8191,k+=u*(5*v),k+=f*(5*m),k+=l*(5*_),k+=d*(5*g),C+=(k+=h*(5*y))>>>13,k&=8191;var P=C;P+=o*y,P+=i*b,P+=a*p,P+=s*(5*E),C=(P+=c*(5*x))>>>13,P&=8191,P+=u*(5*w),P+=f*(5*v),P+=l*(5*m),P+=d*(5*_);var j=C+=(P+=h*(5*g))>>>13;j+=o*g,j+=i*y,j+=a*b,j+=s*p,C=(j+=c*(5*E))>>>13,j&=8191,j+=u*(5*x),j+=f*(5*w),j+=l*(5*v),j+=d*(5*m);var R=C+=(j+=h*(5*_))>>>13;R+=o*_,R+=i*g,R+=a*y,R+=s*b,C=(R+=c*p)>>>13,R&=8191,R+=u*(5*E),R+=f*(5*x),R+=l*(5*w),R+=d*(5*v);var L=C+=(R+=h*(5*m))>>>13;L+=o*m,L+=i*_,L+=a*g,L+=s*y,C=(L+=c*b)>>>13,L&=8191,L+=u*p,L+=f*(5*E),L+=l*(5*x),L+=d*(5*w);var D=C+=(L+=h*(5*v))>>>13;D+=o*v,D+=i*m,D+=a*_,D+=s*g,C=(D+=c*y)>>>13,D&=8191,D+=u*b,D+=f*p,D+=l*(5*E),D+=d*(5*x);var M=C+=(D+=h*(5*w))>>>13;M+=o*w,M+=i*v,M+=a*m,M+=s*_,C=(M+=c*g)>>>13,M&=8191,M+=u*y,M+=f*b,M+=l*p,M+=d*(5*E);var H=C+=(M+=h*(5*x))>>>13;H+=o*x,H+=i*w,H+=a*v,H+=s*m,C=(H+=c*_)>>>13,H&=8191,H+=u*g,H+=f*y,H+=l*b,H+=d*p;var $=C+=(H+=h*(5*E))>>>13;$+=o*E,$+=i*x,$+=a*w,$+=s*v,C=($+=c*m)>>>13,$&=8191,$+=u*_,$+=f*g,$+=l*y,$+=d*b,o=U=8191&(C=(C=((C+=($+=h*p)>>>13)<<2)+C|0)+(U&=8191)|0),i=k+=C>>>=13,a=P&=8191,s=j&=8191,c=R&=8191,u=L&=8191,f=D&=8191,l=M&=8191,d=H&=8191,h=$&=8191,t+=16,r-=16}this._h[0]=o,this._h[1]=i,this._h[2]=a,this._h[3]=s,this._h[4]=c,this._h[5]=u,this._h[6]=f,this._h[7]=l,this._h[8]=d,this._h[9]=h},e.prototype.finish=function(e,t){void 0===t&&(t=0);var r,n,o,i,a=new Uint16Array(10);if(this._leftover){for(i=this._leftover,this._buffer[i++]=1;i<16;i++)this._buffer[i]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,i=2;i<10;i++)this._h[i]+=r,r=this._h[i]>>>13,this._h[i]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,a[0]=this._h[0]+5,r=a[0]>>>13,a[0]&=8191,i=1;i<10;i++)a[i]=this._h[i]+r,r=a[i]>>>13,a[i]&=8191;for(a[9]-=8192,n=(1^r)-1,i=0;i<10;i++)a[i]&=n;for(n=~n,i=0;i<10;i++)this._h[i]=this._h[i]&n|a[i];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),o=this._h[0]+this._pad[0],this._h[0]=65535&o,i=1;i<8;i++)o=(this._h[i]+this._pad[i]|0)+(o>>>16)|0,this._h[i]=65535&o;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,r=0,n=e.length;if(this._leftover){(t=16-this._leftover)>n&&(t=n);for(var o=0;o<t;o++)this._buffer[this._leftover+o]=e[r+o];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(t=n-n%16,this._blocks(e,r,t),r+=t,n-=t),n){for(o=0;o<n;o++)this._buffer[this._leftover+o]=e[r+o];this._leftover+=n}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return pt.wipe(this._buffer),pt.wipe(this._r),pt.wipe(this._h),pt.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();_t.Poly1305=wt,_t.oneTimeAuth=function(e,t){var r=new wt(e);r.update(t);var n=r.digest();return r.clean(),n},_t.equal=function(e,t){return e.length===_t.DIGEST_LENGTH&&t.length===_t.DIGEST_LENGTH&&mt.equal(e,t)},et.KEY_LENGTH=32,et.NONCE_LENGTH=12,et.TAG_LENGTH=16;var xt=new Uint8Array(16),Et=function(){function e(e){if(this.nonceLength=et.NONCE_LENGTH,this.tagLength=et.TAG_LENGTH,e.length!==et.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(e,o.length-e.length);var i=new Uint8Array(32);tt.stream(this._key,o,i,4);var a,s=t.length+this.tagLength;if(n){if(n.length!==s)throw new Error("ChaCha20Poly1305: incorrect destination length");a=n}else a=new Uint8Array(s);return tt.streamXOR(this._key,o,t,a,4),this._authenticate(a.subarray(a.length-this.tagLength,a.length),i,a.subarray(0,a.length-this.tagLength),r),pt.wipe(o),a},e.prototype.open=function(e,t,r,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var o=new Uint8Array(16);o.set(e,o.length-e.length);var i=new Uint8Array(32);tt.stream(this._key,o,i,4);var a=new Uint8Array(this.tagLength);if(this._authenticate(a,i,t.subarray(0,t.length-this.tagLength),r),!mt.equal(a,t.subarray(t.length-this.tagLength,t.length)))return null;var s,c=t.length-this.tagLength;if(n){if(n.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");s=n}else s=new Uint8Array(c);return tt.streamXOR(this._key,o,t.subarray(0,t.length-this.tagLength),s,4),pt.wipe(o),s},e.prototype.clean=function(){return pt.wipe(this._key),this},e.prototype._authenticate=function(e,t,r,n){var o=new _t.Poly1305(t);n&&(o.update(n),n.length%16>0&&o.update(xt.subarray(n.length%16))),o.update(r),r.length%16>0&&o.update(xt.subarray(r.length%16));var i=new Uint8Array(8);n&&rt.writeUint64LE(n.length,i),o.update(i),rt.writeUint64LE(r.length,i),o.update(i);for(var a=o.digest(),s=0;s<a.length;s++)e[s]=a[s];o.clean(),pt.wipe(a),pt.wipe(i)},e}();et.ChaCha20Poly1305=Et;const Bt=65536,Ot=65552,At=Math.pow(2,32)-1;class Tt{static seal(e,t){const r=new Tt(t),n=Math.ceil(e.length/Bt),o=new Uint8Array(e.length+16*n);for(let t=1;t<=n;t++){const i=t-1,a=t,s=t===n,c=e.slice(i*Bt,a*Bt),u=o.subarray(i*Ot,a*Ot);r.encryptChunk(c,s,u)}return r.clear(),o}static open(e,t){const r=new Tt(t),n=Math.ceil(e.length/Ot),o=new Uint8Array(e.length-16*n);for(let t=1;t<=n;t++){const i=t-1,a=t,s=t===n,c=e.slice(i*Ot,a*Ot),u=o.subarray(i*Bt,a*Bt);r.decryptChunk(c,s,u)}return r.clear(),o}constructor(e){this.key=e.slice(),this.nonce=new Uint8Array(12),this.nonceView=new DataView(this.nonce.buffer),this.counter=0}encryptChunk(e,t,r){if(e.length>Bt)throw new Error("Chunk is too big");if(1===this.nonce[11])throw new Error("Last chunk has been processed");t&&(this.nonce[11]=1);const n=new et.ChaCha20Poly1305(this.key).seal(this.nonce,e);r.set(n),this.incrementCounter()}decryptChunk(e,t,r){if(e.length>Ot)throw new Error("Chunk is too big");if(1===this.nonce[11])throw new Error("Last chunk has been processed");t&&(this.nonce[11]=1);const n=new et.ChaCha20Poly1305(this.key).open(this.nonce,e);if(null==n)throw Error("Error during decryption!");r.set(n),this.incrementCounter()}incrementCounter(){if(this.counter==At)throw new Error("Stream cipher counter has already hit max value! Aborting to avoid nonce reuse - tlock only supports payloads up to 256TB");this.counter+=1,this.nonceView.setUint32(7,this.counter,!1)}clear(){function e(e){for(let t=0;t<e.length;t++)e[t]=0}e(this.key),e(this.nonce),this.counter=0}}Qe.STREAM=Tt;var St={};Object.defineProperty(St,"__esModule",{value:!0}),St.NoOpEncDec=void 0;const It="no-op";St.NoOpEncDec=class{static async wrap(e){return[{type:It,args:[],body:e}]}static async unwrap(e){if(1!==e.length)throw Error("NoOpEncDec only expects a single stanza!");if(e[0].type!==It)throw Error("NoOpEncDec expects the type of the stanza to be no-op");return e[0].body}};var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.readAge=Ft.header=Ft.writeAge=void 0;ke=i("16yZv");var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.sliceUntil=Nt.chunked=Nt.unpaddedBase64Buffer=Nt.unpaddedBase64=void 0;ke=i("16yZv");function Ct(e){const t=ke.Buffer.from(e).toString("base64");let r=t.length-1;for(;"="===t[r];)r--;return t.slice(0,r+1)}Nt.unpaddedBase64=Ct,Nt.unpaddedBase64Buffer=function(e){return ke.Buffer.from(Ct(e),"base64")},Nt.chunked=function(e,t,r=""){const n=[];let o="";for(let i=0,a=0;i<e.length;i++){o+=e[i];i-a*t===t-1?(n.push(o+r),o="",a++):i===e.length-1&&n.push(o+r)}return n},Nt.sliceUntil=function(e,t){let r=0,n=0;for(;n<e.length&&r<t.length;)e[n]===t[r]?++r:r=e[n]===t[0]?1:0,++n;return e.slice(0,n)};var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.random=Ut.createMacKey=void 0;De=i("20Bza"),ke=i("16yZv");function kt(e){return`${e.version}\n${Pt(e.recipients)}---`}Ut.createMacKey=function(e,t,r){const n=(0,Ve.hkdf)(De.sha256,e,"",ke.Buffer.from(t,"utf8"),32);return ke.Buffer.from((0,Ze.hmac)(De.sha256,n,ke.Buffer.from(r,"utf8")))},Ut.random=async function(e){if("object"==typeof window&&"crypto"in window)return window.crypto.getRandomValues(new Uint8Array(e));const t=require("crypto").randomBytes(e);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},Ft.writeAge=function(e){const t=kt(e);return`${t} ${Rt((0,Ut.createMacKey)(e.fileKey,e.headerMacMessage,t))}\n${ke.Buffer.from(e.body).toString("binary")}`},Ft.header=kt;const Pt=e=>e.map((e=>jt(e)+"\n")),jt=e=>{const t=e.type,r=e.args.join(" "),n=(0,Nt.unpaddedBase64)(e.body);return`-> ${t} ${r}\n`+(0,Nt.chunked)(n,64).join("\n")},Rt=e=>(0,Nt.unpaddedBase64)(e);function Lt(e){e.forEach((e=>{for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw Error(`Invalid character ${e[t]} in argument ${e}`)}}))}function Dt(e){let t="";for(let r=Mt(e);null!=r&&(t+=e.shift(),!(r.length<64));r=Mt(e));return t}function Mt(e){return e[0]}Ft.readAge=function(e){const[t,...r]=e.split("\n"),n=function(e){const t=[];for(let r=Mt(e);null!=r&&r.startsWith("->");r=Mt(e)){const[n,...o]=r.slice(3,r.length).split(" ");e.shift(),Lt(o);const i=Dt(e);if(!i)throw Error(`expected stanza '${n} to have a body, but it didn't`);t.push({type:n,args:o,body:ke.Buffer.from(i,"base64")})}if(0===t.length)throw Error("Expected at least one stanza! (beginning with --\x3e)");return t}(r),o="--- ",i=r.shift();if(!i||!i.startsWith(o))throw Error("Expected mac, but there were no more lines left!");return{header:{version:t,recipients:n,mac:ke.Buffer.from(i.slice(o.length,i.length),"base64")},body:ke.Buffer.from(r.join("\n")??"","binary")}};ke=i("16yZv");const Ht="age-encryption.org/v1",$t="header",qt="payload";qe.encryptAge=async function(e,t=St.NoOpEncDec.wrap){const r=await(0,Ut.random)(16),n=await t(r),o=await async function(e,t){const r=await(0,Ut.random)(16),n=(0,Ve.hkdf)(De.sha256,e,r,ke.Buffer.from(qt,"utf8"),32),o=Qe.STREAM.seal(t,n);return ke.Buffer.concat([r,o])}(r,e);return(0,Ft.writeAge)({fileKey:r,version:Ht,recipients:n,headerMacMessage:$t,body:o})},qe.decryptAge=async function(e,t=St.NoOpEncDec.unwrap){const r=(0,Ft.readAge)(e),n=r.header.version;if(n!==Ht)throw Error(`The payload version ${n} is not supported, only age-encryption.org/v1`);const o=await t(r.header.recipients),i=(0,Nt.sliceUntil)(e,"---"),a=(0,Nt.unpaddedBase64Buffer)((0,Ut.createMacKey)(o,$t,i)),s=r.header.mac;if(0!==ke.Buffer.compare(s,a))throw Error("The MAC did not validate for the fileKey and payload!");const c=ke.Buffer.from(r.body.slice(0,16)),u=r.body.slice(16),f=(0,Ve.hkdf)(De.sha256,o,c,ke.Buffer.from(qt,"utf8"),32),l=Qe.STREAM.open(u,f);return ke.Buffer.from(l)};var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.isProbablyArmored=Vt.decodeArmor=Vt.encodeArmor=void 0;ke=i("16yZv");const Gt="-----BEGIN AGE ENCRYPTED FILE-----",zt="-----END AGE ENCRYPTED FILE-----";Vt.encodeArmor=function(e,t=64){const r=ke.Buffer.from(e,"binary").toString("base64"),n=(0,Nt.chunked)(r,t).join("\n");let o=zt;return n.length>0&&64===n[n.length-1].length&&(o="\n"+zt),`${Gt}\n${n}\n${o}\n`},Vt.decodeArmor=function(e,t=64){if((e=e.trimStart()).length-(e=e.trimEnd()).length>1024)throw Error("too much whitespace at the end of the armor payload");if(!e.startsWith(Gt))throw Error(`Armor cannot be decoded if it does not start with a header! i.e. ${Gt}`);if(!e.endsWith(zt))throw Error(`Armor cannot be decoded if it does not end with a footer! i.e. ${zt}`);const r=e.slice(Gt.length,e.length-zt.length),n=r.split("\n");if(n.some((e=>e.length>t)))throw Error(`Armor to decode cannot have lines longer than ${t} (configurable) in order to stop padding attacks`);if(n[n.length-1].length>=t)throw Error(`The last line of an armored payload must be less than ${t} (configurable) to stop padding attacks`);return ke.Buffer.from(r,"base64").toString("binary")},Vt.isProbablyArmored=function(e){return e.startsWith(Gt)};var Zt={},Yt=Zt&&Zt.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),Wt=Zt&&Zt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Kt=Zt&&Zt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&Yt(t,e,r);return Wt(t,e),t};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.createTimelockDecrypter=void 0;ke=i("16yZv"),Ue=i("lebJ5");const Jt=Kt(i("9CklJ"));var Xt=i("ckPcK");Zt.createTimelockDecrypter=function(e){return async r=>{const n=r.find((e=>"tlock"===e.type));if(!n)throw Error("You must pass a timelock stanza!");const{type:o,args:i,body:a}=n;if("tlock"!==o)throw Error('Timelock expects the type of the stanza to be "tlock');if(2!==i.length)throw Error(`Timelock stanza expected 2 args: roundNumber and chainHash. Only received ${i.length}`);const s=await e.chain().info(),c=function(e){const[t]=e,r=Number.parseInt(t);if(r!=r)throw Error(`Expected the roundNumber arg to be a number, but it was ${t}!`);return r}(i);if((0,Ue.roundTime)(s,c)>Date.now())throw Error(`It's too early to decrypt the ciphertext - decryptable at round ${c}`);const u=await(0,Ue.fetchBeacon)(e,c);switch(console.log(`beacon received: ${JSON.stringify(u)}`),s.schemeID){case"pedersen-bls-unchained":{const e=t(a,Xt.bls12_381.G1.ProjectivePoint.BASE);return await Jt.decryptOnG1(ke.Buffer.from(u.signature,"hex"),e)}case"bls-unchained-on-g1":{const e=t(a,Xt.bls12_381.G2.ProjectivePoint.BASE);return await Jt.decryptOnG2(ke.Buffer.from(u.signature,"hex"),e)}case"bls-unchained-g1-rfc9380":{const e=t(a,Xt.bls12_381.G2.ProjectivePoint.BASE);return await Jt.decryptOnG2(ke.Buffer.from(u.signature,"hex"),e)}default:throw Error(`Unsupported scheme: ${s.schemeID} - you must use a drand network with an unchained scheme for timelock decryption!`)}};function t(e,t){const r=t.toRawBytes(!0).byteLength,n=e.subarray(0,r),o=e.subarray(r),i=o.length/2;return{U:n,V:o.subarray(0,i),W:o.subarray(i)}}};var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.TESTNET_CHAIN_INFO=Qt.TESTNET_CHAIN_URL=Qt.defaultChainInfo=Qt.defaultChainUrl=Qt.MAINNET_CHAIN_INFO_NON_RFC=Qt.MAINNET_CHAIN_URL_NON_RFC=Qt.MAINNET_CHAIN_INFO=Qt.MAINNET_CHAIN_URL=void 0,Qt.MAINNET_CHAIN_URL="https://api.drand.sh/52db9ba70e0cc0f6eaf7803dd07447a1f5477735fd3f661792ba94600c84e971",Qt.MAINNET_CHAIN_INFO={public_key:"83cf0f2896adee7eb8b5f01fcad3912212c437e0073e911fb90022d3e760183c8c4b450b6a0a6c3ac6a5776a2d1064510d1fec758c921cc22b0e17e63aaf4bcb5ed66304de9cf809bd274ca73bab4af5a6e9c76a4bc09e76eae8991ef5ece45a",period:3,genesis_time:1692803367,hash:"52db9ba70e0cc0f6eaf7803dd07447a1f5477735fd3f661792ba94600c84e971",groupHash:"f477d5c89f21a17c863a7f937c6a6d15859414d2be09cd448d4279af331c5d3e",schemeID:"bls-unchained-g1-rfc9380",metadata:{beaconID:"quicknet"}},Qt.MAINNET_CHAIN_URL_NON_RFC="https://api.drand.sh/dbd506d6ef76e5f386f41c651dcb808c5bcbd75471cc4eafa3f4df7ad4e4c493",Qt.MAINNET_CHAIN_INFO_NON_RFC={hash:"dbd506d6ef76e5f386f41c651dcb808c5bcbd75471cc4eafa3f4df7ad4e4c493",public_key:"a0b862a7527fee3a731bcb59280ab6abd62d5c0b6ea03dc4ddf6612fdfc9d01f01c31542541771903475eb1ec6615f8d0df0b8b6dce385811d6dcf8cbefb8759e5e616a3dfd054c928940766d9a5b9db91e3b697e5d70a975181e007f87fca5e",period:3,genesis_time:1677685200,groupHash:"a81e9d63f614ccdb144b8ff79fbd4d5a2d22055c0bfe4ee9a8092003dab1c6c0",schemeID:"bls-unchained-on-g1",metadata:{beaconID:"fastnet"}},Qt.defaultChainUrl=Qt.MAINNET_CHAIN_URL,Qt.defaultChainInfo=Qt.MAINNET_CHAIN_INFO,Qt.TESTNET_CHAIN_URL="https://pl-us.testnet.drand.sh/7672797f548f3f4748ac4bf3352fc6c6b6468c9ad40ad456a397545c6e2df5bf",Qt.TESTNET_CHAIN_INFO={hash:"7672797f548f3f4748ac4bf3352fc6c6b6468c9ad40ad456a397545c6e2df5bf",public_key:"8200fc249deb0148eb918d6e213980c5d01acd7fc251900d9260136da3b54836ce125172399ddc69c4e3e11429b62c11",genesis_time:1651677099,period:3,schemeID:"pedersen-bls-unchained",groupHash:"65083634d852ae169e21b6ce5f0410be9ed4cc679b9970236f7875cff667e13d",metadata:{beaconID:"testnet-unchained-3s"}},Object.defineProperty(Ce,"defaultChainInfo",{enumerable:!0,get:function(){return Qt.defaultChainInfo}}),Object.defineProperty(Ce,"defaultChainUrl",{enumerable:!0,get:function(){return Qt.defaultChainUrl}});var er={};Object.defineProperty(er,"__esModule",{value:!0}),er.LIB_VERSION=void 0,er.LIB_VERSION="0.9.0",Ce.timelockEncrypt=async function(e,t,r){const n=(0,Pe.createTimelockEncrypter)(r,e),o=await(0,qe.encryptAge)(t,n);return(0,Vt.encodeArmor)(o)},Ce.timelockDecrypt=async function(e,t){const r=(0,Zt.createTimelockDecrypter)(t);let n=e;return(0,Vt.isProbablyArmored)(e)&&(n=(0,Vt.decodeArmor)(n)),await(0,qe.decryptAge)(n,r)};const tr={userAgent:`tlock-js-${er.LIB_VERSION}`};var rr,nr;Ce.testnetClient=function(){const e={...Ue.defaultChainOptions,chainVerificationParams:{chainHash:Qt.TESTNET_CHAIN_INFO.hash,publicKey:Qt.TESTNET_CHAIN_INFO.public_key}},t=new Ue.HttpCachingChain(Qt.TESTNET_CHAIN_URL,e);return new Ue.HttpChainClient(t,e,tr)},Ce.mainnetClient=function(){const e={...Ue.defaultChainOptions,chainVerificationParams:{chainHash:"52db9ba70e0cc0f6eaf7803dd07447a1f5477735fd3f661792ba94600c84e971",publicKey:"83cf0f2896adee7eb8b5f01fcad3912212c437e0073e911fb90022d3e760183c8c4b450b6a0a6c3ac6a5776a2d1064510d1fec758c921cc22b0e17e63aaf4bcb5ed66304de9cf809bd274ca73bab4af5a6e9c76a4bc09e76eae8991ef5ece45a"}},t=new Ue.HttpCachingChain(Qt.MAINNET_CHAIN_URL,e);return new Ue.HttpChainClient(t,e,tr)},Ce.nonRFCMainnetClient=function(){const e={...Ue.defaultChainOptions,chainVerificationParams:{chainHash:"dbd506d6ef76e5f386f41c651dcb808c5bcbd75471cc4eafa3f4df7ad4e4c493",publicKey:"a0b862a7527fee3a731bcb59280ab6abd62d5c0b6ea03dc4ddf6612fdfc9d01f01c31542541771903475eb1ec6615f8d0df0b8b6dce385811d6dcf8cbefb8759e5e616a3dfd054c928940766d9a5b9db91e3b697e5d70a975181e007f87fca5e"}},t=new Ue.HttpCachingChain(Qt.MAINNET_CHAIN_URL_NON_RFC,e);return new Ue.HttpChainClient(t,e,tr)};try{rr=Map}catch(e){}try{nr=Set}catch(e){}function or(e,t,r){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(ir);if(rr&&e instanceof rr)return new Map(Array.from(e.entries()));if(nr&&e instanceof nr)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var n=Object.create(e);for(var o in r.push(n),e){var i=t.findIndex((function(t){return t===e[o]}));n[o]=i>-1?r[i]:or(e[o],t,r)}return n}return e}function ir(e){return or(e,[],[])}const ar=Object.prototype.toString,sr=Error.prototype.toString,cr=RegExp.prototype.toString,ur="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",fr=/^Symbol\((.*)\)(.*)$/;function lr(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const r=typeof e;if("number"===r)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===r)return t?`"${e}"`:e;if("function"===r)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===r)return ur.call(e).replace(fr,"Symbol($1)");const n=ar.call(e).slice(8,-1);return"Date"===n?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===n||e instanceof Error?"["+sr.call(e)+"]":"RegExp"===n?cr.call(e):null}function dr(e,t){let r=lr(e,t);return null!==r?r:JSON.stringify(e,(function(e,r){let n=lr(this[e],t);return null!==n?n:r}),2)}let hr={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:n})=>{let o=null!=n&&n!==r,i=`${e} must be a \`${t}\` type, but the final value was: \`${dr(r,!0)}\``+(o?` (cast from the value \`${dr(n,!0)}\`).`:".");return null===r&&(i+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),i},defined:"${path} must be defined"},pr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},br={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},yr={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},gr={isValue:"${path} field must be ${value}"},_r={noUnknown:"${path} field has unspecified keys: ${unknown}"},mr={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:hr,string:pr,number:br,date:yr,object:_r,array:mr,boolean:gr});var vr,wr,xr=Object.prototype.hasOwnProperty;wr=function(e,t){return null!=e&&xr.call(e,t)};var Er={},Br={},Or={},Ar=Array.isArray;Or=Ar;var Tr,Sr={},Ir={},Fr={};Tr=(Un=i("kyusY")).Symbol;var Nr={},Cr=Object.prototype,Ur=Cr.hasOwnProperty,kr=Cr.toString,Pr=Tr?Tr.toStringTag:void 0;Nr=function(e){var t=Ur.call(e,Pr),r=e[Pr];try{e[Pr]=void 0;var n=!0}catch(e){}var o=kr.call(e);return n&&(t?e[Pr]=r:delete e[Pr]),o};var jr={},Rr=Object.prototype.toString;jr=function(e){return Rr.call(e)};var Lr=Tr?Tr.toStringTag:void 0;Fr=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Lr&&Lr in Object(e)?Nr(e):jr(e)};var Dr={};Dr=function(e){return null!=e&&"object"==typeof e};Ir=function(e){return"symbol"==typeof e||Dr(e)&&"[object Symbol]"==Fr(e)};var Mr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hr=/^\w*$/;Sr=function(e,t){if(Or(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Ir(e))||(Hr.test(e)||!Mr.test(e)||null!=t&&e in Object(t))};var $r,qr,Vr={},Gr={},zr={},Zr={},Yr={},Wr={},Kr={},Jr={},Xr={};Xr=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};Jr=function(e){if(!Xr(e))return!1;var t=Fr(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var Qr,en,tn={},rn=(Un=i("kyusY"))["__core-js_shared__"],nn=(en=/[^.]+$/.exec((Qr=rn)&&Qr.keys&&Qr.keys.IE_PROTO||""))?"Symbol(src)_1."+en:"";tn=function(e){return!!nn&&nn in e};var on={},an=Function.prototype.toString;on=function(e){if(null!=e){try{return an.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var sn=/^\[object .+?Constructor\]$/,cn=Function.prototype,un=Object.prototype,fn=cn.toString,ln=un.hasOwnProperty,dn=RegExp("^"+fn.call(ln).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Kr=function(e){return!(!Xr(e)||tn(e))&&(Jr(e)?dn:sn).test(on(e))};var hn={};hn=function(e,t){return null==e?void 0:e[t]};var pn=(Wr=function(e,t){var r=hn(e,t);return Kr(r)?r:void 0})(Object,"create");Yr=pn,qr=function(){this.__data__=Yr?Yr(null):{},this.size=0};var bn;bn=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var yn,gn=Object.prototype.hasOwnProperty;yn=function(e){var t=this.__data__;if(Yr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return gn.call(t,e)?t[e]:void 0};var _n,mn=Object.prototype.hasOwnProperty;_n=function(e){var t=this.__data__;return Yr?void 0!==t[e]:mn.call(t,e)};var vn;function wn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vn=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Yr&&void 0===t?"__lodash_hash_undefined__":t,this},wn.prototype.clear=qr,wn.prototype.delete=bn,wn.prototype.get=yn,wn.prototype.has=_n,wn.prototype.set=vn,Zr=wn;var xn,En={};xn=function(){this.__data__=[],this.size=0};var Bn,On={},An={};An=function(e,t){return e===t||e!=e&&t!=t},On=function(e,t){for(var r=e.length;r--;)if(An(e[r][0],t))return r;return-1};var Tn=Array.prototype.splice;Bn=function(e){var t=this.__data__,r=On(t,e);return!(r<0)&&(r==t.length-1?t.pop():Tn.call(t,r,1),--this.size,!0)};var Sn;Sn=function(e){var t=this.__data__,r=On(t,e);return r<0?void 0:t[r][1]};var In;In=function(e){return On(this.__data__,e)>-1};var Fn;function Nn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fn=function(e,t){var r=this.__data__,n=On(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Nn.prototype.clear=xn,Nn.prototype.delete=Bn,Nn.prototype.get=Sn,Nn.prototype.has=In,Nn.prototype.set=Fn,En=Nn;var Cn={},Un=i("kyusY"),kn=Wr(Un,"Map");Cn=kn,$r=function(){this.size=0,this.__data__={hash:new Zr,map:new(Cn||En),string:new Zr}};var Pn,jn={},Rn={};Rn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},jn=function(e,t){var r=e.__data__;return Rn(t)?r["string"==typeof t?"string":"hash"]:r.map},Pn=function(e){var t=jn(this,e).delete(e);return this.size-=t?1:0,t};var Ln;Ln=function(e){return jn(this,e).get(e)};var Dn;Dn=function(e){return jn(this,e).has(e)};var Mn;function Hn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Mn=function(e,t){var r=jn(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Hn.prototype.clear=$r,Hn.prototype.delete=Pn,Hn.prototype.get=Ln,Hn.prototype.has=Dn,Hn.prototype.set=Mn,zr=Hn;function $n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new($n.Cache||zr),r}$n.Cache=zr,Gr=$n;var qn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vn=/\\(\\)?/g,Gn=function(e){var t=Gr(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(qn,(function(e,r,n,o){t.push(n?o.replace(Vn,"$1"):r||e)})),t}));Vr=Gn;var zn={},Zn={},Yn={};Yn=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o};var Wn=Tr?Tr.prototype:void 0,Kn=Wn?Wn.toString:void 0;Zn=function e(t){if("string"==typeof t)return t;if(Or(t))return Yn(t,e)+"";if(Ir(t))return Kn?Kn.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r},zn=function(e){return null==e?"":Zn(e)},Br=function(e,t){return Or(e)?e:Sr(e,t)?[e]:Vr(zn(e))};var Jn={},Xn={};Xn=function(e){return Dr(e)&&"[object Arguments]"==Fr(e)};var Qn=Object.prototype,eo=Qn.hasOwnProperty,to=Qn.propertyIsEnumerable,ro=Xn(function(){return arguments}())?Xn:function(e){return Dr(e)&&eo.call(e,"callee")&&!to.call(e,"callee")};Jn=ro;var no={},oo=/^(?:0|[1-9]\d*)$/;no=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&oo.test(e))&&e>-1&&e%1==0&&e<t};var io={};io=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var ao={};ao=function(e){if("string"==typeof e||Ir(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},Er=function(e,t,r){for(var n=-1,o=(t=Br(t,e)).length,i=!1;++n<o;){var a=ao(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&io(o)&&no(a,o)&&(Or(e)||Jn(e))},vr=function(e,t){return null!=e&&Er(e,t,wr)};var so=e=>e&&e.__isYupSchema__;var co=class{constructor(e,t){if(this.fn=void 0,this.refs=e,this.refs=e,"function"==typeof t)return void(this.fn=t);if(!r(vr)(t,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:o,otherwise:i}=t,a="function"==typeof n?n:(...e)=>e.every((e=>e===n));this.fn=function(...e){let t=e.pop(),r=e.pop(),n=a(...e)?o:i;if(n)return"function"==typeof n?n(r):r.concat(n.resolve(t))}}resolve(e,t){let r=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),n=this.fn.apply(e,r.concat(e,t));if(void 0===n||n===e)return e;if(!so(n))throw new TypeError("conditions must return a schema object");return n.resolve(t)}};function uo(e){return null==e?[]:[].concat(e)}function fo(){return fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fo.apply(this,arguments)}let lo=/\$\{\s*(\w+)\s*\}/g;class ho extends Error{static formatError(e,t){const r=t.label||t.path||"this";return r!==t.path&&(t=fo({},t,{path:r})),"string"==typeof e?e.replace(lo,((e,r)=>dr(t[r]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,r,n){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=t,this.path=r,this.type=n,this.errors=[],this.inner=[],uo(e).forEach((e=>{ho.isError(e)?(this.errors.push(...e.errors),this.inner=this.inner.concat(e.inner.length?e.inner:e)):this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,ho)}}function po(e,t){let{endEarly:r,tests:n,args:o,value:i,errors:a,sort:s,path:c}=e,u=(e=>{let t=!1;return(...r)=>{t||(t=!0,e(...r))}})(t),f=n.length;const l=[];if(a=a||[],!f)return a.length?u(new ho(a,i,c)):u(null,i);for(let e=0;e<n.length;e++){(0,n[e])(o,(function(e){if(e){if(!ho.isError(e))return u(e,i);if(r)return e.value=i,u(e,i);l.push(e)}if(--f<=0){if(l.length&&(s&&l.sort(s),a.length&&l.push(...a),a=l),a.length)return void u(new ho(a,i,c),i);u(null,i)}}))}}var bo,yo={},go={},_o=function(){try{var e=Wr(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();go=_o,yo=function(e,t,r){"__proto__"==t&&go?go(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var mo={},vo={};var wo=function(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===r(i[c],c,i))break}return t}}();vo=wo;var xo={},Eo={},Bo={};Bo=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var Oo,Ao=i("bJ2ll"),To={},So={};So["[object Float32Array]"]=So["[object Float64Array]"]=So["[object Int8Array]"]=So["[object Int16Array]"]=So["[object Int32Array]"]=So["[object Uint8Array]"]=So["[object Uint8ClampedArray]"]=So["[object Uint16Array]"]=So["[object Uint32Array]"]=!0,So["[object Arguments]"]=So["[object Array]"]=So["[object ArrayBuffer]"]=So["[object Boolean]"]=So["[object DataView]"]=So["[object Date]"]=So["[object Error]"]=So["[object Function]"]=So["[object Map]"]=So["[object Number]"]=So["[object Object]"]=So["[object RegExp]"]=So["[object Set]"]=So["[object String]"]=So["[object WeakMap]"]=!1,Oo=function(e){return Dr(e)&&io(e.length)&&!!So[Fr(e)]};var Io={};Io=function(e){return function(t){return e(t)}};var Fo=i("3NEfE"),No=Fo&&Fo.isTypedArray,Co=No?Io(No):Oo;To=Co;var Uo=Object.prototype.hasOwnProperty;Eo=function(e,t){var r=Or(e),n=!r&&Jn(e),o=!r&&!n&&Ao(e),i=!r&&!n&&!o&&To(e),a=r||n||o||i,s=a?Bo(e.length,String):[],c=s.length;for(var u in e)!t&&!Uo.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||no(u,c))||s.push(u);return s};var ko={},Po={},jo=Object.prototype;Po=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||jo)};var Ro={};var Lo=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object);Ro=Lo;var Do=Object.prototype.hasOwnProperty;ko=function(e){if(!Po(e))return Ro(e);var t=[];for(var r in Object(e))Do.call(e,r)&&"constructor"!=r&&t.push(r);return t};var Mo={};Mo=function(e){return null!=e&&io(e.length)&&!Jr(e)},xo=function(e){return Mo(e)?Eo(e):ko(e)},mo=function(e,t){return e&&vo(e,t,xo)};var Ho,$o={},qo={},Vo={},Go={};Ho=function(){this.__data__=new En,this.size=0};var zo;zo=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var Zo;Zo=function(e){return this.__data__.get(e)};var Yo;Yo=function(e){return this.__data__.has(e)};var Wo;function Ko(e){var t=this.__data__=new En(e);this.size=t.size}Wo=function(e,t){var r=this.__data__;if(r instanceof En){var n=r.__data__;if(!Cn||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zr(n)}return r.set(e,t),this.size=r.size,this},Ko.prototype.clear=Ho,Ko.prototype.delete=zo,Ko.prototype.get=Zo,Ko.prototype.has=Yo,Ko.prototype.set=Wo,Go=Ko;var Jo,Xo={},Qo={},ei={},ti={};Jo=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var ri;function ni(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new zr;++t<r;)this.add(e[t])}ri=function(e){return this.__data__.has(e)},ni.prototype.add=ni.prototype.push=Jo,ni.prototype.has=ri,ti=ni;var oi={};oi=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var ii={};ii=function(e,t){return e.has(t)};ei=function(e,t,r,n,o,i){var a=1&r,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var l=-1,d=!0,h=2&r?new ti:void 0;for(i.set(e,t),i.set(t,e);++l<s;){var p=e[l],b=t[l];if(n)var y=a?n(b,p,l,t,e,i):n(p,b,l,e,t,i);if(void 0!==y){if(y)continue;d=!1;break}if(h){if(!oi(t,(function(e,t){if(!ii(h,t)&&(p===e||o(p,e,r,n,i)))return h.push(t)}))){d=!1;break}}else if(p!==b&&!o(p,b,r,n,i)){d=!1;break}}return i.delete(e),i.delete(t),d};var ai={},si={},ci=(Un=i("kyusY")).Uint8Array;si=ci;var ui;ui=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var fi;fi=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r};var li=Tr?Tr.prototype:void 0,di=li?li.valueOf:void 0;ai=function(e,t,r,n,o,i,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new si(e),new si(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return An(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=ui;case"[object Set]":var c=1&n;if(s||(s=fi),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;n|=2,a.set(e,t);var f=ei(s(e),s(t),n,o,i,a);return a.delete(e),f;case"[object Symbol]":if(di)return di.call(e)==di.call(t)}return!1};var hi={},pi={},bi={},yi={};yi=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},bi=function(e,t,r){var n=t(e);return Or(e)?n:yi(n,r(e))};var gi,_i={};_i=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i};var mi;mi=function(){return[]};var vi=Object.prototype.propertyIsEnumerable,wi=Object.getOwnPropertySymbols;gi=wi?function(e){return null==e?[]:(e=Object(e),_i(wi(e),(function(t){return vi.call(e,t)})))}:mi,pi=function(e){return bi(e,xo,gi)};var xi=Object.prototype.hasOwnProperty;hi=function(e,t,r,n,o,i){var a=1&r,s=pi(e),c=s.length;if(c!=pi(t).length&&!a)return!1;for(var u=c;u--;){var f=s[u];if(!(a?f in t:xi.call(t,f)))return!1}var l=i.get(e),d=i.get(t);if(l&&d)return l==t&&d==e;var h=!0;i.set(e,t),i.set(t,e);for(var p=a;++u<c;){var b=e[f=s[u]],y=t[f];if(n)var g=a?n(y,b,f,t,e,i):n(b,y,f,e,t,i);if(!(void 0===g?b===y||o(b,y,r,n,i):g)){h=!1;break}p||(p="constructor"==f)}if(h&&!p){var _=e.constructor,m=t.constructor;_==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof m&&m instanceof m||(h=!1)}return i.delete(e),i.delete(t),h};var Ei={},Bi={};Un=i("kyusY");Bi=Wr(Un,"DataView");var Oi={};Un=i("kyusY");Oi=Wr(Un,"Promise");var Ai={};Un=i("kyusY");Ai=Wr(Un,"Set");var Ti={};Un=i("kyusY");Ti=Wr(Un,"WeakMap");var Si="[object Map]",Ii="[object Promise]",Fi="[object Set]",Ni="[object WeakMap]",Ci="[object DataView]",Ui=on(Bi),ki=on(Cn),Pi=on(Oi),ji=on(Ai),Ri=on(Ti),Li=Fr;(Bi&&Li(new Bi(new ArrayBuffer(1)))!=Ci||Cn&&Li(new Cn)!=Si||Oi&&Li(Oi.resolve())!=Ii||Ai&&Li(new Ai)!=Fi||Ti&&Li(new Ti)!=Ni)&&(Li=function(e){var t=Fr(e),r="[object Object]"==t?e.constructor:void 0,n=r?on(r):"";if(n)switch(n){case Ui:return Ci;case ki:return Si;case Pi:return Ii;case ji:return Fi;case Ri:return Ni}return t}),Ei=Li;Ao=i("bJ2ll");var Di="[object Arguments]",Mi="[object Array]",Hi="[object Object]",$i=Object.prototype.hasOwnProperty;Qo=function(e,t,r,n,o,i){var a=Or(e),s=Or(t),c=a?Mi:Ei(e),u=s?Mi:Ei(t),f=(c=c==Di?Hi:c)==Hi,l=(u=u==Di?Hi:u)==Hi,d=c==u;if(d&&Ao(e)){if(!Ao(t))return!1;a=!0,f=!1}if(d&&!f)return i||(i=new Go),a||To(e)?ei(e,t,r,n,o,i):ai(e,t,c,r,n,o,i);if(!(1&r)){var h=f&&$i.call(e,"__wrapped__"),p=l&&$i.call(t,"__wrapped__");if(h||p){var b=h?e.value():e,y=p?t.value():t;return i||(i=new Go),o(b,y,r,n,i)}}return!!d&&(i||(i=new Go),hi(e,t,r,n,o,i))},Xo=function e(t,r,n,o,i){return t===r||(null==t||null==r||!Dr(t)&&!Dr(r)?t!=t&&r!=r:Qo(t,r,n,o,e,i))};Vo=function(e,t,r,n){var o=r.length,i=o,a=!n;if(null==e)return!i;for(e=Object(e);o--;){var s=r[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var c=(s=r[o])[0],u=e[c],f=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{var l=new Go;if(n)var d=n(u,f,c,e,t,l);if(!(void 0===d?Xo(f,u,3,n,l):d))return!1}}return!0};var qi={},Vi={};Vi=function(e){return e==e&&!Xr(e)},qi=function(e){for(var t=xo(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Vi(o)]}return t};var Gi={};Gi=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}},qo=function(e){var t=qi(e);return 1==t.length&&t[0][2]?Gi(t[0][0],t[0][1]):function(r){return r===e||Vo(r,e,t)}};var zi={},Zi={},Yi={};Yi=function(e,t){for(var r=0,n=(t=Br(t,e)).length;null!=e&&r<n;)e=e[ao(t[r++])];return r&&r==n?e:void 0},Zi=function(e,t,r){var n=null==e?void 0:Yi(e,t);return void 0===n?r:n};var Wi,Ki={};Wi=function(e,t){return null!=e&&t in Object(e)},Ki=function(e,t){return null!=e&&Er(e,t,Wi)};zi=function(e,t){return Sr(e)&&Vi(t)?Gi(ao(e),t):function(r){var n=Zi(r,e);return void 0===n&&n===t?Ki(r,e):Xo(t,n,3)}};var Ji;Ji=function(e){return e};var Xi={},Qi={};Qi=function(e){return function(t){return null==t?void 0:t[e]}};var ea={};ea=function(e){return function(t){return Yi(t,e)}},Xi=function(e){return Sr(e)?Qi(ao(e)):ea(e)},$o=function(e){return"function"==typeof e?e:null==e?Ji:"object"==typeof e?Or(e)?zi(e[0],e[1]):qo(e):Xi(e)},bo=function(e,t){var r={};return t=$o(t,3),mo(e,(function(e,n,o){yo(r,n,t(e,n,o))})),r};var ta;function ra(e){this._maxSize=e,this.clear()}ra.prototype.clear=function(){this._size=0,this._values=Object.create(null)},ra.prototype.get=function(e){return this._values[e]},ra.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var na=/[^.^\]^[]+|(?=\[\]|\.\.)/g,oa=/^\d+$/,ia=/^\d/,aa=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,sa=/^\s*(['"]?)(.*?)(\1)\s*$/,ca=new ra(512),ua=new ra(512),fa=new ra(512);function la(e){return ca.get(e)||ca.set(e,da(e).map((function(e){return e.replace(sa,"$2")})))}function da(e){return e.match(na)||[""]}function ha(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function pa(e){return!ha(e)&&(function(e){return e.match(ia)&&!e.match(oa)}(e)||function(e){return aa.test(e)}(e))}ta={Cache:ra,split:da,normalizePath:la,setter:function(e){var t=la(e);return ua.get(e)||ua.set(e,(function(e,r){for(var n=0,o=t.length,i=e;n<o-1;){var a=t[n];if("__proto__"===a||"constructor"===a||"prototype"===a)return e;i=i[t[n++]]}i[t[n]]=r}))},getter:function(e,t){var r=la(e);return fa.get(e)||fa.set(e,(function(e){for(var n=0,o=r.length;n<o;){if(null==e&&t)return;e=e[r[n++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(ha(t)||oa.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,r){!function(e,t,r){var n,o,i,a,s=e.length;for(o=0;o<s;o++)(n=e[o])&&(pa(n)&&(n='"'+n+'"'),i=!(a=ha(n))&&/^\d+$/.test(n),t.call(r,n,a,i,o,e))}(Array.isArray(e)?e:da(e),t,r)}};const ba="$",ya=".";class ga{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ba,this.isValue=this.key[0]===ya,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?ba:this.isValue?ya:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,ta.getter)(this.path,!0),this.map=t.map}getValue(e,t,r){let n=this.isContext?r:this.isValue?e:t;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}function _a(){return _a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(this,arguments)}function ma(e){function t(t,n){let{value:o,path:i="",label:a,options:s,originalValue:c,sync:u}=t,f=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["value","path","label","options","originalValue","sync"]);const{name:l,test:d,params:h,message:p}=e;let{parent:b,context:y}=s;function g(e){return ga.isRef(e)?e.getValue(o,b,y):e}function _(e={}){const t=r(bo)(_a({value:o,originalValue:c,label:a,path:e.path||i},h,e.params),g),n=new ho(ho.formatError(e.message||p,t),o,t.path,e.type||l);return n.params=t,n}let m,v=_a({path:i,parent:b,type:l,createError:_,resolve:g,options:s,originalValue:c},f);if(u){try{var w;if(m=d.call(v,o,v),"function"==typeof(null==(w=m)?void 0:w.then))throw new Error(`Validation test of type: "${v.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(e){return void n(e)}ho.isError(m)?n(m):m?n(null,m):n(_())}else try{Promise.resolve(d.call(v,o,v)).then((e=>{ho.isError(e)?n(e):e?n(null,e):n(_())})).catch(n)}catch(e){n(e)}}return t.OPTIONS=e,t}ga.prototype.__isYupRef=!0;function va(e,t,r,n=r){let o,i,a;return t?((0,ta.forEach)(t,((s,c,u)=>{let f=c?(e=>e.substr(0,e.length-1).substr(1))(s):s;if((e=e.resolve({context:n,parent:o,value:r})).innerType){let n=u?parseInt(f,10):0;if(r&&n>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);o=r,r=r&&r[n],e=e.innerType}if(!u){if(!e.fields||!e.fields[f])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${e._type}")`);o=r,r=r&&r[f],e=e.fields[f]}i=f,a=c?"["+s+"]":"."+s})),{schema:e,parent:o,parentPath:i}):{parent:o,parentPath:t,schema:e}}class wa{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const e=[];for(const t of this.list)e.push(t);for(const[,t]of this.refs)e.push(t.describe());return e}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(e){return this.toArray().reduce(((t,r)=>t.concat(ga.isRef(r)?e(r):r)),[])}add(e){ga.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}delete(e){ga.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}clone(){const e=new wa;return e.list=new Set(this.list),e.refs=new Map(this.refs),e}merge(e,t){const r=this.clone();return e.list.forEach((e=>r.add(e))),e.refs.forEach((e=>r.add(e))),t.list.forEach((e=>r.delete(e))),t.refs.forEach((e=>r.delete(e))),r}}function xa(){return xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xa.apply(this,arguments)}class Ea{constructor(e){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new wa,this._blacklist=new wa,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(hr.notType)})),this.type=(null==e?void 0:e.type)||"mixed",this.spec=xa({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==e?void 0:e.spec)}get _type(){return this.type}_typeCheck(e){return!0}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=xa({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=ir(xa({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const n=xa({},t.spec,r.spec);return r.spec=n,r._typeError||(r._typeError=t._typeError),r._whitelistError||(r._whitelistError=t._whitelistError),r._blacklistError||(r._blacklistError=t._blacklistError),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce(((t,r)=>r.resolve(t,e)),t),t=t.resolve(e)}return t}cast(e,t={}){let r=this.resolve(xa({value:e},t)),n=r._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==r.isType(n)){let o=dr(e),i=dr(n);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r._type}". \n\nattempted value: ${o} \n`+(i!==o?`result of cast: ${i}`:""))}return n}_cast(e,t){let r=void 0===e?e:this.transforms.reduce(((t,r)=>r.call(this,t,e,this)),e);return void 0===r&&(r=this.getDefault()),r}_validate(e,t={},r){let{sync:n,path:o,from:i=[],originalValue:a=e,strict:s=this.spec.strict,abortEarly:c=this.spec.abortEarly}=t,u=e;s||(u=this._cast(u,xa({assert:!1},t)));let f={value:u,path:o,options:t,originalValue:a,schema:this,label:this.spec.label,sync:n,from:i},l=[];this._typeError&&l.push(this._typeError);let d=[];this._whitelistError&&d.push(this._whitelistError),this._blacklistError&&d.push(this._blacklistError),po({args:f,value:u,path:o,sync:n,tests:l,endEarly:c},(e=>{e?r(e,u):po({tests:this.tests.concat(d),args:f,path:o,sync:n,value:u,endEarly:c},r)}))}validate(e,t,r){let n=this.resolve(xa({},t,{value:e}));return"function"==typeof r?n._validate(e,t,r):new Promise(((r,o)=>n._validate(e,t,((e,t)=>{e?o(e):r(t)}))))}validateSync(e,t){let r;return this.resolve(xa({},t,{value:e}))._validate(e,xa({},t,{sync:!0}),((e,t)=>{if(e)throw e;r=t})),r}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(ho.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(ho.isError(e))return!1;throw e}}_getDefault(){let e=this.spec.default;return null==e?e:"function"==typeof e?e.call(this):ir(e)}getDefault(e){return this.resolve(e||{})._getDefault()}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(e=!0){let t=this.clone();return t.spec.strict=e,t}_isPresent(e){return null!=e}defined(e=hr.defined){return this.test({message:e,name:"defined",exclusive:!0,test:e=>void 0!==e})}required(e=hr.required){return this.clone({presence:"required"}).withMutation((t=>t.test({message:e,name:"required",exclusive:!0,test(e){return this.schema._isPresent(e)}})))}notRequired(){let e=this.clone({presence:"optional"});return e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e}nullable(e=!0){return this.clone({nullable:!1!==e})}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=hr.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let r=this.clone(),n=ma(t),o=t.exclusive||t.name&&!0===r.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(o)return!1;if(e.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),r.tests.push(n),r}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let r=this.clone(),n=uo(e).map((e=>new ga(e)));return n.forEach((e=>{e.isSibling&&r.deps.push(e.key)})),r.conditions.push(new co(n,t)),r}typeError(e){let t=this.clone();return t._typeError=ma({message:e,name:"typeError",test(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}oneOf(e,t=hr.oneOf){let r=this.clone();return e.forEach((e=>{r._whitelist.add(e),r._blacklist.delete(e)})),r._whitelistError=ma({message:t,name:"oneOf",test(e){if(void 0===e)return!0;let t=this.schema._whitelist,r=t.resolveAll(this.resolve);return!!r.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:r}})}}),r}notOneOf(e,t=hr.notOneOf){let r=this.clone();return e.forEach((e=>{r._blacklist.add(e),r._whitelist.delete(e)})),r._blacklistError=ma({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,r=t.resolveAll(this.resolve);return!r.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:r}})}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(){const e=this.clone(),{label:t,meta:r}=e.spec;return{meta:r,label:t,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,r)=>r.findIndex((t=>t.name===e.name))===t))}}}Ea.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])Ea.prototype[`${e}At`]=function(t,r,n={}){const{parent:o,parentPath:i,schema:a}=va(this,t,r,n.context);return a[e](o&&o[i],xa({},n,{parent:o,path:t}))};for(const e of["equals","is"])Ea.prototype[e]=Ea.prototype.oneOf;for(const e of["not","nope"])Ea.prototype[e]=Ea.prototype.notOneOf;Ea.prototype.optional=Ea.prototype.notRequired;const Ba=Ea;function Oa(){return new Ba}Oa.prototype=Ba.prototype;var Aa=e=>null==e;let Ta=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,Sa=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Ia=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Fa=e=>Aa(e)||e===e.trim(),Na={}.toString();function Ca(){return new Ua}class Ua extends Ea{constructor(){super({type:"string"}),this.withMutation((()=>{this.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;const t=null!=e&&e.toString?e.toString():e;return t===Na?e:t}))}))}_typeCheck(e){return e instanceof String&&(e=e.valueOf()),"string"==typeof e}_isPresent(e){return super._isPresent(e)&&!!e.length}length(e,t=pr.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test(t){return Aa(t)||t.length===this.resolve(e)}})}min(e,t=pr.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(t){return Aa(t)||t.length>=this.resolve(e)}})}max(e,t=pr.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test(t){return Aa(t)||t.length<=this.resolve(e)}})}matches(e,t){let r,n,o=!1;return t&&("object"==typeof t?({excludeEmptyString:o=!1,message:r,name:n}=t):r=t),this.test({name:n||"matches",message:r||pr.matches,params:{regex:e},test:t=>Aa(t)||""===t&&o||-1!==t.search(e)})}email(e=pr.email){return this.matches(Ta,{name:"email",message:e,excludeEmptyString:!0})}url(e=pr.url){return this.matches(Sa,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=pr.uuid){return this.matches(Ia,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(e=pr.trim){return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:Fa})}lowercase(e=pr.lowercase){return this.transform((e=>Aa(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,test:e=>Aa(e)||e===e.toLowerCase()})}uppercase(e=pr.uppercase){return this.transform((e=>Aa(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,test:e=>Aa(e)||e===e.toUpperCase()})}}Ca.prototype=Ua.prototype;function ka(){return new Pa}class Pa extends Ea{constructor(){super({type:"number"}),this.withMutation((()=>{this.transform((function(e){let t=e;if("string"==typeof t){if(t=t.replace(/\s/g,""),""===t)return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))}))}_typeCheck(e){return e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&!(e=>e!=+e)(e)}min(e,t=br.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(t){return Aa(t)||t>=this.resolve(e)}})}max(e,t=br.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test(t){return Aa(t)||t<=this.resolve(e)}})}lessThan(e,t=br.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test(t){return Aa(t)||t<this.resolve(e)}})}moreThan(e,t=br.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test(t){return Aa(t)||t>this.resolve(e)}})}positive(e=br.positive){return this.moreThan(0,e)}negative(e=br.negative){return this.lessThan(0,e)}integer(e=br.integer){return this.test({name:"integer",message:e,test:e=>Aa(e)||Number.isInteger(e)})}truncate(){return this.transform((e=>Aa(e)?e:0|e))}round(e){var t;let r=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===r.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform((t=>Aa(t)?t:Math[e](t)))}}ka.prototype=Pa.prototype;var ja=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function Ra(e){var t,r,n=[1,4,5,6,7,10,11],o=0;if(r=ja.exec(e)){for(var i,a=0;i=n[a];++a)r[i]=+r[i]||0;r[2]=(+r[2]||1)-1,r[3]=+r[3]||1,r[7]=r[7]?String(r[7]).substr(0,3):0,void 0!==r[8]&&""!==r[8]||void 0!==r[9]&&""!==r[9]?("Z"!==r[8]&&void 0!==r[9]&&(o=60*r[10]+r[11],"+"===r[9]&&(o=0-o)),t=Date.UTC(r[1],r[2],r[3],r[4],r[5]+o,r[6],r[7])):t=+new Date(r[1],r[2],r[3],r[4],r[5],r[6],r[7])}else t=Date.parse?Date.parse(e):NaN;return t}let La=new Date("");function Da(){return new Ma}class Ma extends Ea{constructor(){super({type:"date"}),this.withMutation((()=>{this.transform((function(e){return this.isType(e)?e:(e=Ra(e),isNaN(e)?La:new Date(e))}))}))}_typeCheck(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}prepareParam(e,t){let r;if(ga.isRef(e))r=e;else{let n=this.cast(e);if(!this._typeCheck(n))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=n}return r}min(e,t=yr.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(e){return Aa(e)||e>=this.resolve(r)}})}max(e,t=yr.max){let r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test(e){return Aa(e)||e<=this.resolve(r)}})}}Ma.INVALID_DATE=La,Da.prototype=Ma.prototype,Da.INVALID_DATE=La;var Ha,$a={},qa={};qa=function(e,t,r,n){var o=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r};var Va,Ga={};var za=function(e){return function(t){return null==e?void 0:e[t]}}({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});Va=za;var Za=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ya=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");Ga=function(e){return(e=zn(e))&&e.replace(Za,Va).replace(Ya,"")};var Wa={},Ka={},Ja=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;Ka=function(e){return e.match(Ja)||[]};var Xa={},Qa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;Xa=function(e){return Qa.test(e)};var es={},ts="\\u2700-\\u27bf",rs="a-z\\xdf-\\xf6\\xf8-\\xff",ns="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",os="["+ns+"]",is="\\d+",as="[\\u2700-\\u27bf]",ss="[^\ud800-\udfff"+ns+is+ts+rs+"A-Z\\xc0-\\xd6\\xd8-\\xde]",cs="(?:\ud83c[\udde6-\uddff]){2}",us="[\ud800-\udbff][\udc00-\udfff]",fs="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ls="(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|"+ss+")",ds="(?:"+fs+"|"+ss+")",hs="(?:['](?:d|ll|m|re|s|t|ve))?",ps="(?:['](?:D|LL|M|RE|S|T|VE))?",bs="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?",ys="[\\ufe0e\\ufe0f]?",gs=ys+bs+("(?:\\u200d(?:"+["[^\ud800-\udfff]",cs,us].join("|")+")"+ys+bs+")*"),_s="(?:"+[as,cs,us].join("|")+")"+gs,ms=RegExp([fs+"?"+"[a-z\\xdf-\\xf6\\xf8-\\xff]+"+"(?:['](?:d|ll|m|re|s|t|ve))?(?="+[os,fs,"$"].join("|")+")",ds+"+"+"(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[os,fs+ls,"$"].join("|")+")",fs+"?"+ls+"+"+hs,fs+"+"+ps,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",is,_s].join("|"),"g");es=function(e){return e.match(ms)||[]},Wa=function(e,t,r){return e=zn(e),void 0===(t=r?void 0:t)?Xa(e)?es(e):Ka(e):e.match(t)||[]};var vs=RegExp("[']","g");var ws=($a=function(e){return function(t){return qa(Wa(Ga(t).replace(vs,"")),e,"")}})((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));Ha=ws;var xs,Es={},Bs={},Os={},As={};As=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i},Os=function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:As(e,t,r)};var Ts={},Ss=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");Ts=function(e){return Ss.test(e)};var Is={},Fs={};Fs=function(e){return e.split("")};var Ns={},Cs="[\ud800-\udfff]",Us="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ks="[^\ud800-\udfff]",Ps="(?:\ud83c[\udde6-\uddff]){2}",js="[\ud800-\udbff][\udc00-\udfff]",Rs="(?:"+Us+"|"+"\ud83c[\udffb-\udfff])"+"?",Ls="[\\ufe0e\\ufe0f]?",Ds=Ls+Rs+("(?:\\u200d(?:"+[ks,Ps,js].join("|")+")"+Ls+Rs+")*"),Ms="(?:"+[ks+Us+"?",Us,Ps,js,Cs].join("|")+")",Hs=RegExp("\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|"+Ms+Ds,"g");Ns=function(e){return e.match(Hs)||[]},Is=function(e){return Ts(e)?Ns(e):Fs(e)};var $s=function(e){return function(t){t=zn(t);var r=Ts(t)?Is(t):void 0,n=r?r[0]:t.charAt(0),o=r?Os(r,1).join(""):t.slice(1);return n[e]()+o}}("toUpperCase");Bs=$s,Es=function(e){return Bs(zn(e).toLowerCase())};var qs=$a((function(e,t,r){return t=t.toLowerCase(),e+(r?Es(t):t)}));xs=qs;var Vs;Vs=function(e,t){var r={};return t=$o(t,3),mo(e,(function(e,n,o){yo(r,t(e,n,o),e)})),r};var Gs;function zs(e,t){var r=e.length,n=new Array(r),o={},i=r,a=function(e){for(var t=new Map,r=0,n=e.length;r<n;r++){var o=e[r];t.has(o[0])||t.set(o[0],new Set),t.has(o[1])||t.set(o[1],new Set),t.get(o[0]).add(o[1])}return t}(t),s=function(e){for(var t=new Map,r=0,n=e.length;r<n;r++)t.set(e[r],r);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));i--;)o[i]||c(e[i],i,new Set);return n;function c(e,t,i){if(i.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(e){u=""}throw new Error("Cyclic dependency"+u)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!o[t]){o[t]=!0;var f=a.get(e)||new Set;if(t=(f=Array.from(f)).length){i.add(e);do{var l=f[--t];c(l,s.get(l),i)}while(t);i.delete(e)}n[--r]=e}}}function Zs(e,t=[]){let n=[],o=new Set,i=new Set(t.map((([e,t])=>`${e}-${t}`)));function a(e,t){let r=(0,ta.split)(e)[0];o.add(r),i.has(`${t}-${r}`)||n.push([t,r])}for(const t in e)if(r(vr)(e,t)){let r=e[t];o.add(t),ga.isRef(r)&&r.isSibling?a(r.path,t):so(r)&&"deps"in r&&r.deps.forEach((e=>a(e,t)))}return r(Gs).array(Array.from(o),n).reverse()}function Ys(e,t){let r=1/0;return e.some(((e,n)=>{var o;if(-1!==(null==(o=t.path)?void 0:o.indexOf(e)))return r=n,!0})),r}function Ws(e){return(t,r)=>Ys(e,t)-Ys(e,r)}function Ks(){return Ks=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ks.apply(this,arguments)}(Gs=function(e){return zs(function(e){for(var t=new Set,r=0,n=e.length;r<n;r++){var o=e[r];t.add(o[0]),t.add(o[1])}return Array.from(t)}(e),e)}).array=zs;let Js=e=>"[object Object]"===Object.prototype.toString.call(e);const Xs=Ws([]);class Qs extends Ea{constructor(e){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=Xs,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{this.transform((function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&this.shape(e)}))}_typeCheck(e){return Js(e)||"function"==typeof e}_cast(e,t={}){var n;let o=super._cast(e,t);if(void 0===o)return this.getDefault();if(!this._typeCheck(o))return o;let i=this.fields,a=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,s=this._nodes.concat(Object.keys(o).filter((e=>-1===this._nodes.indexOf(e)))),c={},u=Ks({},t,{parent:c,__validating:t.__validating||!1}),f=!1;for(const e of s){let n=i[e],s=r(vr)(o,e);if(n){let r,i=o[e];u.path=(t.path?`${t.path}.`:"")+e,n=n.resolve({value:i,context:t.context,parent:c});let a="spec"in n?n.spec:void 0,s=null==a?void 0:a.strict;if(null==a?void 0:a.strip){f=f||e in o;continue}r=t.__validating&&s?o[e]:n.cast(o[e],u),void 0!==r&&(c[e]=r)}else s&&!a&&(c[e]=o[e]);c[e]!==o[e]&&(f=!0)}return f?c:o}_validate(e,t={},r){let n=[],{sync:o,from:i=[],originalValue:a=e,abortEarly:s=this.spec.abortEarly,recursive:c=this.spec.recursive}=t;i=[{schema:this,value:a},...i],t.__validating=!0,t.originalValue=a,t.from=i,super._validate(e,t,((e,u)=>{if(e){if(!ho.isError(e)||s)return void r(e,u);n.push(e)}if(!c||!Js(u))return void r(n[0]||null,u);a=a||u;let f=this._nodes.map((e=>(r,n)=>{let o=-1===e.indexOf(".")?(t.path?`${t.path}.`:"")+e:`${t.path||""}["${e}"]`,s=this.fields[e];s&&"validate"in s?s.validate(u[e],Ks({},t,{path:o,from:i,strict:!0,parent:u,originalValue:a[e]}),n):n(null)}));po({sync:o,tests:f,value:u,errors:n,endEarly:s,sort:this._sortErrors,path:t.path},r)}))}clone(e){const t=super.clone(e);return t.fields=Ks({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[e,t]of Object.entries(this.fields)){const n=r[e];void 0===n?r[e]=t:n instanceof Ea&&t instanceof Ea&&(r[e]=t.concat(n))}return t.withMutation((()=>t.shape(r,this._excludedEdges)))}getDefaultFromShape(){let e={};return this._nodes.forEach((t=>{const r=this.fields[t];e[t]="default"in r?r.getDefault():void 0})),e}_getDefault(){return"default"in this.spec?super._getDefault():this._nodes.length?this.getDefaultFromShape():void 0}shape(e,t=[]){let r=this.clone(),n=Object.assign(r.fields,e);return r.fields=n,r._sortErrors=Ws(Object.keys(n)),t.length&&(Array.isArray(t[0])||(t=[t]),r._excludedEdges=[...r._excludedEdges,...t]),r._nodes=Zs(n,r._excludedEdges),r}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.clone().withMutation((e=>(e.fields={},e.shape(t))))}omit(e){const t=this.clone(),r=t.fields;t.fields={};for(const t of e)delete r[t];return t.withMutation((()=>t.shape(r)))}from(e,t,n){let o=(0,ta.getter)(e,!0);return this.transform((i=>{if(null==i)return i;let a=i;return r(vr)(i,e)&&(a=Ks({},i),n||delete a[e],a[t]=o(i)),a}))}noUnknown(e=!0,t=_r.noUnknown){"string"==typeof e&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const r=function(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===r.indexOf(e)))}(this.schema,t);return!e||0===r.length||this.createError({params:{unknown:r.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=_r.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>t&&r(Vs)(t,((t,r)=>e(r)))))}camelCase(){return this.transformKeys(r(xs))}snakeCase(){return this.transformKeys(r(Ha))}constantCase(){return this.transformKeys((e=>r(Ha)(e).toUpperCase()))}describe(){let e=super.describe();return e.fields=r(bo)(this.fields,(e=>e.describe())),e}}function ec(e){return new Qs(e)}ec.prototype=Qs.prototype;const tc=ec({plaintext:Ca().nullable(!0).optional(),ciphertext:Ca().nullable(!0).optional(),decryptionTime:ka().positive().required()}).required();function rc(){const e={disableBeaconVerification:!1,noCache:!1,chainVerificationParams:{chainHash:"52db9ba70e0cc0f6eaf7803dd07447a1f5477735fd3f661792ba94600c84e971",publicKey:"83cf0f2896adee7eb8b5f01fcad3912212c437e0073e911fb90022d3e760183c8c4b450b6a0a6c3ac6a5776a2d1064510d1fec758c921cc22b0e17e63aaf4bcb5ed66304de9cf809bd274ca73bab4af5a6e9c76a4bc09e76eae8991ef5ece45a"}};return new(0,Ce.HttpChainClient)(new(0,Ce.HttpCachingChain)(Qt.MAINNET_CHAIN_URL,e),e,{})}function nc(){const e={disableBeaconVerification:!1,noCache:!1,chainVerificationParams:{chainHash:"dbd506d6ef76e5f386f41c651dcb808c5bcbd75471cc4eafa3f4df7ad4e4c493",publicKey:"a0b862a7527fee3a731bcb59280ab6abd62d5c0b6ea03dc4ddf6612fdfc9d01f01c31542541771903475eb1ec6615f8d0df0b8b6dce385811d6dcf8cbefb8759e5e616a3dfd054c928940766d9a5b9db91e3b697e5d70a975181e007f87fca5e"}};return new(0,Ce.HttpChainClient)(new(0,Ce.HttpCachingChain)(Qt.MAINNET_CHAIN_URL_NON_RFC,e),e,{})}function oc(){const e={disableBeaconVerification:!1,noCache:!1,chainVerificationParams:{chainHash:"cc9c398442737cbd141526600919edd69f1d6f9b4adb67e4d912fbc64341a9a5",publicKey:"b15b65b46fb29104f6a4b5d1e11a8da6344463973d423661bb0804846a0ecd1ef93c25057f1c0baab2ac53e56c662b66072f6d84ee791a3382bfb055afab1e6a375538d8ffc451104ac971d2dc9b168e2d3246b0be2015969cbaac298f6502da"}};return new(0,Ce.HttpChainClient)(new(0,Ce.HttpCachingChain)("https://pl-us.testnet.drand.sh/cc9c398442737cbd141526600919edd69f1d6f9b4adb67e4d912fbc64341a9a5",e),e,{})}function ic(){const e={disableBeaconVerification:!1,noCache:!1,chainVerificationParams:{chainHash:"7672797f548f3f4748ac4bf3352fc6c6b6468c9ad40ad456a397545c6e2df5bf",publicKey:"8200fc249deb0148eb918d6e213980c5d01acd7fc251900d9260136da3b54836ce125172399ddc69c4e3e11429b62c11"}};return new(0,Ce.HttpChainClient)(new(0,Ce.HttpCachingChain)(Qt.TESTNET_CHAIN_URL,e),e,{})}var ac=(ke=i("16yZv")).Buffer;async function sc(e,t){const r=await tc.validate(t);let n;switch(e){case"quicknet":n=rc();break;case"fastnet":n=nc();break;case"quicknet-t":n=oc();break;case"testnet-unchained-3s":n=ic();break;default:throw Error("unknown network")}return r.plaintext?async function(e,t,r){const n=await e.chain().info(),o=(0,Ce.roundAt)(r,n),i=await(0,Ce.timelockEncrypt)(o,ac.from(t),e);return{plaintext:t,decryptionTime:r,ciphertext:i}}(n,r.plaintext,r.decryptionTime):r.ciphertext?async function(e,t,r){return{plaintext:(await(0,Ce.timelockDecrypt)(t,e)).toString(),decryptionTime:r,ciphertext:t}}(n,r.ciphertext,r.decryptionTime):Promise.reject("Neither plaintext nor ciphertext were input")}function cc(e=500){let t=null;return r=>(t&&clearTimeout(t),new Promise((n=>{t=setTimeout((()=>n(r())),e)})))}const uc=26,fc=3,lc=e=>y("label",{className:"form-label p-0"},e.label,y("textarea",{className:"form-control",cols:e.cols??fc,rows:e.rows??uc,value:e.value,onChange:t=>e.onChange&&e.onChange(t.currentTarget.value)})),dc=e=>{return y("label",{className:"form-label p-0"},e.label,y("input",{className:"form-control",value:(t=new Date(e.value),`${t.getFullYear()}-${hc(t.getMonth()+1)}-${hc(t.getDate())} ${hc(t.getHours())}:${hc(t.getMinutes())}`),type:"datetime-local",onChange:t=>e.onChange(Date.parse(t.currentTarget.value))}));var t};function hc(e){return e.toString().padStart(2,"0")}function pc(e){return e instanceof Error?e.message:"string"==typeof e?e:"Unknown error"}function bc(e){const t=pc(e),r="It's too early to decrypt the ciphertext - decryptable at round ";if(!t.startsWith(r))return"There was an error during decryption! Is your ciphertext valid?";const n=Number.parseInt(t.split(r)[1]),o=new Date((0,Ce.roundTime)(Qt.MAINNET_CHAIN_INFO,n));return`This message cannot be decrypted until ${o.toLocaleDateString()} at ${o.toLocaleTimeString()}`}const yc=e=>{const[t,r]=J(""),[n,o]=J(""),[i,a]=J(Date.now()),[s,c]=J(""),u=ee((()=>cc()),[]);return Q((()=>{t&&u((()=>sc(e.network,{plaintext:t,ciphertext:n,decryptionTime:i}))).then((e=>{o(e.ciphertext??""),a(e.decryptionTime)})).catch((e=>{console.error(e),c(pc(e))}))}),[t,i,e.network]),y(_,null,y("div",{className:"row p-0",id:"errors"},y("p",{className:"m-0 p-0",id:"error"},s)),y("div",{className:"col-sm-6 p-3"},y("div",{className:"row mb-6"},y(dc,{label:"Decryption time",value:i,onChange:a}))),y("div",{class:"row light-bg p-0"},y("div",{class:"col-12 col-lg-6 p-3"},y("div",{className:"row mb-6"},y(lc,{label:"Plaintext",value:t,onChange:r}))),y("div",{class:"col-12 col-lg-6 p-3"},y("div",{className:"row mb-6"},y(lc,{label:"Ciphertext",value:n,onChange:o})))))},gc=e=>y("label",{className:"form-label p-0"},e.label,y("input",{type:"file",className:"form-control",onChange:t=>t.currentTarget.files&&e.onChange(t.currentTarget.files)})),_c=e=>y("label",{className:"form-label p-0"},e.label,y("input",{type:"text",className:"form-control",value:e.value,onChange:t=>e.onChange&&e.onChange(t.currentTarget.value),disabled:e.disabled||!1})),mc=e=>y("button",{id:"encrypt-button",type:"button",className:"btn btn-primary float-end",onClick:t=>{t.preventDefault(),e.onClick()}},e.text),vc=ec({title:Ca().required(),description:Ca().required(),cve:Ca().nullable(!0).optional(),files:Oa().nullable(!0).optional(),decryptionTime:ka().positive().required().positive().required()}).required(),wc=ec({name:Ca().required(),content:Ca().matches(/^(?:[A-Za-z\d+/]{4})*(?:[A-Za-z\d+/]{3}=|[A-Za-z\d+/]{2}==)?$/).required()}),xc=ec({title:Ca().required(),description:Ca().required(),cve:Ca().nullable(!0).optional(),file:wc.nullable(!0).optional()}).required();var Ec=(ke=i("16yZv")).Buffer;async function Bc(e){return Ec.from(new Uint8Array(await e.arrayBuffer()))}function Oc(e){const t=document.createElement("a");t.href=URL.createObjectURL(e),t.download=e.name,document.body.appendChild(t),t.click(),document.body.removeChild(t)}var Ac=(ke=i("16yZv")).Buffer;async function Tc(e,t){const r=await vc.validate(t);if(r.files&&r.files.length>1)throw Error("Right now only a single file is supported!");const n=r.files?.item(0);let o=null;if(n){const e=(await Bc(n)).toString("base64");o={name:n.name,content:e}}const i=JSON.stringify({title:r.title,description:r.description,cve:r.cve,file:o});let a;switch(e){case"quicknet":a=rc();break;case"fastnet":a=nc();break;case"quicknet-t":a=oc();break;case"testnet-unchained-3s":a=ic();break;default:throw Error("unknown network")}const s=(0,Ce.roundAt)(r.decryptionTime,await a.chain().info());return await(0,Ce.timelockEncrypt)(s,Ac.from(i),a)}const Sc=e=>{const[t,r]=J(""),[n,o]=J(""),[i,a]=J(""),[s,c]=J(),[u,f]=J(Date.now()),[l,d]=J(""),[h,p]=J("");return Q((()=>{p("")}),[e.network]),y("div",{className:"row light-bg"},y("div",{className:"row p-0",id:"errors"},y("p",{className:"m-0 p-0",id:"error"},l)),y("div",{class:"col-12 col-sm-6"},y("div",{className:"row mb-6 p-3"},y(dc,{label:"Decryption time",value:u,onChange:f})),y("div",{className:"row mb-6 p-3"},y(_c,{label:"Title",value:n,onChange:o})),y("div",{className:"row mb-6 px-3"},y(lc,{label:"Description",value:i,onChange:a,rows:15})),y("div",{className:"row mb-6 px-3 py-2"},"Optional fields:"),y("div",{className:"row mb-6 px-3"},y(_c,{label:"CVE",value:t,onChange:r})),y("div",{className:"row mb-6 px-3"},y(gc,{label:"Upload a file to encrypt",onChange:c}))),y("div",{className:"col-12 col-sm-6 p-0"},y("div",{className:"row mb-6 align-items-end p-3"},y("div",{className:"p-3"},y(mc,{onClick:async()=>{try{p(await Tc(e.network,{title:n,description:i,cve:t,files:s,decryptionTime:u}))}catch(e){console.error(e),d(pc(e))}},text:"Encrypt"}))),y("div",{className:"row mb-6 p-3"},y(lc,{label:"Ciphertext",value:h,onChange:p}))))};var Ic=(ke=i("16yZv")).Buffer;async function Fc(e,t){let r;switch(e){case"quicknet":r=rc();break;case"fastnet":r=nc();break;case"quicknet-t":r=oc();break;case"testnet-unchained-3s":r=ic();break;default:throw Error("unknown network")}const n=(await(0,Ce.timelockDecrypt)(t,r)).toString();if(await xc.isValid(n)){const e=await xc.validate(n);let t;if(e.file){const r=Ic.from(e.file.content,"base64");t=new File([r],e.file.name)}return{type:"vulnerability_report",value:{title:e.title,description:e.description,cve:e.cve??void 0,file:t}}}return{type:"text",value:n.toString()}}const Nc=e=>{const[t,r]=J(""),[n,o]=J(),[i,a]=J(""),[s,c]=J(!1),[u,f]=J(!1),l=te((e=>{a(""),f(!0),r(e)}),[]);return Q((()=>{if(!t||!u)return;c(!0);const r=setTimeout((()=>Fc(e.network,t).then((e=>o(e))).catch((e=>{console.error(e),a(bc(e))})).finally((()=>{c(!1),f(!1)}))));return()=>clearTimeout(r)}),[t,u,e.network]),y(_,null,y("div",{className:"row light-bg px-3 py-2 align-items-end"},y("div",{className:"col p-0",id:"errors"},y("p",{className:"p-0 my-0 my-sm-3"},i))),y("div",{className:"row light-bg"},y("div",{className:"col-12 col-lg-6 px-3"},y("div",{className:"row mb-6"},y(lc,{label:"Ciphertext",value:t,onChange:l}))),y("div",{className:"col-12 col-lg-6 px-3"},y("div",{className:"row mb-6"},y(Cc,{content:n,isLoading:s,error:i})))))},Cc=e=>{if(e.isLoading)return y("div",{className:"row justify-content-center"},y("div",{className:"spinner-border",role:"status"}));if(""!==e.error)return y("div",{className:"row"});const t=e.content;if(!t)return y("div",{className:"row text-center"},y("p",null,y("br",null),"Your plaintext will load here once you enter a ciphertext..."));if("text"===t.type)return y(lc,{label:"Plaintext",value:t.value,onChange:kc});if("vulnerability_report"===t.type)return y(Uc,t.value);throw Error("Impossibru!")},Uc=e=>{const t=e.file;return y("div",{className:"col px-3"},y("div",{className:"row mb-6"},y(_c,{label:"Title",value:e.title})),y("div",{className:"row mb-6"},y(lc,{label:"Description",value:e.description,rows:15})),y("div",{className:"row mb-6"},y(_c,{label:"CVE",value:e.cve??""})),y("div",{className:"row mb-6 py-3"},null!=t?y(mc,{onClick:()=>t&&Oc(t),text:"Click to download attached file"}):null))};function kc(){}function Pc(e){const[t,r]=J(0),n=ee((()=>100*Math.random()),[]),[o,i]=J(!1);return y("div",null,y("div",{className:"dropdown"},y("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:`dropdownMenuButton${n}`,onClick:()=>i(!o),"data-bs-toggle":"dropdown","aria-expanded":"false"},e.label,": ",e.items[t].label),y("ul",{className:"dropdown-menu",style:{display:o?"block":"none"},"aria-labelledby":`dropdownMenuButton${n}`},e.items.map(((n,o)=>y("li",null,y("a",{className:o===t?"dropdown-item active":"dropdown-item",onClick:()=>{r(o),i(!1),e.onChange(n.value)}},n.label)))))))}const jc=[{label:"Mainnet (quicknet)",value:"quicknet"},{label:"Mainnet (fastnet - deprecated)",value:"fastnet"},{label:"Testnet (quicknet-t)",value:"quicknet-t"},{label:"Testnet (testnet-unchained-3s - deprecated)",value:"testnet-unchained-3s"}],Rc=document.getElementById("root")||(()=>{throw Error("No element found with id root to bind to!!")})();R(y((()=>{const[e,t]=J(jc[0].value);return y("div",null,y(Pc,{label:"Network",items:jc,onChange:e=>t(e)}),y(Ie,null,y(Ne,{title:"Text"},y(yc,{network:e})),y(Ne,{title:"Vulnerability report"},y(Sc,{network:e})),y(Ne,{title:"Decrypt"},y(Nc,{network:e}))))}),null),Rc)}();
//# sourceMappingURL=index.fdb23bac.js.map
