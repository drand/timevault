function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},o=r.parcelRequired854;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},r.parcelRequired854=o),o.register("fx1Rk",(function(e,t){var r=o("5dRsJ");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.HttpChain=void 0;var n=o("1kenz"),i=o("l7sOI");class a{async info(){const e=await(0,i.jsonOrError)(`${this.baseUrl}/info`,this.httpOptions);if(this.options.chainVerificationParams&&!function(e,t){return e.hash===t.chainHash&&e.public_key===t.publicKey}(e,this.options.chainVerificationParams))throw Error(`The chain info retrieved from ${this.baseUrl} did not match the verification params!`);return e}constructor(e,t=n.defaultChainOptions,i={}){(0,r.default)(this,"baseUrl",void 0),(0,r.default)(this,"options",void 0),(0,r.default)(this,"httpOptions",void 0),this.baseUrl=e,this.options=t,this.httpOptions=i}}e.exports.HttpChain=a;e.exports.default=class{async info(){return this.cachedInfo||(this.cachedInfo=await this.chain.info()),this.cachedInfo}constructor(e,t=n.defaultChainOptions){(0,r.default)(this,"baseUrl",void 0),(0,r.default)(this,"options",void 0),(0,r.default)(this,"chain",void 0),(0,r.default)(this,"cachedInfo",void 0),this.baseUrl=e,this.options=t,this.chain=new a(e,t)}}})),o.register("5dRsJ",(function(t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e(t.exports,"default",(function(){return n}))})),o.register("1kenz",(function(e,t){var r=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.roundTime=e.exports.roundAt=e.exports.FastestNodeClient=e.exports.MultiBeaconNode=e.exports.HttpCachingChain=e.exports.HttpChainClient=e.exports.HttpChain=e.exports.isG1G2SwappedBeacon=e.exports.isUnchainedBeacon=e.exports.isChainedBeacon=e.exports.watch=e.exports.fetchBeaconByTime=e.exports.fetchBeacon=e.exports.defaultChainOptions=void 0;const n=r(o("fx1Rk"));e.exports.HttpCachingChain=n.default,Object.defineProperty(e.exports,"HttpChain",{enumerable:!0,get:function(){return o("fx1Rk").HttpChain}});const i=r(o("6ZPDq"));e.exports.HttpChainClient=i.default;const a=r(o("cDQ5m"));e.exports.FastestNodeClient=a.default;const s=r(o("30gSf"));e.exports.MultiBeaconNode=s.default;var u=o("l7sOI");Object.defineProperty(e.exports,"roundAt",{enumerable:!0,get:function(){return u.roundAt}}),Object.defineProperty(e.exports,"roundTime",{enumerable:!0,get:function(){return u.roundTime}});var c=o("dziQ7");async function f(e,t){let r=null;if(t){if(t<1)throw Error("Cannot request lower than round number 1");r=await e.get(t)}else r=await e.latest();return h(e,r)}e.exports.defaultChainOptions={disableBeaconVerification:!1,noCache:!1},e.exports.fetchBeacon=f,e.exports.fetchBeaconByTime=async function(e,t){const r=await e.chain().info();return f(e,(0,u.roundAt)(t,r))},e.exports.watch=async function*(e,t,r=l){const n=await e.chain().info();let i=(0,u.roundAt)(Date.now(),n);for(;!t.signal.aborted;){const t=Date.now();await(0,u.sleep)((0,u.roundTime)(n,i)-t);const o=await(0,u.retryOnError)((async()=>e.get(i)),r.retriesOnFailure);yield h(e,o),i+=1}};const l={retriesOnFailure:3};async function h(e,t){if(e.options.disableBeaconVerification)return t;const r=await e.chain().info();if(!await(0,c.verifyBeacon)(r,t))throw Error("The beacon retrieved was not valid!");return t}e.exports.isChainedBeacon=function(e,t){return"pedersen-bls-chained"===t.schemeID&&!!e.previous_signature&&!!e.randomness&&!!e.signature&&e.round>0},e.exports.isUnchainedBeacon=function(e,t){return"pedersen-bls-unchained"===t.schemeID&&!!e.randomness&&!!e.signature&&void 0===e.previous_signature&&e.round>0},e.exports.isG1G2SwappedBeacon=function(e,t){return"bls-unchained-on-g1"===t.schemeID&&!!e.randomness&&!!e.signature&&void 0===e.previous_signature&&e.round>0}})),o.register("6ZPDq",(function(e,t){var r=o("5dRsJ");Object.defineProperty(e.exports,"__esModule",{value:!0});var n=o("1kenz"),i=o("l7sOI");function a(e,t){return t.noCache?`${e}?${Date.now()}`:e}e.exports.default=class{async get(e){const t=a(`${this.someChain.baseUrl}/public/${e}`,this.options);return await(0,i.jsonOrError)(t,this.httpOptions)}async latest(){const e=a(`${this.someChain.baseUrl}/public/latest`,this.options);return await(0,i.jsonOrError)(e,this.httpOptions)}chain(){return this.someChain}constructor(e,t=n.defaultChainOptions,o=i.defaultHttpOptions){(0,r.default)(this,"someChain",void 0),(0,r.default)(this,"options",void 0),(0,r.default)(this,"httpOptions",void 0),this.someChain=e,this.options=t,this.httpOptions=o}}})),o.register("l7sOI",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.retryOnError=e.exports.jsonOrError=e.exports.defaultHttpOptions=e.exports.roundTime=e.exports.roundAt=e.exports.sleep=void 0;var r=o("8C4gC");e.exports.sleep=function(e){return new Promise((t=>{e<=0&&t(),setTimeout(t,e)}))},e.exports.roundAt=function(e,t){if(!Number.isFinite(e))throw new Error("Cannot use Infinity or NaN as a beacon time");if(e<1e3*t.genesis_time)throw Error("Cannot request a round before the genesis time");return Math.floor((e-1e3*t.genesis_time)/(1e3*t.period))+1},e.exports.roundTime=function(e,t){if(!Number.isFinite(t))throw new Error("Cannot use Infinity or NaN as a round number");return t=t<0?0:t,1e3*(e.genesis_time+(t-1)*e.period)},e.exports.defaultHttpOptions={userAgent:`drand-client-${r.LIB_VERSION}`},e.exports.jsonOrError=async function(t,r=e.exports.defaultHttpOptions){const n={...r.headers};r.userAgent&&(n["User-Agent"]=r.userAgent);const i=await fetch(t,{headers:n});if(!i.ok)throw Error(`Error response fetching ${t} - got ${i.status}`);return await i.json()},e.exports.retryOnError=async function e(t,r){try{return await t()}catch(n){if(0===r)throw n;return e(t,r-1)}}})),o.register("8C4gC",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.LIB_VERSION=void 0,e.exports.LIB_VERSION="1.1.0"})),o.register("cDQ5m",(function(e,t){var r=o("5dRsJ"),n=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},i=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0});var u=o("1kenz");const c=a(o("fx1Rk"));var f=o("hal4G");const l=s(o("6ZPDq"));e.exports.default=class{async latest(){return new l.default(this.current(),this.options).latest()}async get(e){return new l.default(this.current(),this.options).get(e)}chain(){return this.current()}start(){1!==this.baseUrls.length?this.speedTests=this.baseUrls.map((e=>{const t=(0,f.createSpeedTest)((async()=>{await new c.HttpChain(e,this.options,this.speedTestHttpOptions).info()}),this.speedTestIntervalMs);return t.start(),{test:t,url:e}})):console.warn("There was only a single base URL in the `FastestNodeClient` - not running speed testing")}current(){0===this.speedTests.length&&console.warn("You are not currently running speed tests to choose the fastest client. Run `.start()` to speed test");const e=this.speedTests.slice().sort(((e,t)=>e.test.average()-t.test.average())).shift();if(!e)throw Error("Somehow there were no entries to optimise! This should be impossible by now");return new c.default(e.url,this.options)}stop(){this.speedTests.forEach((e=>e.test.stop())),this.speedTests=[]}constructor(e,t=u.defaultChainOptions,n=3e5){if((0,r.default)(this,"baseUrls",void 0),(0,r.default)(this,"options",void 0),(0,r.default)(this,"speedTestIntervalMs",void 0),(0,r.default)(this,"speedTests",[]),(0,r.default)(this,"speedTestHttpOptions",{userAgent:"drand-web-client-speedtest"}),this.baseUrls=e,this.options=t,this.speedTestIntervalMs=n,0===e.length)throw Error("Can't optimise an empty `baseUrls` array!")}}})),o.register("hal4G",(function(e,t){var r=o("5dRsJ");Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.createSpeedTest=void 0,e.exports.createSpeedTest=function(e,t,r=5){let i=new n(r),o=null;const a=async()=>{const t=Date.now();try{await e(),i.add(Date.now()-t)}catch(e){i.add(Number.MAX_SAFE_INTEGER)}};return{start:()=>{null==o?o=setInterval(a,t):console.warn("Attempted to start a speed test, but it had already been started!")},stop:()=>{null!==o&&(clearInterval(o),o=null,i=new n(r))},average:()=>{const e=i.get();if(0===e.length)return Number.MAX_SAFE_INTEGER;return e.reduce(((e,t)=>e+t),0)/e.length}}};class n{add(e){this.values.push(e),this.values.length>this.capacity&&this.values.pop()}get(){return this.values}constructor(e){(0,r.default)(this,"capacity",void 0),(0,r.default)(this,"values",[]),this.capacity=e}}})),o.register("30gSf",(function(e,t){var r=o("5dRsJ"),n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0});var i=o("1kenz");const a=n(o("fx1Rk"));var s=o("l7sOI");e.exports.default=class{async chains(){const e=await(0,s.jsonOrError)(`${this.baseUrl}/chains`);if(!Array.isArray(e))throw Error(`Expected an array from the chains endpoint but got: ${e}`);return e.map((e=>new a.default(`${this.baseUrl}/${e}`)),this.options)}async health(){const e=await fetch(`${this.baseUrl}/health`);if(!e.ok)return{status:e.status,current:-1,expected:-1};const t=await e.json();var r,n;return{status:e.status,current:null!==(r=t.current)&&void 0!==r?r:-1,expected:null!==(n=t.expected)&&void 0!==n?n:-1}}constructor(e,t=i.defaultChainOptions){(0,r.default)(this,"baseUrl",void 0),(0,r.default)(this,"options",void 0),this.baseUrl=e,this.options=t}}})),o.register("dziQ7",(function(e,t){var r=o("aBw8d").Buffer,n=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.exports&&e.exports.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.exports&&e.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.roundBuffer=e.exports.verifyBeacon=e.exports.verifySigOnG1=void 0;const s=a(o("fFa5O"));var u=o("1kenz");async function c(e,t,r){const n=(i=r)instanceof o("fFa5O").PointG2?i:o("fFa5O").PointG2.fromHex(i);var i;const a=await async function(e){return e instanceof o("fFa5O").PointG1?e:o("fFa5O").PointG1.hashToCurve(e)}(t),s=o("fFa5O").PointG2.BASE,u=function(e){return e instanceof o("fFa5O").PointG1?e:o("fFa5O").PointG1.fromHex(e)}(e),c=(0,o("fFa5O").pairing)(a,n.negate(),!1);return(0,o("fFa5O").pairing)(u,s,!1).multiply(c).finalExponentiate().equals(o("47KmV").Fp12.ONE)}async function f(e){return s.utils.sha256(h(e.round))}function l(e){return r.from(e,"hex")}function h(e){const t=r.alloc(8);return t.writeBigUInt64BE(BigInt(e)),t}e.exports.verifyBeacon=async function(e,t){const n=e.public_key;return!!await async function(e){const t=await s.utils.sha256(r.from(e.signature,"hex"));return 0==r.from(e.randomness,"hex").compare(t)}(t)&&((0,u.isChainedBeacon)(t,e)?s.verify(t.signature,await async function(e){const t=r.concat([l(e.previous_signature),h(e.round)]);return s.utils.sha256(t)}(t),n):(0,u.isUnchainedBeacon)(t,e)?s.verify(t.signature,await f(t),n):(0,u.isG1G2SwappedBeacon)(t,e)?c(t.signature,await f(t),n):(console.error(`Beacon type ${e.schemeID} was not supported`),!1))},e.exports.verifySigOnG1=c,e.exports.roundBuffer=h})),o.register("aBw8d",(function(t,r){var n,i;e(t.exports,"Buffer",(function(){return n}),(function(e){return n=e})),e(t.exports,"INSPECT_MAX_BYTES",(function(){return i}),(function(e){return i=e}));var a=o("6qbx7"),s=o("3cvMG");const u="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;n=l,i=50;const c=2147483647;function f(e){if(e>c)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return h(e,t,r)}function h(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|m(e,t);let n=f(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return y(t.buffer,t.byteOffset,t.byteLength)}return b(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return y(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return y(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return l.from(n,t,r);const i=function(e){if(l.isBuffer(e)){const t=0|_(e.length),r=f(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||Q(e.length)?f(0):b(e);if("Buffer"===e.type&&Array.isArray(e.data))return b(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return d(e),f(e<0?0:0|_(e))}function b(e){const t=e.length<0?0:0|_(e.length),r=f(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function y(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,l.prototype),n}function _(e){if(e>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(e).length;default:if(i)return n?-1:W(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return U(this,t,r);case"latin1":case"binary":return S(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Q(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:E(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):E(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,r,n,i){let o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*a}else-1!==n&&(o-=o-n),n=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function x(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let a;for(n>o/2&&(n=o/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(Q(n))return a;e[r+a]=n}return a}function O(e,t,r,n){return X(W(t,e.length-r),e,r,n)}function B(e,t,r,n){return X(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function A(e,t,r,n){return X(K(t),e,r,n)}function F(e,t,r,n){return X(function(e,t){let r,n,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,u;switch(a){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128==(192&r)&&(u=(31&t)<<6|63&r,u>127&&(o=u));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&s)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){const t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=N));return r}(n)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,r){return h(e,t,r)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,r){return function(e,t,r){return d(e),e<=0?f(e):void 0!==t?"string"==typeof r?f(e).fill(t,r):f(e).fill(t):f(e)}(e,t,r)},l.allocUnsafe=function(e){return p(e)},l.allocUnsafeSlow=function(e){return p(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(J(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=l.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(J(t,Uint8Array))i+t.length>n.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const t=i;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},u&&(l.prototype[u]=l.prototype.inspect),l.prototype.compare=function(e,t,r,n,i){if(J(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const s=Math.min(o,a),u=this.slice(n,i),c=e.slice(t,r);for(let e=0;e<s;++e)if(u[e]!==c[e]){o=u[e],a=c[e];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return x(this,e,t,r);case"utf8":case"utf-8":return O(this,e,t,r);case"ascii":case"latin1":case"binary":return B(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const N=4096;function U(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function S(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function I(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=ee[e[n]];return i}function P(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function k(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,r,n,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function R(e,t,r,n,i){G(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function L(e,t,r,n,i){G(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,4),s.write(e,t,r,n,23,4),r+4}function $(e,t,r,n,i){return t=+t,r>>>=0,i||D(e,0,r,8),s.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,l.prototype),n},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||k(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||k(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=te((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Z(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=te((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Z(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||k(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||k(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||k(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){e>>>=0,t||k(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=te((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Z(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=te((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Z(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||k(e,4,this.length),s.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||k(e,4,this.length),s.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||k(e,8,this.length),s.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||k(e,8,this.length),s.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){j(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){j(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=te((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=te((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);j(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);j(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=te((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=te((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return $(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return $(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,n),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};const H={};function V(e,t,r){H[e]=class extends r{get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}}}function q(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function G(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new H.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||Z(t,e.length-(r+1))}(n,i,o)}function z(e,t){if("number"!=typeof e)throw new H.ERR_INVALID_ARG_TYPE(t,"number",e)}function Z(e,t,r){if(Math.floor(e)!==e)throw z(e,r),new H.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new H.ERR_BUFFER_OUT_OF_BOUNDS;throw new H.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}V("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),V("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),V("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=q(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const Y=/[^+/0-9A-Za-z-_]/g;function W(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function K(e){return a.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Y,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function X(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Q(e){return e!=e}const ee=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function te(e){return"undefined"==typeof BigInt?re:e}function re(){throw new Error("BigInt not supported")}})),o.register("6qbx7",(function(t,r){var n,i;e(t.exports,"toByteArray",(function(){return n}),(function(e){return n=e})),e(t.exports,"fromByteArray",(function(){return i}),(function(e){return i=e})),n=function(e){var t,r,n=l(e),i=n[0],o=n[1],u=new s(function(e,t,r){return 3*(t+r)/4-r}(0,i,o)),c=0,f=o>0?i-4:i;for(r=0;r<f;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===o&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,u[c++]=255&t);1===o&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},i=function(e){for(var t,r=e.length,n=r%3,i=[],a=16383,s=0,u=r-n;s<u;s+=a)i.push(h(e,s,s+a>u?u:s+a));1===n?(t=e[r-1],i.push(o[t>>2]+o[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"="));return i.join("")};for(var o=[],a=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,f=u.length;c<f;++c)o[c]=u[c],a[u.charCodeAt(c)]=c;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function h(e,t,r){for(var n,i,a=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(o[(i=n)>>18&63]+o[i>>12&63]+o[i>>6&63]+o[63&i]);return a.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63})),o.register("3cvMG",(function(t,r){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var n,i;e(t.exports,"read",(function(){return n}),(function(e){return n=e})),e(t.exports,"write",(function(){return i}),(function(e){return i=e})),n=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,d=e[t+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=s;f>0;o=256*o+e[t+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},i=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*u-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*b}})),o.register("fFa5O",(function(r,n){e(r.exports,"utils",(function(){return p})),e(r.exports,"PointG1",(function(){return B})),e(r.exports,"PointG2",(function(){return A})),e(r.exports,"pairing",(function(){return F})),e(r.exports,"getPublicKey",(function(){return U})),e(r.exports,"sign",(function(){return S})),e(r.exports,"verify",(function(){return I})),e(r.exports,"aggregatePublicKeys",(function(){return P})),e(r.exports,"aggregateSignatures",(function(){return k})),e(r.exports,"verifyBatch",(function(){return j})),e(r.exports,"Fp",(function(){return o("47KmV").Fp})),e(r.exports,"Fr",(function(){return o("47KmV").Fr})),e(r.exports,"Fp2",(function(){return o("47KmV").Fp2})),e(r.exports,"Fp12",(function(){return o("47KmV").Fp12})),e(r.exports,"CURVE",(function(){return o("47KmV").CURVE}));var i=o("qEsBo"),a=o("47KmV");const s=2n**381n,u=2n*s,c=2n*u,f=48;const l=function(e,t){let r=t;return r.outputLen=e,r}(32,(async e=>{if(d.web){const t=await d.web.subtle.digest("SHA-256",e.buffer);return new Uint8Array(t)}if(d.node)return Uint8Array.from(d.node.createHash("sha256").update(e).digest());throw new Error("The environment doesn't have sha256 function")})),h={DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:a.CURVE.P,m:2,k:128,expand:!0,hash:l};const d={node:t(i),web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},p={hashToField:E,expandMessageXMD:w,hashToPrivateKey:e=>{if((e=y(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");const t=(0,a.mod)((0,a.bytesToNumberBE)(e),a.CURVE.r);if(0n===t||1n===t)throw new Error("Invalid private key");return function(e){const t=32,r=e.toString(16).padStart(2*t,"0");return(0,a.hexToBytes)(r)}(t)},stringToBytes:_,bytesToHex:a.bytesToHex,hexToBytes:a.hexToBytes,randomBytes:(e=32)=>{if(d.web)return d.web.getRandomValues(new Uint8Array(e));if(d.node){const{randomBytes:t}=d.node;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>p.hashToPrivateKey(p.randomBytes(40)),sha256:l,mod:a.mod,getDSTLabel:()=>h.DST,setDSTLabel(e){if("string"!=typeof e||e.length>2048||0===e.length)throw new TypeError("Invalid DST");h.DST=e}};function b(e,t){if("bigint"!=typeof e||e<0n)throw new Error("Expected valid bigint");if("number"!=typeof t)throw new TypeError("Expected valid padding");return e.toString(16).padStart(2*t,"0")}function y(e){return e instanceof Uint8Array?Uint8Array.from(e):(0,a.hexToBytes)(e)}function _(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function m(e){let t=0n;for(let r=0;r<e.length;r++)t<<=8n,t+=BigInt(e[r]);return t}function g(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=255&e,e>>>=8;return new Uint8Array(r)}function v(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}async function w(e,t,r,n=p.sha256){t.length>255&&(t=await n((0,a.concatBytes)(_("H2C-OVERSIZE-DST-"),t)));const i=n.outputLen,o=2*i,s=Math.ceil(r/i);if(s>255)throw new Error("Invalid xmd length");const u=(0,a.concatBytes)(t,g(t.length,1)),c=g(0,o),f=g(r,2),l=new Array(s),h=await n((0,a.concatBytes)(c,e,f,g(0,1),u));l[0]=await n((0,a.concatBytes)(h,g(1,1),u));for(let e=1;e<=s;e++){const t=[v(h,l[e-1]),g(e+1,1),u];l[e]=await n((0,a.concatBytes)(...t))}return(0,a.concatBytes)(...l).slice(0,r)}async function E(e,t,r={}){const n={...h,...r},i=n.p.toString(2).length,o=Math.ceil((i+n.k)/8),s=t*n.m*o,u=_(n.DST);let c=e;n.expand&&(c=await w(e,u,s,n.hash));const f=new Array(t);for(let e=0;e<t;e++){const t=new Array(n.m);for(let r=0;r<n.m;r++){const i=o*(r+e*n.m),s=c.subarray(i,i+o);t[r]=(0,a.mod)(m(s),n.p)}f[e]=t}return f}function x(e){let t;if(e instanceof Uint8Array&&32===e.length)t=(0,a.bytesToNumberBE)(e);else if("string"==typeof e&&64===e.length)t=BigInt(`0x${e}`);else if("number"==typeof e&&e>0&&Number.isSafeInteger(e))t=BigInt(e);else{if(!("bigint"==typeof e&&e>0n))throw new TypeError("Expected valid private key");t=e}if(t=(0,a.mod)(t,a.CURVE.r),!(0<(r=t)&&r<a.CURVE.r))throw new Error("Private key must be 0 < key < CURVE.r");var r;return t}function O(e,t){if(!(e instanceof t))throw new Error("Expected Fp* argument, not number/bigint")}class B extends a.ProjectivePoint{static fromHex(e){let t;if(48===(e=y(e)).length){const{P:r}=a.CURVE,n=(0,a.bytesToNumberBE)(e);if(1n===(0,a.mod)(n,c)/u)return this.ZERO;const i=new(0,a.Fp)((0,a.mod)(n,s));let o=i.pow(3n).add(new(0,a.Fp)(a.CURVE.b)).sqrt();if(!o)throw new Error("Invalid compressed G1 point");const f=(0,a.mod)(n,u)/s;2n*o.value/r!==f&&(o=o.negate()),t=new B(i,o)}else{if(96!==e.length)throw new Error("Invalid point G1, expected 48/96 bytes");{if(0!=(64&e[0]))return B.ZERO;const r=(0,a.bytesToNumberBE)(e.slice(0,f)),n=(0,a.bytesToNumberBE)(e.slice(f));t=new B(new(0,a.Fp)(r),new(0,a.Fp)(n))}}return t.assertValidity(),t}static async hashToCurve(e,t){e=y(e);const[[r],[n]]=await E(e,2,{m:1,...t}),[i,o]=(0,a.map_to_curve_simple_swu_3mod4)(new(0,a.Fp)(r)),[s,u]=(0,a.map_to_curve_simple_swu_3mod4)(new(0,a.Fp)(n)),[c,f]=new B(i,o).add(new B(s,u)).toAffine(),[l,h]=(0,a.isogenyMapG1)(c,f);return new B(l,h).clearCofactor()}static async encodeToCurve(e,t){e=y(e);const r=await E(e,1,{m:1,...t}),[n,i]=(0,a.map_to_curve_simple_swu_3mod4)(new(0,a.Fp)(r[0][0])),[o,s]=(0,a.isogenyMapG1)(n,i);return new B(o,s).clearCofactor()}static fromPrivateKey(e){return this.BASE.multiplyPrecomputed(x(e))}toRawBytes(e=!1){return(0,a.hexToBytes)(this.toHex(e))}toHex(e=!1){if(this.assertValidity(),e){const{P:e}=a.CURVE;let t;if(this.isZero())t=c+u;else{const[r,n]=this.toAffine(),i=2n*n.value/e;t=r.value+i*s+c}return b(t,f)}if(this.isZero())return"4".padEnd(192,"0");{const[e,t]=this.toAffine();return b(e.value,f)+b(t.value,f)}}assertValidity(){if(this.isZero())return this;if(!this.isOnCurve())throw new Error("Invalid G1 point: not on curve Fp");if(!this.isTorsionFree())throw new Error("Invalid G1 point: must be of prime-order subgroup");return this}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}millerLoop(e){return(0,a.millerLoop)(e.pairingPrecomputes(),this.toAffine())}clearCofactor(){return this.mulCurveMinusX().add(this)}isOnCurve(){const e=new(0,a.Fp)(a.CURVE.b),{x:t,y:r,z:n}=this,i=r.pow(2n).multiply(n).subtract(t.pow(3n)),o=e.multiply(n.pow(3n));return i.subtract(o).isZero()}sigma(){const[e,t]=this.toAffine();return new B(e.multiply(0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn),t)}phi(){return new B(this.x.multiply(0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen),this.y,this.z)}mulCurveX(){return this.multiplyUnsafe(a.CURVE.x).negate()}mulCurveMinusX(){return this.multiplyUnsafe(a.CURVE.x)}isTorsionFree(){return this.mulCurveX().mulCurveMinusX().equals(this.phi())}constructor(e,t,r=a.Fp.ONE){super(e,t,r,a.Fp),O(e,a.Fp),O(t,a.Fp),O(r,a.Fp)}}B.BASE=new B(new(0,a.Fp)(a.CURVE.Gx),new(0,a.Fp)(a.CURVE.Gy),a.Fp.ONE),B.ZERO=new B(a.Fp.ONE,a.Fp.ONE,a.Fp.ZERO);class A extends a.ProjectivePoint{static async hashToCurve(e,t){e=y(e);const r=await E(e,2,t),[n,i]=(0,a.map_to_curve_simple_swu_9mod16)(a.Fp2.fromBigTuple(r[0])),[o,s]=(0,a.map_to_curve_simple_swu_9mod16)(a.Fp2.fromBigTuple(r[1])),[u,c]=new A(n,i).add(new A(o,s)).toAffine(),[f,l]=(0,a.isogenyMapG2)(u,c);return new A(f,l).clearCofactor()}static async encodeToCurve(e,t){e=y(e);const r=await E(e,1,t),[n,i]=(0,a.map_to_curve_simple_swu_9mod16)(a.Fp2.fromBigTuple(r[0])),[o,s]=(0,a.isogenyMapG2)(n,i);return new A(o,s).clearCofactor()}static fromSignature(e){e=y(e);const{P:t}=a.CURVE,r=e.length/2;if(48!==r&&96!==r)throw new Error("Invalid compressed signature length, must be 96 or 192");const n=(0,a.bytesToNumberBE)(e.slice(0,r)),i=(0,a.bytesToNumberBE)(e.slice(r));if(1n===(0,a.mod)(n,c)/u)return this.ZERO;const o=new(0,a.Fp)(n%s),f=new(0,a.Fp)(i),l=new(0,a.Fp2)(f,o);let h=l.pow(3n).add(a.Fp2.fromBigTuple(a.CURVE.b2)).sqrt();if(!h)throw new Error("Failed to find a square root");const{re:d,im:p}=h.reim(),b=n%u/s;(p>0n&&2n*p/t!==b||0n===p&&2n*d/t!==b)&&(h=h.multiply(-1n));const _=new A(l,h,a.Fp2.ONE);return _.assertValidity(),_}static fromHex(e){const t=224&(e=y(e))[0];if(32===t||96===t||224===t)throw new Error("Invalid encoding flag: "+t);const r=128&t,n=64&t,i=32&t;let o;if(96===e.length&&r){const{P:t,b2:r}=a.CURVE,o=a.Fp2.fromBigTuple(r);if(e[0]=31&e[0],n){if(e.reduce(((e,t)=>0!==e?t+1:t),0)>0)throw new Error("Invalid compressed G2 point");return A.ZERO}const s=(0,a.bytesToNumberBE)(e.slice(0,f)),u=(0,a.bytesToNumberBE)(e.slice(f)),c=new(0,a.Fp2)(new(0,a.Fp)(u),new(0,a.Fp)(s));let l=c.pow(3n).add(o).sqrt();if(!l)throw new Error("Invalid compressed G2 point");const h=0n===l.c1.value?2n*l.c0.value/t:2n*l.c1.value/t?1n:0n;return l=i>0&&h>0?l:l.negate(),new A(c,l)}if(192!==e.length||r)throw new Error("Invalid point G2, expected 96/192 bytes");{if(0!=(64&e[0]))return A.ZERO;const t=(0,a.bytesToNumberBE)(e.slice(0,f)),r=(0,a.bytesToNumberBE)(e.slice(f,96)),n=(0,a.bytesToNumberBE)(e.slice(96,144)),i=(0,a.bytesToNumberBE)(e.slice(144));o=new A(a.Fp2.fromBigTuple([r,t]),a.Fp2.fromBigTuple([i,n]))}return o.assertValidity(),o}static fromPrivateKey(e){return this.BASE.multiplyPrecomputed(x(e))}toSignature(){if(this.equals(A.ZERO)){const e=b(c+u,f)+b(0n,f);return(0,a.hexToBytes)(e)}const[{re:e,im:t},{re:r,im:n}]=this.toAffine().map((e=>e.reim())),i=t+(n>0n?2n*n:2n*r)/a.CURVE.P*s+c,o=e;return(0,a.hexToBytes)(b(i,f)+b(o,f))}toRawBytes(e=!1){return(0,a.hexToBytes)(this.toHex(e))}toHex(e=!1){if(this.assertValidity(),e){const{P:e}=a.CURVE;let t=0n,r=0n;if(this.isZero())t=c+u;else{const[n,i]=this.toAffine(),o=0n===i.c1.value?2n*i.c0.value/e:2n*i.c1.value/e?1n:0n;t=n.c1.value+o*s+c,r=n.c0.value}return b(t,f)+b(r,f)}{if(this.equals(A.ZERO))return"4".padEnd(384,"0");const[{re:e,im:t},{re:r,im:n}]=this.toAffine().map((e=>e.reim()));return b(t,f)+b(e,f)+b(n,f)+b(r,f)}}assertValidity(){if(this.isZero())return this;if(!this.isOnCurve())throw new Error("Invalid G2 point: not on curve Fp2");if(!this.isTorsionFree())throw new Error("Invalid G2 point: must be of prime-order subgroup");return this}psi(){return this.fromAffineTuple((0,a.psi)(...this.toAffine()))}psi2(){return this.fromAffineTuple((0,a.psi2)(...this.toAffine()))}mulCurveX(){return this.multiplyUnsafe(a.CURVE.x).negate()}clearCofactor(){const e=this;let t=e.mulCurveX(),r=e.psi(),n=e.double();n=n.psi2(),n=n.subtract(r),r=t.add(r),r=r.mulCurveX(),n=n.add(r),n=n.subtract(t);return n.subtract(e)}isOnCurve(){const e=a.Fp2.fromBigTuple(a.CURVE.b2),{x:t,y:r,z:n}=this,i=r.pow(2n).multiply(n).subtract(t.pow(3n)),o=e.multiply(n.pow(3n));return i.subtract(o).isZero()}isTorsionFree(){return this.mulCurveX().equals(this.psi())}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}clearPairingPrecomputes(){this._PPRECOMPUTES=void 0}pairingPrecomputes(){return this._PPRECOMPUTES||(this._PPRECOMPUTES=(0,a.calcPairingPrecomputes)(...this.toAffine())),this._PPRECOMPUTES}constructor(e,t,r=a.Fp2.ONE){super(e,t,r,a.Fp2),O(e,a.Fp2),O(t,a.Fp2),O(r,a.Fp2)}}function F(e,t,r=!0){if(e.isZero()||t.isZero())throw new Error("No pairings at point of Infinity");e.assertValidity(),t.assertValidity();const n=e.millerLoop(t);return r?n.finalExponentiate():n}function T(e){return e instanceof B?e:B.fromHex(e)}function C(e){return e instanceof A?e:A.fromSignature(e)}async function N(e){return e instanceof A?e:A.hashToCurve(e)}function U(e){return B.fromPrivateKey(e).toRawBytes(!0)}async function S(e,t){const r=await N(e);r.assertValidity();const n=r.multiply(x(t));return e instanceof A?n:n.toSignature()}async function I(e,t,r){const n=T(r),i=await N(t),o=B.BASE,s=C(e),u=F(n.negate(),i,!1);return F(o,s,!1).multiply(u).finalExponentiate().equals(a.Fp12.ONE)}function P(e){if(!e.length)throw new Error("Expected non-empty array");const t=e.map(T).reduce(((e,t)=>e.add(t)),B.ZERO);return e[0]instanceof B?t.assertValidity():t.toRawBytes(!0)}function k(e){if(!e.length)throw new Error("Expected non-empty array");const t=e.map(C).reduce(((e,t)=>e.add(t)),A.ZERO);return e[0]instanceof A?t.assertValidity():t.toSignature()}async function j(e,t,r){if(!t.length)throw new Error("Expected non-empty messages array");if(r.length!==t.length)throw new Error("Pubkey count should equal msg count");const n=C(e),i=await Promise.all(t.map(N)),o=r.map(T);try{const e=[];for(const t of new Set(i)){const r=i.reduce(((e,r,n)=>r===t?e.add(o[n]):e),B.ZERO);e.push(F(r,t,!1))}e.push(F(B.BASE.negate(),n,!1));const t=e.reduce(((e,t)=>e.multiply(t)),a.Fp12.ONE);return t.finalExponentiate().equals(a.Fp12.ONE)}catch{return!1}}A.BASE=new A(a.Fp2.fromBigTuple(a.CURVE.G2x),a.Fp2.fromBigTuple(a.CURVE.G2y),a.Fp2.ONE),A.ZERO=new A(a.Fp2.ONE,a.Fp2.ONE,a.Fp2.ZERO),B.BASE.calcMultiplyPrecomputes(4)})),o.register("qEsBo",(function(e,t){})),o.register("47KmV",(function(t,r){var n,i;e(t.exports,"CURVE",(function(){return o})),e(t.exports,"mod",(function(){return s})),e(t.exports,"hexToBytes",(function(){return d})),e(t.exports,"bytesToHex",(function(){return y})),e(t.exports,"bytesToNumberBE",(function(){return _})),e(t.exports,"concatBytes",(function(){return m})),e(t.exports,"Fp",(function(){return g})),e(t.exports,"Fr",(function(){return v})),e(t.exports,"Fp2",(function(){return E})),e(t.exports,"Fp12",(function(){return O})),e(t.exports,"ProjectivePoint",(function(){return B})),e(t.exports,"map_to_curve_simple_swu_9mod16",(function(){return C})),e(t.exports,"map_to_curve_simple_swu_3mod4",(function(){return N})),e(t.exports,"isogenyMapG2",(function(){return S})),e(t.exports,"isogenyMapG1",(function(){return I})),e(t.exports,"calcPairingPrecomputes",(function(){return P})),e(t.exports,"millerLoop",(function(){return k})),e(t.exports,"psi",(function(){return $})),e(t.exports,"psi2",(function(){return H}));const o={P:0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn,r:0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001n,h:0x396c8c005555e1568c00aaab0000aaabn,Gx:0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bbn,Gy:0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1n,b:4n,P2:0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn**2n-1n,h2:0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5n,G2x:[0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8n,0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7en],G2y:[0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801n,0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79ben],b2:[4n,4n],x:0xd201000000010000n,h2Eff:0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551n},a=f(o.x);function s(e,t){const r=e%t;return r>=0n?r:t+r}function u(e,t,r){if(r<=0n||t<0n)throw new Error("Expected power/modulo > 0");if(1n===r)return 0n;let n=1n;for(;t>0n;)1n&t&&(n=n*e%r),e=e*e%r,t>>=1n;return n}function c(e,t){const r=new Array(t.length),n=t.reduce(((e,t,n)=>t.isZero()?e:(r[n]=e,e.multiply(t))),e.ONE).invert();return t.reduceRight(((e,t,n)=>t.isZero()?e:(r[n]=e.multiply(r[n]),e.multiply(t))),n),r}function f(e){let t;for(t=0;e>0n;e>>=1n,t+=1);return t}function l(e,t){return e>>BigInt(t)&1n}function h(e,t=o.P){const r=0n,n=1n;if(e===r||t<=r)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let i=s(e,t),a=t,u=r,c=n,f=n,l=r;for(;i!==r;){const e=a/i,t=a%i,r=u-f*e,n=c-l*e;a=i,i=t,u=f,c=l,f=r,l=n}if(a!==n)throw new Error("invert: does not exist");return s(u,t)}function d(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2);if(2!==i.length)throw new Error("Invalid byte sequence");const o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function p(e,t){const r=d(function(e,t){if(!t)throw new Error("byteLength target must be specified");const r=e.toString(16);return(1&r.length?`0${r}`:r).padStart(2*t,"0")}(e,t));if(r.length!==t)throw new Error("numberToBytesBE: wrong byteLength");return r}const b=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function y(e){let t="";for(let r=0;r<e.length;r++)t+=b[e[r]];return t}function _(e){return BigInt("0x"+y(e))}function m(...e){if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r}class g{isZero(){return 0n===this.value}equals(e){return this.value===e.value}negate(){return new g(-this.value)}invert(){return new g(h(this.value,g.ORDER))}add(e){return new g(this.value+e.value)}square(){return new g(this.value*this.value)}pow(e){return new g(u(this.value,e,g.ORDER))}sqrt(){const e=this.pow((g.ORDER+1n)/4n);if(e.square().equals(this))return e}subtract(e){return new g(this.value-e.value)}multiply(e){return e instanceof g&&(e=e.value),new g(this.value*e)}div(e){return"bigint"==typeof e&&(e=new g(e)),this.multiply(e.invert())}toString(){const e=this.value.toString(16).padStart(96,"0");return e.slice(0,2)+"."+e.slice(-2)}static fromBytes(e){if(e.length!==g.BYTES_LEN)throw new Error(`fromBytes wrong length=${e.length}`);return new g(_(e))}toBytes(){return p(this.value,g.BYTES_LEN)}constructor(e){this.value=s(e,g.ORDER)}}n=g,g.ORDER=o.P,g.MAX_BITS=f(o.P),g.BYTES_LEN=Math.ceil(n.MAX_BITS/8),g.ZERO=new g(0n),g.ONE=new g(1n);class v{static isValid(e){return e<=v.ORDER}isZero(){return 0n===this.value}equals(e){return this.value===e.value}negate(){return new v(-this.value)}invert(){return new v(h(this.value,v.ORDER))}add(e){return new v(this.value+e.value)}square(){return new v(this.value*this.value)}pow(e){return new v(u(this.value,e,v.ORDER))}subtract(e){return new v(this.value-e.value)}multiply(e){return e instanceof v&&(e=e.value),new v(this.value*e)}div(e){return"bigint"==typeof e&&(e=new v(e)),this.multiply(e.invert())}legendre(){return this.pow((v.ORDER-1n)/2n)}sqrt(){if(!this.legendre().equals(v.ONE))return;const e=v.ORDER;let t,r,n;for(t=e-1n,r=0;t%2n===0n;t/=2n,r++);if(1===r)return this.pow((e+1n)/4n);for(n=2n;n<e&&new v(n).legendre().value!==e-1n;n++);let i=u(n,t,e),o=u(this.value,(t+1n)/2n,e),a=u(this.value,t,e),c=0n;for(;0n!==s(a-1n,e);){let t;for(c=s(a*a,e),t=1;t<r&&0n!==s(c-1n,e);t++)c=s(c*c,e);let n=u(i,BigInt(1<<r-t-1),e);o=s(o*n,e),i=s(n*n,e),a=s(a*i,e),r=t}return new v(o)}toString(){return"0x"+this.value.toString(16).padStart(64,"0")}constructor(e){this.value=s(e,v.ORDER)}}function w(e,t,r){if(0n===r)return t;if(1n===r)return e;let n=t,i=e;for(;r>0n;)1n&r&&(n=n.multiply(i)),r>>=1n,i=i.square();return n}v.ORDER=o.r,v.ZERO=new v(0n),v.ONE=new v(1n);class E{static fromBigTuple(e){const t=e.map((e=>new g(e)));return new E(...t)}one(){return E.ONE}isZero(){return this.c0.isZero()&&this.c1.isZero()}toString(){return`Fp2(${this.c0} + ${this.c1}i)`}reim(){return{re:this.c0.value,im:this.c1.value}}negate(){const{c0:e,c1:t}=this;return new E(e.negate(),t.negate())}equals(e){const{c0:t,c1:r}=this,{c0:n,c1:i}=e;return t.equals(n)&&r.equals(i)}add(e){const{c0:t,c1:r}=this,{c0:n,c1:i}=e;return new E(t.add(n),r.add(i))}subtract(e){const{c0:t,c1:r}=this,{c0:n,c1:i}=e;return new E(t.subtract(n),r.subtract(i))}multiply(e){const{c0:t,c1:r}=this;if("bigint"==typeof e)return new E(t.multiply(e),r.multiply(e));const{c0:n,c1:i}=e;let o=t.multiply(n),a=r.multiply(i);return new E(o.subtract(a),t.add(r).multiply(n.add(i)).subtract(o.add(a)))}pow(e){return w(this,E.ONE,e)}div(e){const t="bigint"==typeof e?new g(e).invert().value:e.invert();return this.multiply(t)}mulByNonresidue(){const e=this.c0,t=this.c1;return new E(e.subtract(t),e.add(t))}square(){const e=this.c0,t=this.c1,r=e.add(t),n=e.subtract(t),i=e.add(e);return new E(r.multiply(n),i.multiply(t))}sqrt(){const e=this.pow((E.ORDER+8n)/16n),t=e.square().div(this),r=K,n=[r[0],r[2],r[4],r[6]].find((e=>e.equals(t)));if(!n)return;const i=r.indexOf(n),o=r[i/2];if(!o)throw new Error("Invalid root");const a=e.div(o),s=a.negate(),{re:u,im:c}=a.reim(),{re:f,im:l}=s.reim();return c>l||c===l&&u>f?a:s}invert(){const{re:e,im:t}=this.reim(),r=new g(e*e+t*t).invert();return new E(r.multiply(new g(e)),r.multiply(new g(-t)))}frobeniusMap(e){return new E(this.c0,this.c1.multiply(W[e%2]))}multiplyByB(){let e=this.c0,t=this.c1,r=e.multiply(4n),n=t.multiply(4n);return new E(r.subtract(n),r.add(n))}static fromBytes(e){if(e.length!==E.BYTES_LEN)throw new Error(`fromBytes wrong length=${e.length}`);return new E(g.fromBytes(e.subarray(0,g.BYTES_LEN)),g.fromBytes(e.subarray(g.BYTES_LEN)))}toBytes(){return m(this.c0.toBytes(),this.c1.toBytes())}constructor(e,t){if(this.c0=e,this.c1=t,"bigint"==typeof e)throw new Error("c0: Expected Fp");if("bigint"==typeof t)throw new Error("c1: Expected Fp")}}i=E,E.ORDER=o.P2,E.MAX_BITS=f(o.P2),E.BYTES_LEN=Math.ceil(i.MAX_BITS/8),E.ZERO=new E(g.ZERO,g.ZERO),E.ONE=new E(g.ONE,g.ZERO);class x{static fromBigSix(e){if(!Array.isArray(e)||6!==e.length)throw new Error("Invalid Fp6 usage");const t=[e.slice(0,2),e.slice(2,4),e.slice(4,6)].map((e=>E.fromBigTuple(e)));return new x(...t)}fromTriple(e){return new x(...e)}one(){return x.ONE}isZero(){return this.c0.isZero()&&this.c1.isZero()&&this.c2.isZero()}negate(){const{c0:e,c1:t,c2:r}=this;return new x(e.negate(),t.negate(),r.negate())}toString(){return`Fp6(${this.c0} + ${this.c1} * v, ${this.c2} * v^2)`}equals(e){const{c0:t,c1:r,c2:n}=this,{c0:i,c1:o,c2:a}=e;return t.equals(i)&&r.equals(o)&&n.equals(a)}add(e){const{c0:t,c1:r,c2:n}=this,{c0:i,c1:o,c2:a}=e;return new x(t.add(i),r.add(o),n.add(a))}subtract(e){const{c0:t,c1:r,c2:n}=this,{c0:i,c1:o,c2:a}=e;return new x(t.subtract(i),r.subtract(o),n.subtract(a))}multiply(e){if("bigint"==typeof e)return new x(this.c0.multiply(e),this.c1.multiply(e),this.c2.multiply(e));let{c0:t,c1:r,c2:n}=this,{c0:i,c1:o,c2:a}=e,s=t.multiply(i),u=r.multiply(o),c=n.multiply(a);return new x(s.add(r.add(n).multiply(o.add(a)).subtract(u.add(c)).mulByNonresidue()),t.add(r).multiply(i.add(o)).subtract(s.add(u)).add(c.mulByNonresidue()),u.add(t.add(n).multiply(i.add(a)).subtract(s.add(c))))}pow(e){return w(this,x.ONE,e)}div(e){const t="bigint"==typeof e?new g(e).invert().value:e.invert();return this.multiply(t)}mulByNonresidue(){return new x(this.c2.mulByNonresidue(),this.c0,this.c1)}multiplyBy1(e){return new x(this.c2.multiply(e).mulByNonresidue(),this.c0.multiply(e),this.c1.multiply(e))}multiplyBy01(e,t){let{c0:r,c1:n,c2:i}=this,o=r.multiply(e),a=n.multiply(t);return new x(n.add(i).multiply(t).subtract(a).mulByNonresidue().add(o),e.add(t).multiply(r.add(n)).subtract(o).subtract(a),r.add(i).multiply(e).subtract(o).add(a))}multiplyByFp2(e){let{c0:t,c1:r,c2:n}=this;return new x(t.multiply(e),r.multiply(e),n.multiply(e))}square(){let{c0:e,c1:t,c2:r}=this,n=e.square(),i=e.multiply(t).multiply(2n),o=t.multiply(r).multiply(2n),a=r.square();return new x(o.mulByNonresidue().add(n),a.mulByNonresidue().add(i),i.add(e.subtract(t).add(r).square()).add(o).subtract(n).subtract(a))}invert(){let{c0:e,c1:t,c2:r}=this,n=e.square().subtract(r.multiply(t).mulByNonresidue()),i=r.square().mulByNonresidue().subtract(e.multiply(t)),o=t.square().subtract(e.multiply(r)),a=r.multiply(i).add(t.multiply(o)).mulByNonresidue().add(e.multiply(n)).invert();return new x(a.multiply(n),a.multiply(i),a.multiply(o))}frobeniusMap(e){return new x(this.c0.frobeniusMap(e),this.c1.frobeniusMap(e).multiply(J[e%6]),this.c2.frobeniusMap(e).multiply(Q[e%6]))}static fromBytes(e){if(e.length!==x.BYTES_LEN)throw new Error(`fromBytes wrong length=${e.length}`);return new x(E.fromBytes(e.subarray(0,E.BYTES_LEN)),E.fromBytes(e.subarray(E.BYTES_LEN,2*E.BYTES_LEN)),E.fromBytes(e.subarray(2*E.BYTES_LEN)))}toBytes(){return m(this.c0.toBytes(),this.c1.toBytes(),this.c2.toBytes())}constructor(e,t,r){this.c0=e,this.c1=t,this.c2=r}}x.ZERO=new x(E.ZERO,E.ZERO,E.ZERO),x.ONE=new x(E.ONE,E.ZERO,E.ZERO),x.BYTES_LEN=3*E.BYTES_LEN;class O{static fromBigTwelve(e){return new O(x.fromBigSix(e.slice(0,6)),x.fromBigSix(e.slice(6,12)))}fromTuple(e){return new O(...e)}one(){return O.ONE}isZero(){return this.c0.isZero()&&this.c1.isZero()}toString(){return`Fp12(${this.c0} + ${this.c1} * w)`}negate(){const{c0:e,c1:t}=this;return new O(e.negate(),t.negate())}equals(e){const{c0:t,c1:r}=this,{c0:n,c1:i}=e;return t.equals(n)&&r.equals(i)}add(e){const{c0:t,c1:r}=this,{c0:n,c1:i}=e;return new O(t.add(n),r.add(i))}subtract(e){const{c0:t,c1:r}=this,{c0:n,c1:i}=e;return new O(t.subtract(n),r.subtract(i))}multiply(e){if("bigint"==typeof e)return new O(this.c0.multiply(e),this.c1.multiply(e));let{c0:t,c1:r}=this,{c0:n,c1:i}=e,o=t.multiply(n),a=r.multiply(i);return new O(o.add(a.mulByNonresidue()),t.add(r).multiply(n.add(i)).subtract(o.add(a)))}pow(e){return w(this,O.ONE,e)}div(e){const t="bigint"==typeof e?new g(e).invert().value:e.invert();return this.multiply(t)}multiplyBy014(e,t,r){let{c0:n,c1:i}=this,o=n.multiplyBy01(e,t),a=i.multiplyBy1(r);return new O(a.mulByNonresidue().add(o),i.add(n).multiplyBy01(e,t.add(r)).subtract(o).subtract(a))}multiplyByFp2(e){return new O(this.c0.multiplyByFp2(e),this.c1.multiplyByFp2(e))}square(){let{c0:e,c1:t}=this,r=e.multiply(t);return new O(t.mulByNonresidue().add(e).multiply(e.add(t)).subtract(r).subtract(r.mulByNonresidue()),r.add(r))}invert(){let{c0:e,c1:t}=this,r=e.square().subtract(t.square().mulByNonresidue()).invert();return new O(e.multiply(r),t.multiply(r).negate())}conjugate(){return new O(this.c0,this.c1.negate())}frobeniusMap(e){const t=this.c0.frobeniusMap(e),{c0:r,c1:n,c2:i}=this.c1.frobeniusMap(e),o=ee[e%12];return new O(t,new x(r.multiply(o),n.multiply(o),i.multiply(o)))}Fp4Square(e,t){const r=e.square(),n=t.square();return{first:n.mulByNonresidue().add(r),second:e.add(t).square().subtract(r).subtract(n)}}cyclotomicSquare(){const{c0:e,c1:t,c2:r}=this.c0,{c0:n,c1:i,c2:o}=this.c1,{first:a,second:s}=this.Fp4Square(e,i),{first:u,second:c}=this.Fp4Square(n,r),{first:f,second:l}=this.Fp4Square(t,o);let h=l.mulByNonresidue();return new O(new x(a.subtract(e).multiply(2n).add(a),u.subtract(t).multiply(2n).add(u),f.subtract(r).multiply(2n).add(f)),new x(h.add(n).multiply(2n).add(h),s.add(i).multiply(2n).add(s),c.add(o).multiply(2n).add(c)))}cyclotomicExp(e){let t=O.ONE;for(let r=a-1;r>=0;r--)t=t.cyclotomicSquare(),l(e,r)&&(t=t.multiply(this));return t}finalExponentiate(){const{x:e}=o,t=this.frobeniusMap(6).div(this),r=t.frobeniusMap(2).multiply(t),n=r.cyclotomicExp(e).conjugate(),i=r.cyclotomicSquare().conjugate().multiply(n),a=i.cyclotomicExp(e).conjugate(),s=a.cyclotomicExp(e).conjugate(),u=s.cyclotomicExp(e).conjugate().multiply(n.cyclotomicSquare()),c=u.cyclotomicExp(e).conjugate(),f=n.multiply(s).frobeniusMap(2),l=a.multiply(r).frobeniusMap(3),h=u.multiply(r.conjugate()).frobeniusMap(1),d=c.multiply(i.conjugate()).multiply(r);return f.multiply(l).multiply(h).multiply(d)}static fromBytes(e){if(e.length!==O.BYTES_LEN)throw new Error(`fromBytes wrong length=${e.length}`);return new O(x.fromBytes(e.subarray(0,x.BYTES_LEN)),x.fromBytes(e.subarray(x.BYTES_LEN)))}toBytes(){return m(this.c0.toBytes(),this.c1.toBytes())}constructor(e,t){this.c0=e,this.c1=t}}O.ZERO=new O(x.ZERO,x.ZERO),O.ONE=new O(x.ONE,x.ZERO),O.BYTES_LEN=2*x.BYTES_LEN;class B{isZero(){return this.z.isZero()}createPoint(e,t,r){return new this.constructor(e,t,r)}getZero(){return this.createPoint(this.C.ONE,this.C.ONE,this.C.ZERO)}equals(e){if(this.constructor!==e.constructor)throw new Error(`ProjectivePoint#equals: this is ${this.constructor}, but rhs is ${e.constructor}`);const t=this,r=e,n=t.x.multiply(r.z).equals(r.x.multiply(t.z)),i=t.y.multiply(r.z).equals(r.y.multiply(t.z));return n&&i}negate(){return this.createPoint(this.x,this.y.negate(),this.z)}toString(e=!0){if(this.isZero())return"Point<Zero>";if(!e)return`Point<x=${this.x}, y=${this.y}, z=${this.z}>`;const[t,r]=this.toAffine();return`Point<x=${t}, y=${r}>`}fromAffineTuple(e){return this.createPoint(e[0],e[1],this.C.ONE)}toAffine(e=this.z.invert()){if(e.isZero())throw new Error("Invalid inverted z");return[this.x.multiply(e),this.y.multiply(e)]}toAffineBatch(e){const t=c(this.C,e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}normalizeZ(e){return this.toAffineBatch(e).map((e=>this.fromAffineTuple(e)))}double(){const{x:e,y:t,z:r}=this,n=e.multiply(e).multiply(3n),i=t.multiply(r),o=i.multiply(i),a=o.multiply(i),s=e.multiply(t).multiply(i),u=n.multiply(n).subtract(s.multiply(8n)),c=u.multiply(i).multiply(2n),f=n.multiply(s.multiply(4n).subtract(u)).subtract(t.multiply(t).multiply(8n).multiply(o)),l=a.multiply(8n);return this.createPoint(c,f,l)}add(e){if(this.constructor!==e.constructor)throw new Error(`ProjectivePoint#add: this is ${this.constructor}, but rhs is ${e.constructor}`);const t=this,r=e;if(t.isZero())return r;if(r.isZero())return t;const n=t.x,i=t.y,o=t.z,a=r.x,s=r.y,u=r.z,c=s.multiply(o),f=i.multiply(u),l=a.multiply(o),h=n.multiply(u);if(l.equals(h)&&c.equals(f))return this.double();if(l.equals(h))return this.getZero();const d=c.subtract(f),p=l.subtract(h),b=p.multiply(p),y=b.multiply(p),_=h.multiply(b),m=o.multiply(u),g=d.multiply(d).multiply(m).subtract(y).subtract(_.multiply(2n)),v=p.multiply(g),w=d.multiply(_.subtract(g)).subtract(y.multiply(f)),E=y.multiply(m);return this.createPoint(v,w,E)}subtract(e){if(this.constructor!==e.constructor)throw new Error(`ProjectivePoint#subtract: this is ${this.constructor}, but rhs is ${e.constructor}`);return this.add(e.negate())}validateScalar(e){if("number"==typeof e&&(e=BigInt(e)),"bigint"!=typeof e||e<=0||e>o.r)throw new Error(`Point#multiply: invalid scalar, expected positive integer < CURVE.r. Got: ${e}`);return e}multiplyUnsafe(e){let t=this.validateScalar(e),r=this.getZero(),n=this;for(;t>0n;)1n&t&&(r=r.add(n)),n=n.double(),t>>=1n;return r}multiply(e){let t=this.validateScalar(e),r=this.getZero(),n=this.getZero(),i=this,o=g.ORDER;for(;o>0n;)1n&t?r=r.add(i):n=n.add(i),i=i.double(),t>>=1n,o>>=1n;return r}maxBits(){return this.C.MAX_BITS}precomputeWindow(e){const t=Math.ceil(this.maxBits()/e),r=2**(e-1);let n=[],i=this,o=i;for(let e=0;e<t;e++){o=i,n.push(o);for(let e=1;e<r;e++)o=o.add(i),n.push(o);i=o.double()}return n}calcMultiplyPrecomputes(e){if(this._MPRECOMPUTES)throw new Error("This point already has precomputes");this._MPRECOMPUTES=[e,this.normalizeZ(this.precomputeWindow(e))]}clearMultiplyPrecomputes(){this._MPRECOMPUTES=void 0}wNAF(e){let t,r;this._MPRECOMPUTES?[t,r]=this._MPRECOMPUTES:(t=1,r=this.precomputeWindow(t));let n=this.getZero(),i=this.getZero();const o=Math.ceil(this.maxBits()/t),a=2**(t-1),s=BigInt(2**t-1),u=2**t,c=BigInt(t);for(let t=0;t<o;t++){const o=t*a;let f=Number(e&s);if(e>>=c,f>a&&(f-=u,e+=1n),0===f)i=i.add(t%2?r[o].negate():r[o]);else{const e=r[o+Math.abs(f)-1];n=n.add(f<0?e.negate():e)}}return[n,i]}multiplyPrecomputed(e){return this.wNAF(this.validateScalar(e))[0]}constructor(e,t,r,n){this.x=e,this.y=t,this.z=r,this.C=n}}function A(e){const{re:t,im:r}=e.reim();return BigInt(t%2n||0n===t&&r%2n)}function F(e){return Boolean(e.value%2n)}const T=(o.P**2n-9n)/16n;function C(e){const t=new E(new g(0n),new g(240n)),r=new E(new g(1012n),new g(1012n)),n=new E(new g(-2n),new g(-1n));Array.isArray(e)&&(e=E.fromBigTuple(e));const i=e.pow(2n),o=n.multiply(i),a=o.add(o.pow(2n));let s=t.multiply(a).negate(),u=r.multiply(a.add(E.ONE));s.isZero()&&(s=n.multiply(t));let c=s.pow(3n),f=u.pow(3n).add(t.multiply(u).multiply(s.pow(2n))).add(r.multiply(c));const{success:l,sqrtCandidateOrGamma:h}=function(e,t){const r=t.pow(7n),n=e.multiply(r),i=n.multiply(r.multiply(t)).pow(T).multiply(n);let o=!1,a=i;return K.slice(0,4).forEach((r=>{const n=r.multiply(i);n.pow(2n).multiply(t).subtract(e).isZero()&&!o&&(o=!0,a=n)})),{success:o,sqrtCandidateOrGamma:a}}(f,c);let d;l&&(d=h);const p=h.multiply(e.pow(3n));f=o.pow(3n).multiply(f);let b=!1;if(X.forEach((e=>{const t=e.multiply(p);!t.pow(2n).multiply(c).subtract(f).isZero()||l||b||(d=t,b=!0)})),!l&&!b)throw new Error("Hash to Curve - Optimized SWU failure");return b&&(u=u.multiply(o)),A(e)!==A(d)&&(d=d.negate()),[u.div(s),d]}function N(e){const t=new g(0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1dn),r=new g(0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0n),n=new g(11n),i=(g.ORDER-3n)/4n,o=n.negate().pow(3n).sqrt(),a=e.square(),s=n.multiply(a);let u=s.square().add(s);const c=u.add(g.ONE).multiply(r),f=s.multiply(c);u=t.negate().multiply(u),u.isZero()&&(u=t.multiply(n));let l=u.square();const h=l.multiply(u);l=t.multiply(l);let d=c.square().add(l).multiply(c);l=r.multiply(h),d=d.add(l),l=d.multiply(h);const p=h.square().multiply(l).pow(i).multiply(l),b=p.multiply(o).multiply(a).multiply(e);let y,_;p.square().multiply(h).equals(d)?(y=c,_=p):(y=f,_=b);const m=_.negate(),v=F(e)==F(_)?_:m;return[y.div(u),v]}function U(e,t,r){const[n,i,o,a]=e.map((e=>e.reduce(((e,r)=>e.multiply(t).add(r)))));return t=n.div(i),r=r.multiply(o.div(a)),[t,r]}const S=(e,t)=>U(te,e,t),I=(e,t)=>U(re,e,t);function P(e,t){const r=e,n=t;let i=r,s=n,u=E.ONE,c=[];for(let e=a-2;e>=0;e--){let t=s.square(),a=u.square(),f=a.multiply(3n).multiplyByB(),h=f.multiply(3n),d=s.add(u).square().subtract(a).subtract(t);if(c.push([f.subtract(t),i.square().multiply(3n),d.negate()]),i=t.subtract(h).multiply(i).multiply(s).div(2n),s=t.add(h).div(2n).square().subtract(f.square().multiply(3n)),u=t.multiply(d),l(o.x,e)){let e=s.subtract(n.multiply(u)),t=i.subtract(r.multiply(u));c.push([e.multiply(r).subtract(t.multiply(n)),e.negate(),t]);let o=t.square(),a=o.multiply(t),f=o.multiply(i),l=a.subtract(f.multiply(2n)).add(e.square().multiply(u));i=t.multiply(l),s=f.subtract(l).multiply(e).subtract(a.multiply(s)),u=u.multiply(a)}}return c}function k(e,t){const r=t[0].value,n=t[1].value;let i=O.ONE;for(let t=0,s=a-2;s>=0;s--,t++){const a=e[t];if(i=i.multiplyBy014(a[0],a[1].multiply(r),a[2].multiply(n)),l(o.x,s)){t+=1;const o=e[t];i=i.multiplyBy014(o[0],o[1].multiply(r),o[2].multiply(n))}0!==s&&(i=i.square())}return i.conjugate()}const j=new x(E.ZERO,E.ONE,E.ZERO),R=new O(j,x.ZERO),L=new O(x.ZERO,j),[D,M]=c(O,[R,L]);function $(e,t){return[D.multiplyByFp2(e).frobeniusMap(1).multiply(R).c0.c0,M.multiplyByFp2(t).frobeniusMap(1).multiply(L).c0.c0]}function H(e,t){return[e.multiply(V),t.negate()]}const V=0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn,q=0x6af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09n,G=0x699be3b8c6870965e5bf892ad5d2cc7b0e85a117402dfd83b7f4a947e02d978498255a2aaec0ac627b5afbdf1bf1c90n,z=0x8157cd83046453f5dd0972b6e3949e4288020b5b8a9cc99ca07e27089a2ce2436d965026adad3ef7baba37f2183e9b5n,Z=0xab1c2ffdd6c253ca155231eb3e71ba044fd562f6f72bc5bad5ec46a0b7a3b0247cf08ce6c6317f40edbc653a72dee17n,Y=0xaa404866706722864480885d68ad0ccac1967c7544b447873cc37e0181271e006df72162a3d3e0287bf597fbf7f8fc1n,W=[0x1n,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaan].map((e=>new g(e))),K=[[1n,0n],[q,-q],[0n,1n],[q,q],[-1n,0n],[-q,q],[0n,-1n],[-q,-q]].map((e=>E.fromBigTuple(e))),X=[[G,z],[-z,G],[Z,Y],[-Y,Z]].map((e=>E.fromBigTuple(e))),J=[[0x1n,0x0n],[0x0n,0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn],[0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen,0x0n],[0x0n,0x1n],[0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn,0x0n],[0x0n,0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen]].map((e=>E.fromBigTuple(e))),Q=[[0x1n,0x0n],[0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaadn,0x0n],[0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn,0x0n],[0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaan,0x0n],[0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen,0x0n],[0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffffn,0x0n]].map((e=>E.fromBigTuple(e))),ee=[[0x1n,0x0n],[0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8n,0x00fc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3n],[0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffeffffn,0x0n],[0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2n,0x06af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09n],[0x00000000000000005f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffen,0x0n],[0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995n,0x05b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116n],[0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaaan,0x0n],[0x00fc3e2b36c4e03288e9e902231f9fb854a14787b6c7b36fec0c8ec971f63c5f282d5ac14d6c7ec22cf78a126ddc4af3n,0x1904d3bf02bb0667c231beb4202c0d1f0fd603fd3cbd5f4f7b2443d784bab9c4f67ea53d63e7813d8d0775ed92235fb8n],[0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaacn,0x0n],[0x06af0e0437ff400b6831e36d6bd17ffe48395dabc2d3435e77f76e17009241c5ee67992f72ec05f4c81084fbede3cc09n,0x135203e60180a68ee2e9c448d77a2cd91c3dedd930b1cf60ef396489f61eb45e304466cf3e67fa0af1ee7b04121bdea2n],[0x1a0111ea397fe699ec02408663d4de85aa0d857d89759ad4897d29650fb85f9b409427eb4f49fffd8bfd00000000aaadn,0x0n],[0x05b2cfd9013a5fd8df47fa6b48b1e045f39816240c0b8fee8beadf4d8e9c0566c63a3e6e257f87329b18fae980078116n,0x144e4211384586c16bd3ad4afa99cc9170df3560e77982d0db45f3536814f0bd5871c1908bd478cd1ee605167ff82995n]].map((e=>E.fromBigTuple(e))),te=[[[0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1n,0x0n],[0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71en,0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38dn],[0x0n,0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71an],[0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6n,0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6n]].map((e=>E.fromBigTuple(e))),[[0x0n,0x0n],[0x1n,0x0n],[0xcn,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9fn],[0x0n,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63n]].map((e=>E.fromBigTuple(e))),[[0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10n,0x0n],[0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71cn,0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38fn],[0x0n,0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97ben],[0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706n,0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706n]].map((e=>E.fromBigTuple(e))),[[0x1n,0x0n],[0x12n,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99n],[0x0n,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3n],[0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fbn,0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fbn]].map((e=>E.fromBigTuple(e)))],re=[[new g(0x06e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229n),new g(0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7bn),new g(0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9en),new g(0x080d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317n),new g(0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88en),new g(0x0d6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84n),new g(0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983n),new g(0x0e99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9n),new g(0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861n),new g(0x0d54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0n),new g(0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bbn),new g(0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7n)],[new g(0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001n),new g(0x095fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0an),new g(0x0a10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641n),new g(0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5en),new g(0x0772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3an),new g(0x0e7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5n),new g(0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21en),new g(0x03425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8n),new g(0x0b2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19n),new g(0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bffn),new g(0x08ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1cn)],[new g(0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604n),new g(0x05c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224bn),new g(0x0245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133n),new g(0x0b182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8n),new g(0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8en),new g(0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132n),new g(0x0e1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30n),new g(0x09fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587n),new g(0x0987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29n),new g(0x04ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2n),new g(0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0n),new g(0x08cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedbn),new g(0x01f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cbn),new g(0x00cc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6n),new g(0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696n),new g(0x090d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33n)],[new g(0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001n),new g(0x0e0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8fn),new g(0x02660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7n),new g(0x0ad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345ccn),new g(0x0accbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092n),new g(0x04d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8n),new g(0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55n),new g(0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4an),new g(0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9n),new g(0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775cn),new g(0x08d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7acn),new g(0x0be0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001dn),new g(0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416n),new g(0x058df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2n),new g(0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03dn),new g(0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1n)]]})),o.register("h2OPX",(function(e,t){var r=o("aBw8d").Buffer,n=e.exports&&e.exports.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.exports&&e.exports.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.exports&&e.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.gtToHash=e.exports.decryptOnG2=e.exports.decryptOnG1=e.exports.encryptOnG2=e.exports.encryptOnG1=void 0;const s=a(o("fFa5O"));var u=o("3n63Z"),c=o("6nW7K");function f(e,t){return u.sha256.create().update("IBE-H2").update((0,c.fp12ToBytes)(e)).digest().slice(0,t)}e.exports.encryptOnG1=async function(e,t,r){if(r.length>>8>1)throw new Error("cannot encrypt messages larger than our hash output: 256 bits.");const n=await s.PointG2.hashToCurve(t),i=s.pairing(e,n),a=o("fFa5O").utils.randomBytes(r.length),u=l(a,r),d=s.PointG1.BASE.multiply(u),p=i.pow(u),b=await f(p,r.length),y=(0,c.xor)(a,b),_=h(a,r.length);return{U:d,V:y,W:(0,c.xor)(r,_)}},e.exports.encryptOnG2=async function(e,t,r){if(r.length>>8>1)throw new Error("cannot encrypt messages larger than our hash output: 256 bits.");const n=await s.PointG1.hashToCurve(t),i=s.pairing(n,e),a=o("fFa5O").utils.randomBytes(r.length),u=l(a,r),d=s.PointG2.BASE.multiply(u),p=i.pow(u),b=await f(p,r.length),y=(0,c.xor)(a,b),_=h(a,r.length);return{U:d,V:y,W:(0,c.xor)(r,_)}},e.exports.decryptOnG1=async function(e,t){const r=f(s.pairing(t.U,e),t.W.length);if(r.length!=t.V.length)throw new Error("XorSigma is of invalid length");const n=(0,c.xor)(r,t.V),i=h(n,t.W.length),o=(0,c.xor)(i,t.W),a=l(n,o);if(!s.PointG1.BASE.multiply(a).equals(t.U))throw new Error("invalid proof: rP check failed");return o},e.exports.decryptOnG2=async function(e,t){const r=f(s.pairing(e,t.U),t.W.length);if(r.length!=t.V.length)throw new Error("XorSigma is of invalid length");const n=(0,c.xor)(r,t.V),i=h(n,t.W.length),o=(0,c.xor)(i,t.W),a=l(n,o);if(!s.PointG2.BASE.multiply(a).equals(t.U))throw new Error("invalid proof: rP check failed");return o},e.exports.gtToHash=f;function l(e,t){const r=u.sha256.create().update("IBE-H3").update(e).update(t).digest();for(let e=1;e<65535;e++){let t=r;t=u.sha256.create().update(d(e)).update(t).digest(),t[0]=t[0]>>1;const n=(0,c.bytesToNumberBE)(t);if(n<s.CURVE.r)return n}throw new Error("invalid proof: rP check failed")}function h(e,t){return u.sha256.create().update("IBE-H4").update(e).digest().slice(0,t)}function d(e){if(e<0)throw Error("cannot write a negative value as uint!");if(e>65536)throw Error("input value too large to fit in a uint16!");const t=r.alloc(2);return t.writeUint16LE(e),t}})),o.register("3n63Z",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.sha256=void 0;var r=o("jn9Fv"),n=o("edMcK");const i=(e,t,r)=>e&t^e&r^t&r,a=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class c extends r.SHA2{get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:a,H:s}=this;return[e,t,r,n,i,o,a,s]}set(e,t,r,n,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)u[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=u[e-15],r=u[e-2],i=(0,n.rotr)(t,7)^(0,n.rotr)(t,18)^t>>>3,o=(0,n.rotr)(r,17)^(0,n.rotr)(r,19)^r>>>10;u[e]=o+u[e-7]+i+u[e-16]|0}let{A:r,B:o,C:s,D:c,E:f,F:l,G:h,H:d}=this;for(let e=0;e<64;e++){const t=d+((0,n.rotr)(f,6)^(0,n.rotr)(f,11)^(0,n.rotr)(f,25))+((p=f)&l^~p&h)+a[e]+u[e]|0,b=((0,n.rotr)(r,2)^(0,n.rotr)(r,13)^(0,n.rotr)(r,22))+i(r,o,s)|0;d=h,h=l,l=f,f=c+t|0,c=s,s=o,o=r,r=t+b|0}var p;r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,c=c+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,d=d+this.H|0,this.set(r,o,s,c,f,l,h,d)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}}e.exports.sha256=(0,n.wrapConstructor)((()=>new c))})),o.register("jn9Fv",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.SHA2=void 0;var r=o("1eEWE"),n=o("edMcK");class i extends n.Hash{update(e){r.default.exists(this);const{view:t,buffer:i,blockLen:o}=this,a=(e=(0,n.toBytes)(e)).length;for(let r=0;r<a;){const s=Math.min(o-this.pos,a-r);if(s!==o)i.set(e.subarray(r,r+s),this.pos),this.pos+=s,r+=s,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,n.createView)(e);for(;o<=a-r;r+=o)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){r.default.exists(this),r.default.output(e,this),this.finished=!0;const{buffer:t,view:i,blockLen:o,isLE:a}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(i,0),s=0);for(let e=s;e<o;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),u=n?4:0,c=n?0:4;e.setUint32(t+u,a,n),e.setUint32(t+c,s,n)}(i,o-8,BigInt(8*this.length),a),this.process(i,0);const u=(0,n.createView)(e);this.get().forEach(((e,t)=>u.setUint32(4*t,e,a)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,n.createView)(this.buffer)}}e.exports.SHA2=i})),o.register("1eEWE",(function(e,t){function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function n(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function i(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function s(e,t){i(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.output=e.exports.exists=e.exports.hash=e.exports.bytes=e.exports.bool=e.exports.number=void 0,e.exports.number=r,e.exports.bool=n,e.exports.bytes=i,e.exports.hash=o,e.exports.exists=a,e.exports.output=s;const u={number:r,bool:n,bytes:i,hash:o,exists:a,output:s};e.exports.default=u})),o.register("edMcK",(function(e,t){
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.randomBytes=e.exports.wrapConstructorWithOpts=e.exports.wrapConstructor=e.exports.checkOpts=e.exports.Hash=e.exports.concatBytes=e.exports.toBytes=e.exports.utf8ToBytes=e.exports.asyncLoop=e.exports.nextTick=e.exports.hexToBytes=e.exports.bytesToHex=e.exports.isLE=e.exports.rotr=e.exports.createView=e.exports.u32=e.exports.u8=void 0;var r=o("dFAMb");e.exports.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);e.exports.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));e.exports.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(e.exports.rotr=(e,t)=>e<<32-t|e>>>t,e.exports.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.exports.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));e.exports.bytesToHex=function(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=n[e[r]];return t},e.exports.hexToBytes=function(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t};function i(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function a(e){if("string"==typeof e&&(e=i(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}e.exports.nextTick=async()=>{},e.exports.asyncLoop=async function(t,r,n){let i=Date.now();for(let o=0;o<t;o++){n(o);const t=Date.now()-i;t>=0&&t<r||(await(0,e.exports.nextTick)(),i+=t)}},e.exports.utf8ToBytes=i,e.exports.toBytes=a,e.exports.concatBytes=function(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return r};e.exports.Hash=class{clone(){return this._cloneInto()}};e.exports.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(r=t,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(e,t)},e.exports.wrapConstructor=function(e){const t=t=>e().update(a(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},e.exports.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(a(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},e.exports.randomBytes=function(e=32){if(r.crypto.web)return r.crypto.web.getRandomValues(new Uint8Array(e));if(r.crypto.node)return new Uint8Array(r.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}})),o.register("dFAMb",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.crypto=void 0,e.exports.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}})),o.register("6nW7K",(function(e,t){var r=o("aBw8d").Buffer;Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.fp12ToBytes=e.exports.fp6ToBytes=e.exports.fp2ToBytes=e.exports.fpToBytes=e.exports.bytesToHex=e.exports.bytesToNumberBE=e.exports.xor=void 0,e.exports.xor=function(e,t){if(e.length!=t.length)throw new Error("Error: incompatible sizes");const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r},e.exports.bytesToNumberBE=function(e){return BigInt("0x"+i(Uint8Array.from(e)))};const n=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function i(e){let t="";for(let r=0;r<e.length;r++)t+=n[e[r]];return t}function a(e){const t=BigInt(e.value).toString(16).padStart(96,"0"),n=r.alloc(t.length/2);return n.write(t,"hex"),n}function s(e){return r.concat([e.c1,e.c0].map(a))}function u(e){return r.concat([e.c2,e.c1,e.c0].map(s))}e.exports.bytesToHex=i,e.exports.fpToBytes=a,e.exports.fp2ToBytes=s,e.exports.fp6ToBytes=u,e.exports.fp12ToBytes=function(e){return r.concat([e.c1,e.c0].map(u))}})),o.register("aP7tf",(function(e,t){var r=o("2Jyx5"),n=o("i4gky"),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||n;e.exports=u})),o.register("2Jyx5",(function(e,t){var r=o("8UT1M"),n="object"==typeof self&&self&&self.Object===Object&&self,i=r||n||Function("return this")();e.exports=i})),o.register("8UT1M",(function(e,t){var n="object"==typeof r&&r&&r.Object===Object&&r;e.exports=n})),o.register("i4gky",(function(e,t){e.exports=function(){return!1}})),o.register("1Ido4",(function(e,t){var r=o("8UT1M"),n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,a=i&&i.exports===n&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}));var a,s,u,c,f,l={},h=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function p(e,t){for(var r in t)e[r]=t[r];return e}function b(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,r){var n,i,o,s={};for(o in t)"key"==o?n=t[o]:"ref"==o?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?a.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return _(e,s,n,i,null)}function _(e,t,r,n,i){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++u:i};return null==i&&null!=s.vnode&&s.vnode(o),o}function m(e){return e.children}function g(e,t){this.props=e,this.context=t}function v(e,t){if(null==t)return e.__?v(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?v(e):null}function w(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return w(e)}}function E(e){(!e.__d&&(e.__d=!0)&&c.push(e)&&!x.__r++||f!==s.debounceRendering)&&((f=s.debounceRendering)||setTimeout)(x)}function x(){for(var e;x.__r=c.length;)e=c.sort((function(e,t){return e.__v.__b-t.__v.__b})),c=[],e.some((function(e){var t,r,n,i,o,a;e.__d&&(o=(i=(t=e).__v).__e,(a=t.__P)&&(r=[],(n=p({},i)).__v=i.__v+1,S(a,i,n,t.__n,void 0!==a.ownerSVGElement,null!=i.__h?[o]:null,r,null==o?v(i):o,i.__h),I(r,i),i.__e!=o&&w(i)))}))}function O(e,t,r,n,i,o,a,s,u,c){var f,d,p,b,y,g,w,E=n&&n.__k||h,x=E.length;for(r.__k=[],f=0;f<t.length;f++)if(null!=(b=r.__k[f]=null==(b=t[f])||"boolean"==typeof b?null:"string"==typeof b||"number"==typeof b||"bigint"==typeof b?_(null,b,null,null,b):Array.isArray(b)?_(m,{children:b},null,null,null):b.__b>0?_(b.type,b.props,b.key,null,b.__v):b)){if(b.__=r,b.__b=r.__b+1,null===(p=E[f])||p&&b.key==p.key&&b.type===p.type)E[f]=void 0;else for(d=0;d<x;d++){if((p=E[d])&&b.key==p.key&&b.type===p.type){E[d]=void 0;break}p=null}S(e,b,p=p||l,i,o,a,s,u,c),y=b.__e,(d=b.ref)&&p.ref!=d&&(w||(w=[]),p.ref&&w.push(p.ref,null,b),w.push(d,b.__c||y,b)),null!=y?(null==g&&(g=y),"function"==typeof b.type&&b.__k===p.__k?b.__d=u=B(b,u,e):u=F(e,b,p,E,y,u),"function"==typeof r.type&&(r.__d=u)):u&&p.__e==u&&u.parentNode!=e&&(u=v(p))}for(r.__e=g,f=x;f--;)null!=E[f]&&("function"==typeof r.type&&null!=E[f].__e&&E[f].__e==r.__d&&(r.__d=v(n,f+1)),k(E[f],E[f]));if(w)for(f=0;f<w.length;f++)P(w[f],w[++f],w[++f])}function B(e,t,r){for(var n,i=e.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=e,t="function"==typeof n.type?B(n,t,r):F(r,n,n,i,n.__e,t));return t}function A(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){A(e,t)})):t.push(e)),t}function F(e,t,r,n,i,o){var a,s,u;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==r||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),a=null;else{for(s=o,u=0;(s=s.nextSibling)&&u<n.length;u+=2)if(s==i)break e;e.insertBefore(i,o),a=o}return void 0!==a?a:i.nextSibling}function T(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||d.test(t)?r:r+"px"}function C(e,t,r,n,i){var o;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||T(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||T(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n||e.addEventListener(t,o?U:N,o):e.removeEventListener(t,o?U:N,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null!=r&&(!1!==r||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,r):e.removeAttribute(t))}}function N(e){this.l[e.type+!1](s.event?s.event(e):e)}function U(e){this.l[e.type+!0](s.event?s.event(e):e)}function S(e,t,r,n,i,o,u,c,f){var h,d,y,_,w,E,x,B,A,F,T,N,U,S=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(f=r.__h,c=t.__e=r.__e,t.__h=null,o=[c]),(h=s.__b)&&h(t);try{e:if("function"==typeof S){if(B=t.props,A=(h=S.contextType)&&n[h.__c],F=h?A?A.props.value:h.__:n,r.__c?x=(d=t.__c=r.__c).__=d.__E:("prototype"in S&&S.prototype.render?t.__c=d=new S(B,F):(t.__c=d=new g(B,F),d.constructor=S,d.render=j),A&&A.sub(d),d.props=B,d.state||(d.state={}),d.context=F,d.__n=n,y=d.__d=!0,d.__h=[]),null==d.__s&&(d.__s=d.state),null!=S.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=p({},d.__s)),p(d.__s,S.getDerivedStateFromProps(B,d.__s))),_=d.props,w=d.state,y)null==S.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==S.getDerivedStateFromProps&&B!==_&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(B,F),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(B,d.__s,F)||t.__v===r.__v){d.props=B,d.state=d.__s,t.__v!==r.__v&&(d.__d=!1),d.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach((function(e){e&&(e.__=t)})),d.__h.length&&u.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(B,d.__s,F),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(_,w,E)}))}if(d.context=F,d.props=B,d.__v=t,d.__P=e,T=s.__r,N=0,"prototype"in S&&S.prototype.render)d.state=d.__s,d.__d=!1,T&&T(t),h=d.render(d.props,d.state,d.context);else do{d.__d=!1,T&&T(t),h=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++N<25);d.state=d.__s,null!=d.getChildContext&&(n=p(p({},n),d.getChildContext())),y||null==d.getSnapshotBeforeUpdate||(E=d.getSnapshotBeforeUpdate(_,w)),U=null!=h&&h.type===m&&null==h.key?h.props.children:h,O(e,Array.isArray(U)?U:[U],t,r,n,i,o,u,c,f),d.base=t.__e,t.__h=null,d.__h.length&&u.push(d),x&&(d.__E=d.__=null),d.__e=!1}else null==o&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,i,o,s,u){var c,f,h,d=r.props,p=t.props,y=t.type,_=0;if("svg"===y&&(i=!0),null!=o)for(;_<o.length;_++)if((c=o[_])&&"setAttribute"in c==!!y&&(y?c.localName===y:3===c.nodeType)){e=c,o[_]=null;break}if(null==e){if(null===y)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,p.is&&p),o=null,u=!1}if(null===y)d===p||u&&e.data===p||(e.data=p);else{if(o=o&&a.call(e.childNodes),f=(d=r.props||l).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!u){if(null!=o)for(d={},_=0;_<e.attributes.length;_++)d[e.attributes[_].name]=e.attributes[_].value;(h||f)&&(h&&(f&&h.__html==f.__html||h.__html===e.innerHTML)||(e.innerHTML=h&&h.__html||""))}if(function(e,t,r,n,i){var o;for(o in r)"children"===o||"key"===o||o in t||C(e,o,null,r[o],n);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||r[o]===t[o]||C(e,o,t[o],r[o],n)}(e,p,d,i,u),h)t.__k=[];else if(_=t.props.children,O(e,Array.isArray(_)?_:[_],t,r,n,i&&"foreignObject"!==y,o,s,o?o[0]:r.__k&&v(r,0),u),null!=o)for(_=o.length;_--;)null!=o[_]&&b(o[_]);u||("value"in p&&void 0!==(_=p.value)&&(_!==e.value||"progress"===y&&!_||"option"===y&&_!==d.value)&&C(e,"value",_,d.value,!1),"checked"in p&&void 0!==(_=p.checked)&&_!==e.checked&&C(e,"checked",_,d.checked,!1))}return e}(r.__e,t,r,n,i,o,u,f);(h=s.diffed)&&h(t)}catch(e){t.__v=null,(f||null!=o)&&(t.__e=c,t.__h=!!f,o[o.indexOf(c)]=null),s.__e(e,t,r)}}function I(e,t){s.__c&&s.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){s.__e(e,t.__v)}}))}function P(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){s.__e(e,r)}}function k(e,t,r){var n,i;if(s.unmount&&s.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||P(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){s.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&k(n[i],t,"function"!=typeof e.type);r||null==e.__e||b(e.__e),e.__e=e.__d=void 0}function j(e,t,r){return this.constructor(e,r)}function R(e,t,r){var n,i,o;s.__&&s.__(e,t),i=(n="function"==typeof r)?null:r&&r.__k||t.__k,o=[],S(t,e=(!n&&r||t).__k=y(m,null,[e]),i||l,l,void 0!==t.ownerSVGElement,!n&&r?[r]:i?null:t.firstChild?a.call(t.childNodes):null,o,!n&&r?r:i?i.__e:t.firstChild,n),I(o,e)}a=h.slice,s={__e:function(e,t,r,n){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},u=0,g.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(p({},r),this.props)),e&&p(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),E(this))},g.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),E(this))},g.prototype.render=m,c=[],x.__r=0;var L,D,M,$,H=0,V=[],q=[],G=s.__b,z=s.__r,Z=s.diffed,Y=s.__c,W=s.unmount;function K(e,t){s.__h&&s.__h(D,e,H||t),H=0;var r=D.__H||(D.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({__V:q}),r.__[e]}function X(e){return H=1,J(se,e)}function J(e,t,r){var n=K(L++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):se(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],r=n.t(t,e);t!==r&&(n.__N=[r,n.__[1]],n.__c.setState({}))}],n.__c=D,!n.__c.u)){n.__c.__H.u=!0;var i=n.__c.shouldComponentUpdate;n.__c.shouldComponentUpdate=function(e,t,r){var o=n.__c.__H.__.filter((function(e){return e.__c}));return(o.every((function(e){return!e.__N}))||!o.every((function(e){if(!e.__N)return!0;var t=e.__[0];return e.__=e.__N,e.__N=void 0,t===e.__[0]})))&&(!i||i(e,t,r))}}return n.__N||n.__}function Q(e,t){var r=K(L++,3);!s.__s&&ae(r.__H,t)&&(r.__=e,r.o=t,D.__H.__h.push(r))}function ee(e,t){var r=K(L++,7);return ae(r.__H,t)?(r.__V=e(),r.o=t,r.__h=e,r.__V):r.__}function te(e,t){return H=8,ee((function(){return e}),t)}function re(){for(var e;e=V.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(ie),e.__H.__h.forEach(oe),e.__H.__h=[]}catch(t){e.__H.__h=[],s.__e(t,e.__v)}}s.__b=function(e){D=null,G&&G(e)},s.__r=function(e){z&&z(e),L=0;var t=(D=e.__c).__H;t&&(M===D?(t.__h=[],D.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=q,e.__N=e.o=void 0}))):(t.__h.forEach(ie),t.__h.forEach(oe),t.__h=[])),M=D},s.diffed=function(e){Z&&Z(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==V.push(t)&&$===s.requestAnimationFrame||(($=s.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),ne&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);ne&&(t=requestAnimationFrame(r))})(re)),t.__H.__.forEach((function(e){e.o&&(e.__H=e.o),e.__V!==q&&(e.__=e.__V),e.o=void 0,e.__V=q}))),M=D=null},s.__c=function(e,t){t.some((function(e){try{e.__h.forEach(ie),e.__h=e.__h.filter((function(e){return!e.__||oe(e)}))}catch(r){t.some((function(e){e.__h&&(e.__h=[])})),t=[],s.__e(r,e.__v)}})),Y&&Y(e,t)},s.unmount=function(e){W&&W(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach((function(e){try{ie(e)}catch(e){t=e}})),t&&s.__e(t,r.__v))};var ne="function"==typeof requestAnimationFrame;function ie(e){var t=D,r=e.__c;"function"==typeof r&&(e.__c=void 0,r()),D=t}function oe(e){var t=D;e.__c=e.__(),D=t}function ae(e,t){return!e||e.length!==t.length||t.some((function(t,r){return t!==e[r]}))}function se(e,t){return"function"==typeof t?t(e):t}function ue(e,t){for(var r in t)e[r]=t[r];return e}function ce(e,t){for(var r in e)if("__source"!==r&&!(r in t))return!0;for(var n in t)if("__source"!==n&&e[n]!==t[n])return!0;return!1}function fe(e){this.props=e}(fe.prototype=new g).isPureReactComponent=!0,fe.prototype.shouldComponentUpdate=function(e,t){return ce(this.props,e)||ce(this.state,t)};var le=s.__b;s.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),le&&le(e)};"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref");var he=s.__e;s.__e=function(e,t,r,n){if(e.then)for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return null==t.__e&&(t.__e=r.__e,t.__k=r.__k),i.__c(e,t);he(e,t,r,n)};var de=s.unmount;function pe(){this.__u=0,this.t=null,this.__b=null}function be(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function ye(){this.u=null,this.o=null}s.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),de&&de(e)},(pe.prototype=new g).__c=function(e,t){var r=t.__c,n=this;null==n.t&&(n.t=[]),n.t.push(r);var i=be(n.__v),o=!1,a=function(){o||(o=!0,r.__R=null,i?i(s):s())};r.__R=a;var s=function(){if(!--n.__u){if(n.state.__a){var e=n.state.__a;n.__v.__k[0]=function e(t,r,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return e(t,r,n)})),t.__c&&t.__c.__P===r&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}(e,e.__c.__P,e.__c.__O)}var t;for(n.setState({__a:n.__b=null});t=n.t.pop();)t.forceUpdate()}},u=!0===t.__h;n.__u++||u||n.setState({__a:n.__b=n.__v.__k[0]}),e.then(a,a)},pe.prototype.componentWillUnmount=function(){this.t=[]},pe.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,r,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),t.__c.__H=null),null!=(t=ue({},t)).__c&&(t.__c.__P===n&&(t.__c.__P=r),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return e(t,r,n)}))),t}(this.__b,r,n.__O=n.__P)}this.__b=null}var i=t.__a&&y(m,null,e.fallback);return i&&(i.__h=null),[y(m,null,t.__a?null:e.children),i]};var _e=function(e,t,r){if(++r[1]===r[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(r=e.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.u=r=r[2]}};(ye.prototype=new g).__a=function(e){var t=this,r=be(t.__v),n=t.o.get(e);return n[0]++,function(i){var o=function(){t.props.revealOrder?(n.push(i),_e(t,e,n)):i()};r?r(o):o()}},ye.prototype.render=function(e){this.u=null,this.o=new Map;var t=A(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var r=t.length;r--;)this.o.set(t[r],this.u=[1,0,this.u]);return e.children},ye.prototype.componentDidUpdate=ye.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,r){_e(e,r,t)}))};var me="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ge=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ve="undefined"!=typeof document,we=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};g.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(g.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var Ee=s.event;function xe(){}function Oe(){return this.cancelBubble}function Be(){return this.defaultPrevented}s.event=function(e){return Ee&&(e=Ee(e)),e.persist=xe,e.isPropagationStopped=Oe,e.isDefaultPrevented=Be,e.nativeEvent=e};var Ae={configurable:!0,get:function(){return this.class}},Fe=s.vnode;s.vnode=function(e){var t=e.type,r=e.props,n=r;if("string"==typeof t){var i=-1===t.indexOf("-");for(var o in n={},r){var a=r[o];ve&&"children"===o&&"noscript"===t||"value"===o&&"defaultValue"in r&&null==a||("defaultValue"===o&&"value"in r&&null==r.value?o="value":"download"===o&&!0===a?a="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!we(r.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():i&&ge.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===a&&(a=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),n[o]&&(o="oninputCapture")),n[o]=a)}"select"==t&&n.multiple&&Array.isArray(n.value)&&(n.value=A(r.children).forEach((function(e){e.props.selected=-1!=n.value.indexOf(e.props.value)}))),"select"==t&&null!=n.defaultValue&&(n.value=A(r.children).forEach((function(e){e.props.selected=n.multiple?-1!=n.defaultValue.indexOf(e.props.value):n.defaultValue==e.props.value}))),e.props=n,r.class!=r.className&&(Ae.enumerable="className"in r,null!=r.className&&(n.class=r.className),Object.defineProperty(n,"className",Ae))}e.$$typeof=me,Fe&&Fe(e)};var Te=s.__r;s.__r=function(e){Te&&Te(e),e.__c};const Ce=e=>{var t;const[r,n]=X(null===(t=e.children[0])||void 0===t?void 0:t.props.title);return y("div",{class:"row"},y("div",{class:"row justify-content-end"},e.children.map((e=>y(Ne,{text:e.props.title,selected:r===e.props.title,onClick:()=>n(e.props.title)})))),y("div",{class:"row light-bg"},e.children.map((e=>r===e.props.title?e:null))))},Ne=e=>{let t="col col-sm-2 tab-header";return e.selected&&(t+=" tab-header-selected"),y("div",{class:t,onClick:e.onClick},e.text)},Ue=e=>y(m,null,e.children);var Se={};Object.defineProperty(Se,"__esModule",{value:!0}),Se.Buffer=Se.roundAt=Se.roundTime=Se.defaultChainUrl=Se.defaultChainInfo=Se.HttpCachingChain=Se.HttpChainClient=Se.mainnetClient=Se.testnetClient=Se.timelockDecrypt=Se.timelockEncrypt=void 0;var Ie=o("1kenz");Object.defineProperty(Se,"HttpChainClient",{enumerable:!0,get:function(){return Ie.HttpChainClient}}),Object.defineProperty(Se,"HttpCachingChain",{enumerable:!0,get:function(){return Ie.HttpCachingChain}}),Object.defineProperty(Se,"roundTime",{enumerable:!0,get:function(){return Ie.roundTime}}),Object.defineProperty(Se,"roundAt",{enumerable:!0,get:function(){return Ie.roundAt}});var Pe=o("aBw8d");Object.defineProperty(Se,"Buffer",{enumerable:!0,get:function(){return Pe.Buffer}});var ke={},je=(Pe=o("aBw8d")).Buffer,Re=ke&&ke.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),Le=ke&&ke.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),De=ke&&ke.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&Re(t,e,r);return Le(t,e),t};Object.defineProperty(ke,"__esModule",{value:!0}),ke.hashedRoundNumber=ke.createTimelockEncrypter=void 0;var Me=o("fFa5O"),$e=o("3n63Z");const He=De(o("h2OPX"));function Ve(e){const t=je.alloc(8);return t.writeBigUInt64BE(BigInt(e)),(0,$e.sha256)(t)}function qe(e){return je.concat([e.U.toRawBytes(!0),e.V,e.W])}ke.createTimelockEncrypter=function(e,t){if(t<1)throw Error("You cannot encrypt for a roundNumber less than 1 (genesis = 0)");return async r=>{const n=await e.chain().info(),i=Ve(t);let o;switch(n.schemeID){case"pedersen-bls-unchained":{const e=Me.PointG1.fromHex(n.public_key);o=await He.encryptOnG1(e,i,r)}break;case"bls-unchained-on-g1":{const e=Me.PointG2.fromHex(n.public_key);o=await He.encryptOnG2(e,i,r)}break;default:throw Error(`Unsupported scheme: ${n.schemeID} - you must use a drand network with an unchained scheme for timelock encryption!`)}return[{type:"tlock",args:[`${t}`,n.hash],body:qe(o)}]}},ke.hashedRoundNumber=Ve;var Ge={},ze=(Pe=o("aBw8d")).Buffer;Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.decryptAge=Ge.encryptAge=void 0;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.hkdf=Ze.expand=Ze.extract=void 0;var Ye=o("1eEWE"),We=o("edMcK"),Ke={};Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.hmac=void 0;Ye=o("1eEWE"),We=o("edMcK");class Xe extends We.Hash{update(e){return Ye.default.exists(this),this.iHash.update(e),this}digestInto(e){Ye.default.exists(this),Ye.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ye.default.hash(e);const r=(0,We.toBytes)(t);if(this.iHash=e.create(),!(this.iHash instanceof We.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const n=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const i=new Uint8Array(n);i.set(r.length>this.iHash.blockLen?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}}function Je(e,t,r){return Ye.default.hash(e),void 0===r&&(r=new Uint8Array(e.outputLen)),(0,Ke.hmac)(e,(0,We.toBytes)(r),(0,We.toBytes)(t))}Ke.hmac=(e,t,r)=>new Xe(e,t).update(r).digest(),Ke.hmac.create=(e,t)=>new Xe(e,t),Ze.extract=Je;const Qe=new Uint8Array([0]),et=new Uint8Array;function tt(e,t,r,n=32){if(Ye.default.hash(e),Ye.default.number(n),n>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(n/e.outputLen);void 0===r&&(r=et);const o=new Uint8Array(i*e.outputLen),a=Ke.hmac.create(e,t),s=a._cloneInto(),u=new Uint8Array(a.outputLen);for(let t=0;t<i;t++)Qe[0]=t+1,s.update(0===t?et:u).update(r).update(Qe).digestInto(u),o.set(u,e.outputLen*t),a._cloneInto(s);return a.destroy(),s.destroy(),u.fill(0),Qe.fill(0),o.slice(0,n)}Ze.expand=tt;Ze.hkdf=(e,t,r,n,i)=>tt(e,Je(e,t,r),n,i);$e=o("3n63Z");var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.STREAM=void 0;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});var it={};Object.defineProperty(it,"__esModule",{value:!0});var ot={};Object.defineProperty(ot,"__esModule",{value:!0});var at={};function st(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function ut(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function ct(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function ft(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function lt(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function ht(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function dt(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function pt(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function bt(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),dt(e/4294967296>>>0,t,r),dt(e>>>0,t,r+4),t}function yt(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),pt(e>>>0,t,r),pt(e/4294967296>>>0,t,r+4),t}Object.defineProperty(at,"__esModule",{value:!0}),at.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},at.add=function(e,t){return e+t|0},at.sub=function(e,t){return e-t|0},at.rotl=function(e,t){return e<<t|e>>>32-t},at.rotr=function(e,t){return e<<32-t|e>>>t},at.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},at.MAX_SAFE_INTEGER=9007199254740991,at.isSafeInteger=function(e){return at.isInteger(e)&&e>=-at.MAX_SAFE_INTEGER&&e<=at.MAX_SAFE_INTEGER},ot.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},ot.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},ot.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},ot.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},ot.writeUint16BE=st,ot.writeInt16BE=st,ot.writeUint16LE=ut,ot.writeInt16LE=ut,ot.readInt32BE=ct,ot.readUint32BE=ft,ot.readInt32LE=lt,ot.readUint32LE=ht,ot.writeUint32BE=dt,ot.writeInt32BE=dt,ot.writeUint32LE=pt,ot.writeInt32LE=pt,ot.readInt64BE=function(e,t){void 0===t&&(t=0);var r=ct(e,t),n=ct(e,t+4);return 4294967296*r+n-4294967296*(n>>31)},ot.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*ft(e,t)+ft(e,t+4)},ot.readInt64LE=function(e,t){void 0===t&&(t=0);var r=lt(e,t);return 4294967296*lt(e,t+4)+r-4294967296*(r>>31)},ot.readUint64LE=function(e,t){void 0===t&&(t=0);var r=ht(e,t);return 4294967296*ht(e,t+4)+r},ot.writeUint64BE=bt,ot.writeInt64BE=bt,ot.writeUint64LE=yt,ot.writeInt64LE=yt,ot.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=e/8+r-1;o>=r;o--)n+=t[o]*i,i*=256;return n},ot.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+e/8;o++)n+=t[o]*i,i*=256;return n},ot.writeUintBE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!at.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,o=e/8+n-1;o>=n;o--)r[o]=t/i&255,i*=256;return r},ot.writeUintLE=function(e,t,r,n){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===n&&(n=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!at.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,o=n;o<n+e/8;o++)r[o]=t/i&255,i*=256;return r},ot.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},ot.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},ot.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},ot.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},ot.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},ot.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},ot.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},ot.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t};var _t={};Object.defineProperty(_t,"__esModule",{value:!0}),_t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e};function mt(e,t,r){for(var n=1634760805,i=857760878,o=2036477234,a=1797285236,s=r[3]<<24|r[2]<<16|r[1]<<8|r[0],u=r[7]<<24|r[6]<<16|r[5]<<8|r[4],c=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],l=r[19]<<24|r[18]<<16|r[17]<<8|r[16],h=r[23]<<24|r[22]<<16|r[21]<<8|r[20],d=r[27]<<24|r[26]<<16|r[25]<<8|r[24],p=r[31]<<24|r[30]<<16|r[29]<<8|r[28],b=t[3]<<24|t[2]<<16|t[1]<<8|t[0],y=t[7]<<24|t[6]<<16|t[5]<<8|t[4],_=t[11]<<24|t[10]<<16|t[9]<<8|t[8],m=t[15]<<24|t[14]<<16|t[13]<<8|t[12],g=n,v=i,w=o,E=a,x=s,O=u,B=c,A=f,F=l,T=h,C=d,N=p,U=b,S=y,I=_,P=m,k=0;k<20;k+=2)x=(x^=F=F+(U=(U^=g=g+x|0)>>>16|U<<16)|0)>>>20|x<<12,O=(O^=T=T+(S=(S^=v=v+O|0)>>>16|S<<16)|0)>>>20|O<<12,B=(B^=C=C+(I=(I^=w=w+B|0)>>>16|I<<16)|0)>>>20|B<<12,A=(A^=N=N+(P=(P^=E=E+A|0)>>>16|P<<16)|0)>>>20|A<<12,B=(B^=C=C+(I=(I^=w=w+B|0)>>>24|I<<8)|0)>>>25|B<<7,A=(A^=N=N+(P=(P^=E=E+A|0)>>>24|P<<8)|0)>>>25|A<<7,O=(O^=T=T+(S=(S^=v=v+O|0)>>>24|S<<8)|0)>>>25|O<<7,x=(x^=F=F+(U=(U^=g=g+x|0)>>>24|U<<8)|0)>>>25|x<<7,O=(O^=C=C+(P=(P^=g=g+O|0)>>>16|P<<16)|0)>>>20|O<<12,B=(B^=N=N+(U=(U^=v=v+B|0)>>>16|U<<16)|0)>>>20|B<<12,A=(A^=F=F+(S=(S^=w=w+A|0)>>>16|S<<16)|0)>>>20|A<<12,x=(x^=T=T+(I=(I^=E=E+x|0)>>>16|I<<16)|0)>>>20|x<<12,A=(A^=F=F+(S=(S^=w=w+A|0)>>>24|S<<8)|0)>>>25|A<<7,x=(x^=T=T+(I=(I^=E=E+x|0)>>>24|I<<8)|0)>>>25|x<<7,B=(B^=N=N+(U=(U^=v=v+B|0)>>>24|U<<8)|0)>>>25|B<<7,O=(O^=C=C+(P=(P^=g=g+O|0)>>>24|P<<8)|0)>>>25|O<<7;ot.writeUint32LE(g+n|0,e,0),ot.writeUint32LE(v+i|0,e,4),ot.writeUint32LE(w+o|0,e,8),ot.writeUint32LE(E+a|0,e,12),ot.writeUint32LE(x+s|0,e,16),ot.writeUint32LE(O+u|0,e,20),ot.writeUint32LE(B+c|0,e,24),ot.writeUint32LE(A+f|0,e,28),ot.writeUint32LE(F+l|0,e,32),ot.writeUint32LE(T+h|0,e,36),ot.writeUint32LE(C+d|0,e,40),ot.writeUint32LE(N+p|0,e,44),ot.writeUint32LE(U+b|0,e,48),ot.writeUint32LE(S+y|0,e,52),ot.writeUint32LE(I+_|0,e,56),ot.writeUint32LE(P+m|0,e,60)}function gt(e,t,r,n,i){if(void 0===i&&(i=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var o,a;if(0===i){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");a=(o=new Uint8Array(16)).length-t.length,o.set(t,a)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");o=t,a=i}for(var s=new Uint8Array(64),u=0;u<r.length;u+=64){mt(s,o,e);for(var c=u;c<u+64&&c<r.length;c++)n[c]=r[c]^s[c-u];vt(o,0,a)}return _t.wipe(s),0===i&&_t.wipe(o),n}function vt(e,t,r){for(var n=1;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}it.streamXOR=gt,it.stream=function(e,t,r,n){return void 0===n&&(n=0),_t.wipe(r),gt(e,t,r,r,n)};var wt={};Object.defineProperty(wt,"__esModule",{value:!0});var Et={};function xt(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Object.defineProperty(Et,"__esModule",{value:!0}),Et.select=function(e,t,r){return~(e-1)&t|e-1&r},Et.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},Et.compare=xt,Et.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==xt(e,t)},wt.DIGEST_LENGTH=16;var Ot=function(){function e(e){this.digestLength=wt.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var t=e[0]|e[1]<<8;this._r[0]=8191&t;var r=e[2]|e[3]<<8;this._r[1]=8191&(t>>>13|r<<3);var n=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|n<<6);var i=e[6]|e[7]<<8;this._r[3]=8191&(n>>>7|i<<9);var o=e[8]|e[9]<<8;this._r[4]=255&(i>>>4|o<<12),this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=8191&(o>>>14|a<<2);var s=e[12]|e[13]<<8;this._r[7]=8065&(a>>>11|s<<5);var u=e[14]|e[15]<<8;this._r[8]=8191&(s>>>8|u<<8),this._r[9]=u>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,r){for(var n=this._fin?0:2048,i=this._h[0],o=this._h[1],a=this._h[2],s=this._h[3],u=this._h[4],c=this._h[5],f=this._h[6],l=this._h[7],h=this._h[8],d=this._h[9],p=this._r[0],b=this._r[1],y=this._r[2],_=this._r[3],m=this._r[4],g=this._r[5],v=this._r[6],w=this._r[7],E=this._r[8],x=this._r[9];r>=16;){var O=e[t+0]|e[t+1]<<8;i+=8191&O;var B=e[t+2]|e[t+3]<<8;o+=8191&(O>>>13|B<<3);var A=e[t+4]|e[t+5]<<8;a+=8191&(B>>>10|A<<6);var F=e[t+6]|e[t+7]<<8;s+=8191&(A>>>7|F<<9);var T=e[t+8]|e[t+9]<<8;u+=8191&(F>>>4|T<<12),c+=T>>>1&8191;var C=e[t+10]|e[t+11]<<8;f+=8191&(T>>>14|C<<2);var N=e[t+12]|e[t+13]<<8;l+=8191&(C>>>11|N<<5);var U=e[t+14]|e[t+15]<<8,S=0,I=S;I+=i*p,I+=o*(5*x),I+=a*(5*E),I+=s*(5*w),S=(I+=u*(5*v))>>>13,I&=8191,I+=c*(5*g),I+=f*(5*m),I+=l*(5*_),I+=(h+=8191&(N>>>8|U<<8))*(5*y);var P=S+=(I+=(d+=U>>>5|n)*(5*b))>>>13;P+=i*b,P+=o*p,P+=a*(5*x),P+=s*(5*E),S=(P+=u*(5*w))>>>13,P&=8191,P+=c*(5*v),P+=f*(5*g),P+=l*(5*m),P+=h*(5*_),S+=(P+=d*(5*y))>>>13,P&=8191;var k=S;k+=i*y,k+=o*b,k+=a*p,k+=s*(5*x),S=(k+=u*(5*E))>>>13,k&=8191,k+=c*(5*w),k+=f*(5*v),k+=l*(5*g),k+=h*(5*m);var j=S+=(k+=d*(5*_))>>>13;j+=i*_,j+=o*y,j+=a*b,j+=s*p,S=(j+=u*(5*x))>>>13,j&=8191,j+=c*(5*E),j+=f*(5*w),j+=l*(5*v),j+=h*(5*g);var R=S+=(j+=d*(5*m))>>>13;R+=i*m,R+=o*_,R+=a*y,R+=s*b,S=(R+=u*p)>>>13,R&=8191,R+=c*(5*x),R+=f*(5*E),R+=l*(5*w),R+=h*(5*v);var L=S+=(R+=d*(5*g))>>>13;L+=i*g,L+=o*m,L+=a*_,L+=s*y,S=(L+=u*b)>>>13,L&=8191,L+=c*p,L+=f*(5*x),L+=l*(5*E),L+=h*(5*w);var D=S+=(L+=d*(5*v))>>>13;D+=i*v,D+=o*g,D+=a*m,D+=s*_,S=(D+=u*y)>>>13,D&=8191,D+=c*b,D+=f*p,D+=l*(5*x),D+=h*(5*E);var M=S+=(D+=d*(5*w))>>>13;M+=i*w,M+=o*v,M+=a*g,M+=s*m,S=(M+=u*_)>>>13,M&=8191,M+=c*y,M+=f*b,M+=l*p,M+=h*(5*x);var $=S+=(M+=d*(5*E))>>>13;$+=i*E,$+=o*w,$+=a*v,$+=s*g,S=($+=u*m)>>>13,$&=8191,$+=c*_,$+=f*y,$+=l*b,$+=h*p;var H=S+=($+=d*(5*x))>>>13;H+=i*x,H+=o*E,H+=a*w,H+=s*v,S=(H+=u*g)>>>13,H&=8191,H+=c*m,H+=f*_,H+=l*y,H+=h*b,i=I=8191&(S=(S=((S+=(H+=d*p)>>>13)<<2)+S|0)+(I&=8191)|0),o=P+=S>>>=13,a=k&=8191,s=j&=8191,u=R&=8191,c=L&=8191,f=D&=8191,l=M&=8191,h=$&=8191,d=H&=8191,t+=16,r-=16}this._h[0]=i,this._h[1]=o,this._h[2]=a,this._h[3]=s,this._h[4]=u,this._h[5]=c,this._h[6]=f,this._h[7]=l,this._h[8]=h,this._h[9]=d},e.prototype.finish=function(e,t){void 0===t&&(t=0);var r,n,i,o,a=new Uint16Array(10);if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=r,r=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,a[0]=this._h[0]+5,r=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this._h[o]+r,r=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,n=(1^r)-1,o=0;o<10;o++)a[o]&=n;for(n=~n,o=0;o<10;o++)this._h[o]=this._h[o]&n|a[o];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,o=1;o<8;o++)i=(this._h[o]+this._pad[o]|0)+(i>>>16)|0,this._h[o]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,r=0,n=e.length;if(this._leftover){(t=16-this._leftover)>n&&(t=n);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[r+i];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(t=n-n%16,this._blocks(e,r,t),r+=t,n-=t),n){for(i=0;i<n;i++)this._buffer[this._leftover+i]=e[r+i];this._leftover+=n}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return _t.wipe(this._buffer),_t.wipe(this._r),_t.wipe(this._h),_t.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();wt.Poly1305=Ot,wt.oneTimeAuth=function(e,t){var r=new Ot(e);r.update(t);var n=r.digest();return r.clean(),n},wt.equal=function(e,t){return e.length===wt.DIGEST_LENGTH&&t.length===wt.DIGEST_LENGTH&&Et.equal(e,t)},nt.KEY_LENGTH=32,nt.NONCE_LENGTH=12,nt.TAG_LENGTH=16;var Bt=new Uint8Array(16),At=function(){function e(e){if(this.nonceLength=nt.NONCE_LENGTH,this.tagLength=nt.TAG_LENGTH,e.length!==nt.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var i=new Uint8Array(16);i.set(e,i.length-e.length);var o=new Uint8Array(32);it.stream(this._key,i,o,4);var a,s=t.length+this.tagLength;if(n){if(n.length!==s)throw new Error("ChaCha20Poly1305: incorrect destination length");a=n}else a=new Uint8Array(s);return it.streamXOR(this._key,i,t,a,4),this._authenticate(a.subarray(a.length-this.tagLength,a.length),o,a.subarray(0,a.length-this.tagLength),r),_t.wipe(i),a},e.prototype.open=function(e,t,r,n){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var i=new Uint8Array(16);i.set(e,i.length-e.length);var o=new Uint8Array(32);it.stream(this._key,i,o,4);var a=new Uint8Array(this.tagLength);if(this._authenticate(a,o,t.subarray(0,t.length-this.tagLength),r),!Et.equal(a,t.subarray(t.length-this.tagLength,t.length)))return null;var s,u=t.length-this.tagLength;if(n){if(n.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");s=n}else s=new Uint8Array(u);return it.streamXOR(this._key,i,t.subarray(0,t.length-this.tagLength),s,4),_t.wipe(i),s},e.prototype.clean=function(){return _t.wipe(this._key),this},e.prototype._authenticate=function(e,t,r,n){var i=new wt.Poly1305(t);n&&(i.update(n),n.length%16>0&&i.update(Bt.subarray(n.length%16))),i.update(r),r.length%16>0&&i.update(Bt.subarray(r.length%16));var o=new Uint8Array(8);n&&ot.writeUint64LE(n.length,o),i.update(o),ot.writeUint64LE(r.length,o),i.update(o);for(var a=i.digest(),s=0;s<a.length;s++)e[s]=a[s];i.clean(),_t.wipe(a),_t.wipe(o)},e}();nt.ChaCha20Poly1305=At;const Ft=Math.pow(2,32)-1;class Tt{static seal(e,t){const r=new Tt(t),n=Math.ceil(e.length/65536),i=new Uint8Array(e.length+16*n);for(let t=1;t<=n;t++){const o=t-1,a=t,s=t===n,u=e.slice(65536*o,65536*a),c=i.subarray(65552*o,65552*a);r.encryptChunk(u,s,c)}return r.clear(),i}static open(e,t){const r=new Tt(t),n=Math.ceil(e.length/65552),i=new Uint8Array(e.length-16*n);for(let t=1;t<=n;t++){const o=t-1,a=t,s=t===n,u=e.slice(65552*o,65552*a),c=i.subarray(65536*o,65536*a);r.decryptChunk(u,s,c)}return r.clear(),i}encryptChunk(e,t,r){if(e.length>65536)throw new Error("Chunk is too big");if(1===this.nonce[11])throw new Error("Last chunk has been processed");t&&(this.nonce[11]=1);const n=new nt.ChaCha20Poly1305(this.key).seal(this.nonce,e);r.set(n),this.incrementCounter()}decryptChunk(e,t,r){if(e.length>65552)throw new Error("Chunk is too big");if(1===this.nonce[11])throw new Error("Last chunk has been processed");t&&(this.nonce[11]=1);const n=new nt.ChaCha20Poly1305(this.key).open(this.nonce,e);if(null==n)throw Error("Error during decryption!");r.set(n),this.incrementCounter()}incrementCounter(){if(this.counter==Ft)throw new Error("Stream cipher counter has already hit max value! Aborting to avoid nonce reuse - tlock only supports payloads up to 256TB");this.counter+=1,this.nonceView.setUint32(7,this.counter,!1)}clear(){function e(e){for(let t=0;t<e.length;t++)e[t]=0}e(this.key),e(this.nonce),this.counter=0}constructor(e){this.key=e.slice(),this.nonce=new Uint8Array(12),this.nonceView=new DataView(this.nonce.buffer),this.counter=0}}rt.STREAM=Tt;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.NoOpEncDec=void 0;Ct.NoOpEncDec=class{static async wrap(e){return[{type:"no-op",args:[],body:e}]}static async unwrap(e){if(1!==e.length)throw Error("NoOpEncDec only expects a single stanza!");if("no-op"!==e[0].type)throw Error("NoOpEncDec expects the type of the stanza to be no-op");return e[0].body}};var Nt={},Ut=(Pe=o("aBw8d")).Buffer;Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.readAge=Nt.header=Nt.writeAge=void 0;var St={},It=(Pe=o("aBw8d")).Buffer;function Pt(e){const t=It.from(e).toString("base64");let r=t.length-1;for(;"="===t[r];)r--;return t.slice(0,r+1)}Object.defineProperty(St,"__esModule",{value:!0}),St.sliceUntil=St.chunked=St.unpaddedBase64Buffer=St.unpaddedBase64=void 0,St.unpaddedBase64=Pt,St.unpaddedBase64Buffer=function(e){return It.from(Pt(e),"base64")},St.chunked=function(e,t,r=""){const n=[];let i="";for(let o=0,a=0;o<e.length;o++){i+=e[o];o-a*t===t-1?(n.push(i+r),i="",a++):o===e.length-1&&n.push(i+r)}return n},St.sliceUntil=function(e,t){let r=0,n=0;for(;n<e.length&&r<t.length;)e[n]===t[r]?++r:r=e[n]===t[0]?1:0,++n;return e.slice(0,n)};var kt={},jt=(Pe=o("aBw8d")).Buffer;Object.defineProperty(kt,"__esModule",{value:!0}),kt.random=kt.createMacKey=void 0;$e=o("3n63Z");function Rt(e){return`${e.version}\n${Lt(e.recipients)}---`}kt.createMacKey=function(e,t,r){const n=(0,Ze.hkdf)($e.sha256,e,"",jt.from(t,"utf8"),32);return jt.from((0,Ke.hmac)($e.sha256,n,jt.from(r,"utf8")))},kt.random=async function(e){if("object"==typeof window&&"crypto"in window)return window.crypto.getRandomValues(new Uint8Array(e));const t=require("crypto").randomBytes(e);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},Nt.writeAge=function(e){const t=Rt(e);return`${t} ${Mt((0,kt.createMacKey)(e.fileKey,e.headerMacMessage,t))}\n${Ut.from(e.body).toString("binary")}`},Nt.header=Rt;const Lt=e=>e.map((e=>Dt(e)+"\n")),Dt=e=>{const t=e.type,r=e.args.join(" "),n=(0,St.unpaddedBase64)(e.body);return`-> ${t} ${r}\n`+(0,St.chunked)(n,64).join("\n")},Mt=e=>(0,St.unpaddedBase64)(e);function $t(e){e.forEach((e=>{for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw Error(`Invalid character ${e[t]} in argument ${e}`)}}))}function Ht(e){let t="";for(let r=Vt(e);null!=r&&(t+=e.shift(),!(r.length<64));r=Vt(e));return t}function Vt(e){return e[0]}Nt.readAge=function(e){const[t,...r]=e.split("\n"),n=function(e){const t=[];for(let r=Vt(e);null!=r&&r.startsWith("->");r=Vt(e)){const[n,...i]=r.slice(3,r.length).split(" ");e.shift(),$t(i);const o=Ht(e);if(!o)throw Error(`expected stanza '${n} to have a body, but it didn't`);t.push({type:n,args:i,body:Ut.from(o,"base64")})}if(0===t.length)throw Error("Expected at least one stanza! (beginning with --\x3e)");return t}(r),i="--- ",o=r.shift();if(!o||!o.startsWith(i))throw Error("Expected mac, but there were no more lines left!");var a;return{header:{version:t,recipients:n,mac:Ut.from(o.slice(i.length,o.length),"base64")},body:Ut.from(null!==(a=r.join("\n"))&&void 0!==a?a:"","binary")}};Ge.encryptAge=async function(e,t=Ct.NoOpEncDec.wrap){const r=await(0,kt.random)(16),n=await t(r),i=await async function(e,t){const r=await(0,kt.random)(16),n=(0,Ze.hkdf)($e.sha256,e,r,ze.from("payload","utf8"),32),i=rt.STREAM.seal(t,n);return ze.concat([r,i])}(r,e);return(0,Nt.writeAge)({fileKey:r,version:"age-encryption.org/v1",recipients:n,headerMacMessage:"header",body:i})},Ge.decryptAge=async function(e,t=Ct.NoOpEncDec.unwrap){const r=(0,Nt.readAge)(e),n=r.header.version;if("age-encryption.org/v1"!==n)throw Error(`The payload version ${n} is not supported, only age-encryption.org/v1`);const i=await t(r.header.recipients),o=(0,St.sliceUntil)(e,"---"),a=(0,St.unpaddedBase64Buffer)((0,kt.createMacKey)(i,"header",o)),s=r.header.mac;if(0!==ze.compare(s,a))throw Error("The MAC did not validate for the fileKey and payload!");const u=ze.from(r.body.slice(0,16)),c=r.body.slice(16),f=(0,Ze.hkdf)($e.sha256,i,u,ze.from("payload","utf8"),32),l=rt.STREAM.open(c,f);return ze.from(l).toString("utf8")};var qt={},Gt=(Pe=o("aBw8d")).Buffer;Object.defineProperty(qt,"__esModule",{value:!0}),qt.isProbablyArmored=qt.decodeArmor=qt.encodeArmor=void 0;qt.encodeArmor=function(e,t=64){const r=Gt.from(e,"binary").toString("base64"),n=(0,St.chunked)(r,t).join("\n");let i="-----END AGE ENCRYPTED FILE-----";return n.length>0&&64===n[n.length-1].length&&(i="\n-----END AGE ENCRYPTED FILE-----"),`-----BEGIN AGE ENCRYPTED FILE-----\n${n}\n${i}\n`},qt.decodeArmor=function(e,t=64){if((e=e.trimStart()).length-(e=e.trimEnd()).length>1024)throw Error("too much whitespace at the end of the armor payload");if(!e.startsWith("-----BEGIN AGE ENCRYPTED FILE-----"))throw Error("Armor cannot be decoded if it does not start with a header! i.e. -----BEGIN AGE ENCRYPTED FILE-----");if(!e.endsWith("-----END AGE ENCRYPTED FILE-----"))throw Error("Armor cannot be decoded if it does not end with a footer! i.e. -----END AGE ENCRYPTED FILE-----");const r=e.slice("-----BEGIN AGE ENCRYPTED FILE-----".length,e.length-"-----END AGE ENCRYPTED FILE-----".length),n=r.split("\n");if(n.some((e=>e.length>t)))throw Error(`Armor to decode cannot have lines longer than ${t} (configurable) in order to stop padding attacks`);if(n[n.length-1].length>=t)throw Error(`The last line of an armored payload must be less than ${t} (configurable) to stop padding attacks`);return Gt.from(r,"base64").toString("binary")},qt.isProbablyArmored=function(e){return e.startsWith("-----BEGIN AGE ENCRYPTED FILE-----")};var zt={},Zt=(Pe=o("aBw8d")).Buffer,Yt=zt&&zt.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),Wt=zt&&zt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Kt=zt&&zt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&Yt(t,e,r);return Wt(t,e),t};Object.defineProperty(zt,"__esModule",{value:!0}),zt.createTimelockDecrypter=void 0;Me=o("fFa5O"),Ie=o("1kenz");const Xt=Kt(o("h2OPX"));zt.createTimelockDecrypter=function(e){return async t=>{const r=t.find((e=>"tlock"===e.type));if(!r)throw Error("You must pass a timelock stanza!");const{type:n,args:i,body:o}=r;if("tlock"!==n)throw Error('Timelock expects the type of the stanza to be "tlock');if(2!==i.length)throw Error(`Timelock stanza expected 2 args: roundNumber and chainHash. Only received ${i.length}`);const a=await e.chain().info(),s=function(e){const[t]=e,r=Number.parseInt(t);if(r!=r)throw Error(`Expected the roundNumber arg to be a number, but it was ${t}!`);return r}(i);if((0,Ie.roundTime)(a,s)>Date.now())throw Error(`It's too early to decrypt the ciphertext - decryptable at round ${s}`);const u=await(0,Ie.fetchBeacon)(e,s);switch(console.log(`beacon received: ${JSON.stringify(u)}`),a.schemeID){case"pedersen-bls-unchained":{const e=Me.PointG2.fromHex(u.signature),t=function(e){const t=Me.PointG1.BASE.toRawBytes(!0).byteLength,r=e.subarray(0,t),n=e.subarray(t),i=n.length/2,o=Me.PointG1.fromHex(Zt.from(r).toString("hex")),a=n.subarray(0,i),s=n.subarray(i);return{U:o,V:a,W:s}}(o);return await Xt.decryptOnG1(e,t)}case"bls-unchained-on-g1":{const e=Me.PointG1.fromHex(u.signature),t=function(e){const t=Me.PointG2.BASE.toRawBytes(!0).byteLength,r=e.subarray(0,t),n=e.subarray(t),i=n.length/2,o=Me.PointG2.fromHex(Zt.from(r).toString("hex")),a=n.subarray(0,i),s=n.subarray(i);return{U:o,V:a,W:s}}(o);return Xt.decryptOnG2(e,t)}default:throw Error(`Unsupported scheme: ${a.schemeID} - you must use a drand network with an unchained scheme for timelock decryption!`)}}};var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.TESTNET_CHAIN_INFO=Jt.TESTNET_CHAIN_URL=Jt.defaultChainInfo=Jt.defaultChainUrl=Jt.MAINNET_CHAIN_INFO=Jt.MAINNET_CHAIN_URL=void 0,Jt.MAINNET_CHAIN_URL="https://api.drand.sh/dbd506d6ef76e5f386f41c651dcb808c5bcbd75471cc4eafa3f4df7ad4e4c493",Jt.MAINNET_CHAIN_INFO={hash:"dbd506d6ef76e5f386f41c651dcb808c5bcbd75471cc4eafa3f4df7ad4e4c493",public_key:"a0b862a7527fee3a731bcb59280ab6abd62d5c0b6ea03dc4ddf6612fdfc9d01f01c31542541771903475eb1ec6615f8d0df0b8b6dce385811d6dcf8cbefb8759e5e616a3dfd054c928940766d9a5b9db91e3b697e5d70a975181e007f87fca5e",period:3,genesis_time:1677685200,groupHash:"a81e9d63f614ccdb144b8ff79fbd4d5a2d22055c0bfe4ee9a8092003dab1c6c0",schemeID:"bls-unchained-on-g1",metadata:{beaconID:"fastnet"}},Jt.defaultChainUrl=Jt.MAINNET_CHAIN_URL,Jt.defaultChainInfo=Jt.MAINNET_CHAIN_INFO,Jt.TESTNET_CHAIN_URL="https://pl-us.testnet.drand.sh/7672797f548f3f4748ac4bf3352fc6c6b6468c9ad40ad456a397545c6e2df5bf",Jt.TESTNET_CHAIN_INFO={hash:"7672797f548f3f4748ac4bf3352fc6c6b6468c9ad40ad456a397545c6e2df5bf",public_key:"8200fc249deb0148eb918d6e213980c5d01acd7fc251900d9260136da3b54836ce125172399ddc69c4e3e11429b62c11",genesis_time:1651677099,period:3,schemeID:"pedersen-bls-unchained",groupHash:"65083634d852ae169e21b6ce5f0410be9ed4cc679b9970236f7875cff667e13d",metadata:{beaconID:"testnet-unchained-3s"}},Object.defineProperty(Se,"defaultChainInfo",{enumerable:!0,get:function(){return Jt.defaultChainInfo}}),Object.defineProperty(Se,"defaultChainUrl",{enumerable:!0,get:function(){return Jt.defaultChainUrl}});var Qt,er,tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.LIB_VERSION=void 0,tr.LIB_VERSION="0.6.1",Se.timelockEncrypt=async function(e,t,r){const n=(0,ke.createTimelockEncrypter)(r,e),i=await(0,Ge.encryptAge)(t,n);return(0,qt.encodeArmor)(i)},Se.timelockDecrypt=async function(e,t){const r=(0,zt.createTimelockDecrypter)(t);let n=e;return(0,qt.isProbablyArmored)(e)&&(n=(0,qt.decodeArmor)(n)),await(0,Ge.decryptAge)(n,r)},Se.testnetClient=function(){const e=new Ie.HttpCachingChain(Jt.TESTNET_CHAIN_URL,Ie.defaultChainOptions);return new Ie.HttpChainClient(e,Ie.defaultChainOptions,{userAgent:`tlock-js-${tr.LIB_VERSION}`})},Se.mainnetClient=function(){const e={...Ie.defaultChainOptions,chainVerificationParams:{chainHash:"dbd506d6ef76e5f386f41c651dcb808c5bcbd75471cc4eafa3f4df7ad4e4c493",publicKey:"a0b862a7527fee3a731bcb59280ab6abd62d5c0b6ea03dc4ddf6612fdfc9d01f01c31542541771903475eb1ec6615f8d0df0b8b6dce385811d6dcf8cbefb8759e5e616a3dfd054c928940766d9a5b9db91e3b697e5d70a975181e007f87fca5e"}},t=new Ie.HttpCachingChain(Jt.MAINNET_CHAIN_URL,e);return new Ie.HttpChainClient(t,e)};try{Qt=Map}catch(e){}try{er=Set}catch(e){}function rr(e,t,r){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(nr);if(Qt&&e instanceof Qt)return new Map(Array.from(e.entries()));if(er&&e instanceof er)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var n=Object.create(e);for(var i in r.push(n),e){var o=t.findIndex((function(t){return t===e[i]}));n[i]=o>-1?r[o]:rr(e[i],t,r)}return n}return e}function nr(e){return rr(e,[],[])}const ir=Object.prototype.toString,or=Error.prototype.toString,ar=RegExp.prototype.toString,sr="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",ur=/^Symbol\((.*)\)(.*)$/;function cr(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const r=typeof e;if("number"===r)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===r)return t?`"${e}"`:e;if("function"===r)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===r)return sr.call(e).replace(ur,"Symbol($1)");const n=ir.call(e).slice(8,-1);return"Date"===n?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===n||e instanceof Error?"["+or.call(e)+"]":"RegExp"===n?ar.call(e):null}function fr(e,t){let r=cr(e,t);return null!==r?r:JSON.stringify(e,(function(e,r){let n=cr(this[e],t);return null!==n?n:r}),2)}let lr={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:r,originalValue:n})=>{let i=null!=n&&n!==r,o=`${e} must be a \`${t}\` type, but the final value was: \`${fr(r,!0)}\``+(i?` (cast from the value \`${fr(n,!0)}\`).`:".");return null===r&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},hr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},dr={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},pr={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},br={isValue:"${path} field must be ${value}"},yr={noUnknown:"${path} field has unspecified keys: ${unknown}"},_r={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:lr,string:hr,number:dr,date:pr,object:yr,array:_r,boolean:br});var mr,gr,vr=Object.prototype.hasOwnProperty;gr=function(e,t){return null!=e&&vr.call(e,t)};var wr={},Er={},xr={},Or=Array.isArray;xr=Or;var Br,Ar={},Fr={},Tr={};Br=(Un=o("2Jyx5")).Symbol;var Cr={},Nr=Object.prototype,Ur=Nr.hasOwnProperty,Sr=Nr.toString,Ir=Br?Br.toStringTag:void 0;Cr=function(e){var t=Ur.call(e,Ir),r=e[Ir];try{e[Ir]=void 0;var n=!0}catch(e){}var i=Sr.call(e);return n&&(t?e[Ir]=r:delete e[Ir]),i};var Pr={},kr=Object.prototype.toString;Pr=function(e){return kr.call(e)};var jr=Br?Br.toStringTag:void 0;Tr=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":jr&&jr in Object(e)?Cr(e):Pr(e)};var Rr={};Rr=function(e){return null!=e&&"object"==typeof e};Fr=function(e){return"symbol"==typeof e||Rr(e)&&"[object Symbol]"==Tr(e)};var Lr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dr=/^\w*$/;Ar=function(e,t){if(xr(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Fr(e))||(Dr.test(e)||!Lr.test(e)||null!=t&&e in Object(t))};var Mr,$r,Hr={},Vr={},qr={},Gr={},zr={},Zr={},Yr={},Wr={},Kr={};Kr=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};Wr=function(e){if(!Kr(e))return!1;var t=Tr(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var Xr,Jr,Qr={},en=(Un=o("2Jyx5"))["__core-js_shared__"],tn=(Jr=/[^.]+$/.exec((Xr=en)&&Xr.keys&&Xr.keys.IE_PROTO||""))?"Symbol(src)_1."+Jr:"";Qr=function(e){return!!tn&&tn in e};var rn={},nn=Function.prototype.toString;rn=function(e){if(null!=e){try{return nn.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var on=/^\[object .+?Constructor\]$/,an=Function.prototype,sn=Object.prototype,un=an.toString,cn=sn.hasOwnProperty,fn=RegExp("^"+un.call(cn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");Yr=function(e){return!(!Kr(e)||Qr(e))&&(Wr(e)?fn:on).test(rn(e))};var ln={};ln=function(e,t){return null==e?void 0:e[t]};var hn=(Zr=function(e,t){var r=ln(e,t);return Yr(r)?r:void 0})(Object,"create");zr=hn,$r=function(){this.__data__=zr?zr(null):{},this.size=0};var dn;dn=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var pn,bn=Object.prototype.hasOwnProperty;pn=function(e){var t=this.__data__;if(zr){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return bn.call(t,e)?t[e]:void 0};var yn,_n=Object.prototype.hasOwnProperty;yn=function(e){var t=this.__data__;return zr?void 0!==t[e]:_n.call(t,e)};var mn;function gn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mn=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=zr&&void 0===t?"__lodash_hash_undefined__":t,this},gn.prototype.clear=$r,gn.prototype.delete=dn,gn.prototype.get=pn,gn.prototype.has=yn,gn.prototype.set=mn,Gr=gn;var vn,wn={};vn=function(){this.__data__=[],this.size=0};var En,xn={},On={};On=function(e,t){return e===t||e!=e&&t!=t},xn=function(e,t){for(var r=e.length;r--;)if(On(e[r][0],t))return r;return-1};var Bn=Array.prototype.splice;En=function(e){var t=this.__data__,r=xn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Bn.call(t,r,1),--this.size,!0)};var An;An=function(e){var t=this.__data__,r=xn(t,e);return r<0?void 0:t[r][1]};var Fn;Fn=function(e){return xn(this.__data__,e)>-1};var Tn;function Cn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Tn=function(e,t){var r=this.__data__,n=xn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Cn.prototype.clear=vn,Cn.prototype.delete=En,Cn.prototype.get=An,Cn.prototype.has=Fn,Cn.prototype.set=Tn,wn=Cn;var Nn={},Un=o("2Jyx5"),Sn=Zr(Un,"Map");Nn=Sn,Mr=function(){this.size=0,this.__data__={hash:new Gr,map:new(Nn||wn),string:new Gr}};var In,Pn={},kn={};kn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},Pn=function(e,t){var r=e.__data__;return kn(t)?r["string"==typeof t?"string":"hash"]:r.map},In=function(e){var t=Pn(this,e).delete(e);return this.size-=t?1:0,t};var jn;jn=function(e){return Pn(this,e).get(e)};var Rn;Rn=function(e){return Pn(this,e).has(e)};var Ln;function Dn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ln=function(e,t){var r=Pn(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Dn.prototype.clear=Mr,Dn.prototype.delete=In,Dn.prototype.get=jn,Dn.prototype.has=Rn,Dn.prototype.set=Ln,qr=Dn;function Mn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Mn.Cache||qr),r}Mn.Cache=qr,Vr=Mn;var $n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hn=/\\(\\)?/g,Vn=function(e){var t=Vr(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($n,(function(e,r,n,i){t.push(n?i.replace(Hn,"$1"):r||e)})),t}));Hr=Vn;var qn={},Gn={},zn={};zn=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i};var Zn=Br?Br.prototype:void 0,Yn=Zn?Zn.toString:void 0;Gn=function e(t){if("string"==typeof t)return t;if(xr(t))return zn(t,e)+"";if(Fr(t))return Yn?Yn.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r},qn=function(e){return null==e?"":Gn(e)},Er=function(e,t){return xr(e)?e:Ar(e,t)?[e]:Hr(qn(e))};var Wn={},Kn={};Kn=function(e){return Rr(e)&&"[object Arguments]"==Tr(e)};var Xn=Object.prototype,Jn=Xn.hasOwnProperty,Qn=Xn.propertyIsEnumerable,ei=Kn(function(){return arguments}())?Kn:function(e){return Rr(e)&&Jn.call(e,"callee")&&!Qn.call(e,"callee")};Wn=ei;var ti={},ri=/^(?:0|[1-9]\d*)$/;ti=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&ri.test(e))&&e>-1&&e%1==0&&e<t};var ni={};ni=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var ii={};ii=function(e){if("string"==typeof e||Fr(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},wr=function(e,t,r){for(var n=-1,i=(t=Er(t,e)).length,o=!1;++n<i;){var a=ii(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&ni(i)&&ti(a,i)&&(xr(e)||Wn(e))},mr=function(e,t){return null!=e&&wr(e,t,gr)};var oi=e=>e&&e.__isYupSchema__;var ai=class{resolve(e,t){let r=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),n=this.fn.apply(e,r.concat(e,t));if(void 0===n||n===e)return e;if(!oi(n))throw new TypeError("conditions must return a schema object");return n.resolve(t)}constructor(e,r){if(this.fn=void 0,this.refs=e,this.refs=e,"function"==typeof r)return void(this.fn=r);if(!t(mr)(r,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:i,otherwise:o}=r,a="function"==typeof n?n:(...e)=>e.every((e=>e===n));this.fn=function(...e){let t=e.pop(),r=e.pop(),n=a(...e)?i:o;if(n)return"function"==typeof n?n(r):r.concat(n.resolve(t))}}};function si(e){return null==e?[]:[].concat(e)}function ui(){return ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(this,arguments)}let ci=/\$\{\s*(\w+)\s*\}/g;class fi extends Error{static formatError(e,t){const r=t.label||t.path||"this";return r!==t.path&&(t=ui({},t,{path:r})),"string"==typeof e?e.replace(ci,((e,r)=>fr(t[r]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,r,n){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=t,this.path=r,this.type=n,this.errors=[],this.inner=[],si(e).forEach((e=>{fi.isError(e)?(this.errors.push(...e.errors),this.inner=this.inner.concat(e.inner.length?e.inner:e)):this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,fi)}}function li(e,t){let{endEarly:r,tests:n,args:i,value:o,errors:a,sort:s,path:u}=e,c=(e=>{let t=!1;return(...r)=>{t||(t=!0,e(...r))}})(t),f=n.length;const l=[];if(a=a||[],!f)return a.length?c(new fi(a,o,u)):c(null,o);for(let e=0;e<n.length;e++){(0,n[e])(i,(function(e){if(e){if(!fi.isError(e))return c(e,o);if(r)return e.value=o,c(e,o);l.push(e)}if(--f<=0){if(l.length&&(s&&l.sort(s),a.length&&l.push(...a),a=l),a.length)return void c(new fi(a,o,u),o);c(null,o)}}))}}var hi,di={},pi={},bi=function(){try{var e=Zr(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();pi=bi,di=function(e,t,r){"__proto__"==t&&pi?pi(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var yi={},_i={};var mi=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}();_i=mi;var gi={},vi={},wi={};wi=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var Ei,xi=o("aP7tf"),Oi={},Bi={};Bi["[object Float32Array]"]=Bi["[object Float64Array]"]=Bi["[object Int8Array]"]=Bi["[object Int16Array]"]=Bi["[object Int32Array]"]=Bi["[object Uint8Array]"]=Bi["[object Uint8ClampedArray]"]=Bi["[object Uint16Array]"]=Bi["[object Uint32Array]"]=!0,Bi["[object Arguments]"]=Bi["[object Array]"]=Bi["[object ArrayBuffer]"]=Bi["[object Boolean]"]=Bi["[object DataView]"]=Bi["[object Date]"]=Bi["[object Error]"]=Bi["[object Function]"]=Bi["[object Map]"]=Bi["[object Number]"]=Bi["[object Object]"]=Bi["[object RegExp]"]=Bi["[object Set]"]=Bi["[object String]"]=Bi["[object WeakMap]"]=!1,Ei=function(e){return Rr(e)&&ni(e.length)&&!!Bi[Tr(e)]};var Ai={};Ai=function(e){return function(t){return e(t)}};var Fi=o("1Ido4"),Ti=Fi&&Fi.isTypedArray,Ci=Ti?Ai(Ti):Ei;Oi=Ci;var Ni=Object.prototype.hasOwnProperty;vi=function(e,t){var r=xr(e),n=!r&&Wn(e),i=!r&&!n&&xi(e),o=!r&&!n&&!i&&Oi(e),a=r||n||i||o,s=a?wi(e.length,String):[],u=s.length;for(var c in e)!t&&!Ni.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ti(c,u))||s.push(c);return s};var Ui={},Si={},Ii=Object.prototype;Si=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ii)};var Pi={};var ki=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object);Pi=ki;var ji=Object.prototype.hasOwnProperty;Ui=function(e){if(!Si(e))return Pi(e);var t=[];for(var r in Object(e))ji.call(e,r)&&"constructor"!=r&&t.push(r);return t};var Ri={};Ri=function(e){return null!=e&&ni(e.length)&&!Wr(e)},gi=function(e){return Ri(e)?vi(e):Ui(e)},yi=function(e,t){return e&&_i(e,t,gi)};var Li,Di={},Mi={},$i={},Hi={};Li=function(){this.__data__=new wn,this.size=0};var Vi;Vi=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var qi;qi=function(e){return this.__data__.get(e)};var Gi;Gi=function(e){return this.__data__.has(e)};var zi;function Zi(e){var t=this.__data__=new wn(e);this.size=t.size}zi=function(e,t){var r=this.__data__;if(r instanceof wn){var n=r.__data__;if(!Nn||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new qr(n)}return r.set(e,t),this.size=r.size,this},Zi.prototype.clear=Li,Zi.prototype.delete=Vi,Zi.prototype.get=qi,Zi.prototype.has=Gi,Zi.prototype.set=zi,Hi=Zi;var Yi,Wi={},Ki={},Xi={},Ji={};Yi=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Qi;function eo(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new qr;++t<r;)this.add(e[t])}Qi=function(e){return this.__data__.has(e)},eo.prototype.add=eo.prototype.push=Yi,eo.prototype.has=Qi,Ji=eo;var to={};to=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var ro={};ro=function(e,t){return e.has(t)};Xi=function(e,t,r,n,i,o){var a=1&r,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var l=-1,h=!0,d=2&r?new Ji:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var p=e[l],b=t[l];if(n)var y=a?n(b,p,l,t,e,o):n(p,b,l,e,t,o);if(void 0!==y){if(y)continue;h=!1;break}if(d){if(!to(t,(function(e,t){if(!ro(d,t)&&(p===e||i(p,e,r,n,o)))return d.push(t)}))){h=!1;break}}else if(p!==b&&!i(p,b,r,n,o)){h=!1;break}}return o.delete(e),o.delete(t),h};var no={},io={},oo=(Un=o("2Jyx5")).Uint8Array;io=oo;var ao;ao=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var so;so=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r};var uo=Br?Br.prototype:void 0,co=uo?uo.valueOf:void 0;no=function(e,t,r,n,i,o,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new io(e),new io(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return On(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=ao;case"[object Set]":var u=1&n;if(s||(s=so),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;n|=2,a.set(e,t);var f=Xi(s(e),s(t),n,i,o,a);return a.delete(e),f;case"[object Symbol]":if(co)return co.call(e)==co.call(t)}return!1};var fo={},lo={},ho={},po={};po=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},ho=function(e,t,r){var n=t(e);return xr(e)?n:po(n,r(e))};var bo,yo={};yo=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o};var _o;_o=function(){return[]};var mo=Object.prototype.propertyIsEnumerable,go=Object.getOwnPropertySymbols;bo=go?function(e){return null==e?[]:(e=Object(e),yo(go(e),(function(t){return mo.call(e,t)})))}:_o,lo=function(e){return ho(e,gi,bo)};var vo=Object.prototype.hasOwnProperty;fo=function(e,t,r,n,i,o){var a=1&r,s=lo(e),u=s.length;if(u!=lo(t).length&&!a)return!1;for(var c=u;c--;){var f=s[c];if(!(a?f in t:vo.call(t,f)))return!1}var l=o.get(e),h=o.get(t);if(l&&h)return l==t&&h==e;var d=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<u;){var b=e[f=s[c]],y=t[f];if(n)var _=a?n(y,b,f,t,e,o):n(b,y,f,e,t,o);if(!(void 0===_?b===y||i(b,y,r,n,o):_)){d=!1;break}p||(p="constructor"==f)}if(d&&!p){var m=e.constructor,g=t.constructor;m==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g||(d=!1)}return o.delete(e),o.delete(t),d};var wo={},Eo={};Un=o("2Jyx5");Eo=Zr(Un,"DataView");var xo={};Un=o("2Jyx5");xo=Zr(Un,"Promise");var Oo={};Un=o("2Jyx5");Oo=Zr(Un,"Set");var Bo={};Un=o("2Jyx5");Bo=Zr(Un,"WeakMap");var Ao=rn(Eo),Fo=rn(Nn),To=rn(xo),Co=rn(Oo),No=rn(Bo),Uo=Tr;(Eo&&"[object DataView]"!=Uo(new Eo(new ArrayBuffer(1)))||Nn&&"[object Map]"!=Uo(new Nn)||xo&&"[object Promise]"!=Uo(xo.resolve())||Oo&&"[object Set]"!=Uo(new Oo)||Bo&&"[object WeakMap]"!=Uo(new Bo))&&(Uo=function(e){var t=Tr(e),r="[object Object]"==t?e.constructor:void 0,n=r?rn(r):"";if(n)switch(n){case Ao:return"[object DataView]";case Fo:return"[object Map]";case To:return"[object Promise]";case Co:return"[object Set]";case No:return"[object WeakMap]"}return t}),wo=Uo;xi=o("aP7tf");var So=Object.prototype.hasOwnProperty;Ki=function(e,t,r,n,i,o){var a=xr(e),s=xr(t),u=a?"[object Array]":wo(e),c=s?"[object Array]":wo(t),f="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),l="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),h=u==c;if(h&&xi(e)){if(!xi(t))return!1;a=!0,f=!1}if(h&&!f)return o||(o=new Hi),a||Oi(e)?Xi(e,t,r,n,i,o):no(e,t,u,r,n,i,o);if(!(1&r)){var d=f&&So.call(e,"__wrapped__"),p=l&&So.call(t,"__wrapped__");if(d||p){var b=d?e.value():e,y=p?t.value():t;return o||(o=new Hi),i(b,y,r,n,o)}}return!!h&&(o||(o=new Hi),fo(e,t,r,n,i,o))},Wi=function e(t,r,n,i,o){return t===r||(null==t||null==r||!Rr(t)&&!Rr(r)?t!=t&&r!=r:Ki(t,r,n,i,e,o))};$i=function(e,t,r,n){var i=r.length,o=i,a=!n;if(null==e)return!o;for(e=Object(e);i--;){var s=r[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=r[i])[0],c=e[u],f=s[1];if(a&&s[2]){if(void 0===c&&!(u in e))return!1}else{var l=new Hi;if(n)var h=n(c,f,u,e,t,l);if(!(void 0===h?Wi(f,c,3,n,l):h))return!1}}return!0};var Io={},Po={};Po=function(e){return e==e&&!Kr(e)},Io=function(e){for(var t=gi(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Po(i)]}return t};var ko={};ko=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}},Mi=function(e){var t=Io(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(r){return r===e||$i(r,e,t)}};var jo={},Ro={},Lo={};Lo=function(e,t){for(var r=0,n=(t=Er(t,e)).length;null!=e&&r<n;)e=e[ii(t[r++])];return r&&r==n?e:void 0},Ro=function(e,t,r){var n=null==e?void 0:Lo(e,t);return void 0===n?r:n};var Do,Mo={};Do=function(e,t){return null!=e&&t in Object(e)},Mo=function(e,t){return null!=e&&wr(e,t,Do)};jo=function(e,t){return Ar(e)&&Po(t)?ko(ii(e),t):function(r){var n=Ro(r,e);return void 0===n&&n===t?Mo(r,e):Wi(t,n,3)}};var $o;$o=function(e){return e};var Ho={},Vo={};Vo=function(e){return function(t){return null==t?void 0:t[e]}};var qo={};qo=function(e){return function(t){return Lo(t,e)}},Ho=function(e){return Ar(e)?Vo(ii(e)):qo(e)},Di=function(e){return"function"==typeof e?e:null==e?$o:"object"==typeof e?xr(e)?jo(e[0],e[1]):Mi(e):Ho(e)},hi=function(e,t){var r={};return t=Di(t,3),yi(e,(function(e,n,i){di(r,n,t(e,n,i))})),r};var Go;function zo(e){this._maxSize=e,this.clear()}zo.prototype.clear=function(){this._size=0,this._values=Object.create(null)},zo.prototype.get=function(e){return this._values[e]},zo.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var Zo=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Yo=/^\d+$/,Wo=/^\d/,Ko=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Xo=/^\s*(['"]?)(.*?)(\1)\s*$/,Jo=new zo(512),Qo=new zo(512),ea=new zo(512);function ta(e){return Jo.get(e)||Jo.set(e,ra(e).map((function(e){return e.replace(Xo,"$2")})))}function ra(e){return e.match(Zo)||[""]}function na(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function ia(e){return!na(e)&&(function(e){return e.match(Wo)&&!e.match(Yo)}(e)||function(e){return Ko.test(e)}(e))}Go={Cache:zo,split:ra,normalizePath:ta,setter:function(e){var t=ta(e);return Qo.get(e)||Qo.set(e,(function(e,r){for(var n=0,i=t.length,o=e;n<i-1;){var a=t[n];if("__proto__"===a||"constructor"===a||"prototype"===a)return e;o=o[t[n++]]}o[t[n]]=r}))},getter:function(e,t){var r=ta(e);return ea.get(e)||ea.set(e,(function(e){for(var n=0,i=r.length;n<i;){if(null==e&&t)return;e=e[r[n++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(na(t)||Yo.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,r){!function(e,t,r){var n,i,o,a,s=e.length;for(i=0;i<s;i++)(n=e[i])&&(ia(n)&&(n='"'+n+'"'),o=!(a=na(n))&&/^\d+$/.test(n),t.call(r,n,a,o,i,e))}(Array.isArray(e)?e:ra(e),t,r)}};const oa="$",aa=".";class sa{getValue(e,t,r){let n=this.isContext?r:this.isValue?e:t;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===oa,this.isValue=this.key[0]===aa,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?oa:this.isValue?aa:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,Go.getter)(this.path,!0),this.map=t.map}}function ua(){return ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ua.apply(this,arguments)}function ca(e){function r(r,n){let{value:i,path:o="",label:a,options:s,originalValue:u,sync:c}=r,f=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(r,["value","path","label","options","originalValue","sync"]);const{name:l,test:h,params:d,message:p}=e;let{parent:b,context:y}=s;function _(e){return sa.isRef(e)?e.getValue(i,b,y):e}function m(e={}){const r=t(hi)(ua({value:i,originalValue:u,label:a,path:e.path||o},d,e.params),_),n=new fi(fi.formatError(e.message||p,r),i,r.path,e.type||l);return n.params=r,n}let g,v=ua({path:o,parent:b,type:l,createError:m,resolve:_,options:s,originalValue:u},f);if(c){try{var w;if(g=h.call(v,i,v),"function"==typeof(null==(w=g)?void 0:w.then))throw new Error(`Validation test of type: "${v.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(e){return void n(e)}fi.isError(g)?n(g):g?n(null,g):n(m())}else try{Promise.resolve(h.call(v,i,v)).then((e=>{fi.isError(e)?n(e):e?n(null,e):n(m())})).catch(n)}catch(e){n(e)}}return r.OPTIONS=e,r}sa.prototype.__isYupRef=!0;function fa(e,t,r,n=r){let i,o,a;return t?((0,Go.forEach)(t,((s,u,c)=>{let f=u?(e=>e.substr(0,e.length-1).substr(1))(s):s;if((e=e.resolve({context:n,parent:i,value:r})).innerType){let n=c?parseInt(f,10):0;if(r&&n>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${s}, in the path: ${t}. because there is no value at that index. `);i=r,r=r&&r[n],e=e.innerType}if(!c){if(!e.fields||!e.fields[f])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${a} which is a type: "${e._type}")`);i=r,r=r&&r[f],e=e.fields[f]}o=f,a=u?"["+s+"]":"."+s})),{schema:e,parent:i,parentPath:o}):{parent:i,parentPath:t,schema:e}}class la{get size(){return this.list.size+this.refs.size}describe(){const e=[];for(const t of this.list)e.push(t);for(const[,t]of this.refs)e.push(t.describe());return e}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(e){return this.toArray().reduce(((t,r)=>t.concat(sa.isRef(r)?e(r):r)),[])}add(e){sa.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}delete(e){sa.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}clone(){const e=new la;return e.list=new Set(this.list),e.refs=new Map(this.refs),e}merge(e,t){const r=this.clone();return e.list.forEach((e=>r.add(e))),e.refs.forEach((e=>r.add(e))),t.list.forEach((e=>r.delete(e))),t.refs.forEach((e=>r.delete(e))),r}constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}}function ha(){return ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ha.apply(this,arguments)}class da{get _type(){return this.type}_typeCheck(e){return!0}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=ha({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=nr(ha({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const n=ha({},t.spec,r.spec);return r.spec=n,r._typeError||(r._typeError=t._typeError),r._whitelistError||(r._whitelistError=t._whitelistError),r._blacklistError||(r._blacklistError=t._blacklistError),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce(((t,r)=>r.resolve(t,e)),t),t=t.resolve(e)}return t}cast(e,t={}){let r=this.resolve(ha({value:e},t)),n=r._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==r.isType(n)){let i=fr(e),o=fr(n);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r._type}". \n\nattempted value: ${i} \n`+(o!==i?`result of cast: ${o}`:""))}return n}_cast(e,t){let r=void 0===e?e:this.transforms.reduce(((t,r)=>r.call(this,t,e,this)),e);return void 0===r&&(r=this.getDefault()),r}_validate(e,t={},r){let{sync:n,path:i,from:o=[],originalValue:a=e,strict:s=this.spec.strict,abortEarly:u=this.spec.abortEarly}=t,c=e;s||(c=this._cast(c,ha({assert:!1},t)));let f={value:c,path:i,options:t,originalValue:a,schema:this,label:this.spec.label,sync:n,from:o},l=[];this._typeError&&l.push(this._typeError);let h=[];this._whitelistError&&h.push(this._whitelistError),this._blacklistError&&h.push(this._blacklistError),li({args:f,value:c,path:i,sync:n,tests:l,endEarly:u},(e=>{e?r(e,c):li({tests:this.tests.concat(h),args:f,path:i,sync:n,value:c,endEarly:u},r)}))}validate(e,t,r){let n=this.resolve(ha({},t,{value:e}));return"function"==typeof r?n._validate(e,t,r):new Promise(((r,i)=>n._validate(e,t,((e,t)=>{e?i(e):r(t)}))))}validateSync(e,t){let r;return this.resolve(ha({},t,{value:e}))._validate(e,ha({},t,{sync:!0}),((e,t)=>{if(e)throw e;r=t})),r}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(fi.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(fi.isError(e))return!1;throw e}}_getDefault(){let e=this.spec.default;return null==e?e:"function"==typeof e?e.call(this):nr(e)}getDefault(e){return this.resolve(e||{})._getDefault()}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(e=!0){let t=this.clone();return t.spec.strict=e,t}_isPresent(e){return null!=e}defined(e=lr.defined){return this.test({message:e,name:"defined",exclusive:!0,test:e=>void 0!==e})}required(e=lr.required){return this.clone({presence:"required"}).withMutation((t=>t.test({message:e,name:"required",exclusive:!0,test(e){return this.schema._isPresent(e)}})))}notRequired(){let e=this.clone({presence:"optional"});return e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e}nullable(e=!0){return this.clone({nullable:!1!==e})}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=lr.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let r=this.clone(),n=ca(t),i=t.exclusive||t.name&&!0===r.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(i)return!1;if(e.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),r.tests.push(n),r}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let r=this.clone(),n=si(e).map((e=>new sa(e)));return n.forEach((e=>{e.isSibling&&r.deps.push(e.key)})),r.conditions.push(new ai(n,t)),r}typeError(e){let t=this.clone();return t._typeError=ca({message:e,name:"typeError",test(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}oneOf(e,t=lr.oneOf){let r=this.clone();return e.forEach((e=>{r._whitelist.add(e),r._blacklist.delete(e)})),r._whitelistError=ca({message:t,name:"oneOf",test(e){if(void 0===e)return!0;let t=this.schema._whitelist,r=t.resolveAll(this.resolve);return!!r.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:r}})}}),r}notOneOf(e,t=lr.notOneOf){let r=this.clone();return e.forEach((e=>{r._blacklist.add(e),r._whitelist.delete(e)})),r._blacklistError=ca({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,r=t.resolveAll(this.resolve);return!r.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:r}})}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(){const e=this.clone(),{label:t,meta:r}=e.spec;return{meta:r,label:t,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,r)=>r.findIndex((t=>t.name===e.name))===t))}}constructor(e){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new la,this._blacklist=new la,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(lr.notType)})),this.type=(null==e?void 0:e.type)||"mixed",this.spec=ha({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==e?void 0:e.spec)}}da.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])da.prototype[`${e}At`]=function(t,r,n={}){const{parent:i,parentPath:o,schema:a}=fa(this,t,r,n.context);return a[e](i&&i[o],ha({},n,{parent:i,path:t}))};for(const e of["equals","is"])da.prototype[e]=da.prototype.oneOf;for(const e of["not","nope"])da.prototype[e]=da.prototype.notOneOf;da.prototype.optional=da.prototype.notRequired;const pa=da;function ba(){return new pa}ba.prototype=pa.prototype;var ya=e=>null==e;let _a=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,ma=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,ga=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,va=e=>ya(e)||e===e.trim(),wa={}.toString();function Ea(){return new xa}class xa extends da{_typeCheck(e){return e instanceof String&&(e=e.valueOf()),"string"==typeof e}_isPresent(e){return super._isPresent(e)&&!!e.length}length(e,t=hr.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test(t){return ya(t)||t.length===this.resolve(e)}})}min(e,t=hr.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(t){return ya(t)||t.length>=this.resolve(e)}})}max(e,t=hr.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test(t){return ya(t)||t.length<=this.resolve(e)}})}matches(e,t){let r,n,i=!1;return t&&("object"==typeof t?({excludeEmptyString:i=!1,message:r,name:n}=t):r=t),this.test({name:n||"matches",message:r||hr.matches,params:{regex:e},test:t=>ya(t)||""===t&&i||-1!==t.search(e)})}email(e=hr.email){return this.matches(_a,{name:"email",message:e,excludeEmptyString:!0})}url(e=hr.url){return this.matches(ma,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=hr.uuid){return this.matches(ga,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(e=hr.trim){return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:va})}lowercase(e=hr.lowercase){return this.transform((e=>ya(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,test:e=>ya(e)||e===e.toLowerCase()})}uppercase(e=hr.uppercase){return this.transform((e=>ya(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,test:e=>ya(e)||e===e.toUpperCase()})}constructor(){super({type:"string"}),this.withMutation((()=>{this.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;const t=null!=e&&e.toString?e.toString():e;return t===wa?e:t}))}))}}Ea.prototype=xa.prototype;function Oa(){return new Ba}class Ba extends da{_typeCheck(e){return e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&!(e=>e!=+e)(e)}min(e,t=dr.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(t){return ya(t)||t>=this.resolve(e)}})}max(e,t=dr.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test(t){return ya(t)||t<=this.resolve(e)}})}lessThan(e,t=dr.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test(t){return ya(t)||t<this.resolve(e)}})}moreThan(e,t=dr.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test(t){return ya(t)||t>this.resolve(e)}})}positive(e=dr.positive){return this.moreThan(0,e)}negative(e=dr.negative){return this.lessThan(0,e)}integer(e=dr.integer){return this.test({name:"integer",message:e,test:e=>ya(e)||Number.isInteger(e)})}truncate(){return this.transform((e=>ya(e)?e:0|e))}round(e){var t;let r=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===r.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform((t=>ya(t)?t:Math[e](t)))}constructor(){super({type:"number"}),this.withMutation((()=>{this.transform((function(e){let t=e;if("string"==typeof t){if(t=t.replace(/\s/g,""),""===t)return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))}))}}Oa.prototype=Ba.prototype;var Aa=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function Fa(e){var t,r,n=[1,4,5,6,7,10,11],i=0;if(r=Aa.exec(e)){for(var o,a=0;o=n[a];++a)r[o]=+r[o]||0;r[2]=(+r[2]||1)-1,r[3]=+r[3]||1,r[7]=r[7]?String(r[7]).substr(0,3):0,void 0!==r[8]&&""!==r[8]||void 0!==r[9]&&""!==r[9]?("Z"!==r[8]&&void 0!==r[9]&&(i=60*r[10]+r[11],"+"===r[9]&&(i=0-i)),t=Date.UTC(r[1],r[2],r[3],r[4],r[5]+i,r[6],r[7])):t=+new Date(r[1],r[2],r[3],r[4],r[5],r[6],r[7])}else t=Date.parse?Date.parse(e):NaN;return t}let Ta=new Date("");function Ca(){return new Na}class Na extends da{_typeCheck(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}prepareParam(e,t){let r;if(sa.isRef(e))r=e;else{let n=this.cast(e);if(!this._typeCheck(n))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=n}return r}min(e,t=pr.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(e){return ya(e)||e>=this.resolve(r)}})}max(e,t=pr.max){let r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test(e){return ya(e)||e<=this.resolve(r)}})}constructor(){super({type:"date"}),this.withMutation((()=>{this.transform((function(e){return this.isType(e)?e:(e=Fa(e),isNaN(e)?Ta:new Date(e))}))}))}}Na.INVALID_DATE=Ta,Ca.prototype=Na.prototype,Ca.INVALID_DATE=Ta;var Ua,Sa={},Ia={};Ia=function(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r};var Pa,ka={};var ja=function(e){return function(t){return null==e?void 0:e[t]}}({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});Pa=ja;var Ra=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,La=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");ka=function(e){return(e=qn(e))&&e.replace(Ra,Pa).replace(La,"")};var Da={},Ma={},$a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;Ma=function(e){return e.match($a)||[]};var Ha={},Va=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;Ha=function(e){return Va.test(e)};var qa={},Ga="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",za="["+Ga+"]",Za="\\d+",Ya="[\\u2700-\\u27bf]",Wa="[^\ud800-\udfff"+Ga+Za+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ka="(?:\ud83c[\udde6-\uddff]){2}",Xa="[\ud800-\udbff][\udc00-\udfff]",Ja="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Qa="(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|"+Wa+")",es="(?:"+Ja+"|"+Wa+")",ts="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?"+("(?:\\u200d(?:"+["[^\ud800-\udfff]",Ka,Xa].join("|")+")[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?)*"),rs="(?:"+[Ya,Ka,Xa].join("|")+")"+ts,ns=RegExp([Ja+"?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[za,Ja,"$"].join("|")+")",es+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[za,Ja+Qa,"$"].join("|")+")",Ja+"?"+Qa+"+(?:['](?:d|ll|m|re|s|t|ve))?",Ja+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Za,rs].join("|"),"g");qa=function(e){return e.match(ns)||[]},Da=function(e,t,r){return e=qn(e),void 0===(t=r?void 0:t)?Ha(e)?qa(e):Ma(e):e.match(t)||[]};var is=RegExp("[']","g");var os=(Sa=function(e){return function(t){return Ia(Da(ka(t).replace(is,"")),e,"")}})((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));Ua=os;var as,ss={},us={},cs={},fs={};fs=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o},cs=function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:fs(e,t,r)};var ls={},hs=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");ls=function(e){return hs.test(e)};var ds={},ps={};ps=function(e){return e.split("")};var bs={},ys="[\ud800-\udfff]",_s="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ms="[^\ud800-\udfff]",gs="(?:\ud83c[\udde6-\uddff]){2}",vs="[\ud800-\udbff][\udc00-\udfff]",ws="(?:"+_s+"|\ud83c[\udffb-\udfff])"+"?",Es="[\\ufe0e\\ufe0f]?"+ws+("(?:\\u200d(?:"+[ms,gs,vs].join("|")+")[\\ufe0e\\ufe0f]?"+ws+")*"),xs="(?:"+[ms+_s+"?",_s,gs,vs,ys].join("|")+")",Os=RegExp("\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|"+xs+Es,"g");bs=function(e){return e.match(Os)||[]},ds=function(e){return ls(e)?bs(e):ps(e)};var Bs=function(e){return function(t){t=qn(t);var r=ls(t)?ds(t):void 0,n=r?r[0]:t.charAt(0),i=r?cs(r,1).join(""):t.slice(1);return n[e]()+i}}("toUpperCase");us=Bs,ss=function(e){return us(qn(e).toLowerCase())};var As=Sa((function(e,t,r){return t=t.toLowerCase(),e+(r?ss(t):t)}));as=As;var Fs;Fs=function(e,t){var r={};return t=Di(t,3),yi(e,(function(e,n,i){di(r,t(e,n,i),e)})),r};var Ts;function Cs(e,t){var r=e.length,n=new Array(r),i={},o=r,a=function(e){for(var t=new Map,r=0,n=e.length;r<n;r++){var i=e[r];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),s=function(e){for(var t=new Map,r=0,n=e.length;r<n;r++)t.set(e[r],r);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));o--;)i[o]||u(e[o],o,new Set);return n;function u(e,t,o){if(o.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(e){c=""}throw new Error("Cyclic dependency"+c)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var f=a.get(e)||new Set;if(t=(f=Array.from(f)).length){o.add(e);do{var l=f[--t];u(l,s.get(l),o)}while(t);o.delete(e)}n[--r]=e}}}function Ns(e,r=[]){let n=[],i=new Set,o=new Set(r.map((([e,t])=>`${e}-${t}`)));function a(e,t){let r=(0,Go.split)(e)[0];i.add(r),o.has(`${t}-${r}`)||n.push([t,r])}for(const r in e)if(t(mr)(e,r)){let t=e[r];i.add(r),sa.isRef(t)&&t.isSibling?a(t.path,r):oi(t)&&"deps"in t&&t.deps.forEach((e=>a(e,r)))}return t(Ts).array(Array.from(i),n).reverse()}function Us(e,t){let r=1/0;return e.some(((e,n)=>{var i;if(-1!==(null==(i=t.path)?void 0:i.indexOf(e)))return r=n,!0})),r}function Ss(e){return(t,r)=>Us(e,t)-Us(e,r)}function Is(){return Is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Is.apply(this,arguments)}(Ts=function(e){return Cs(function(e){for(var t=new Set,r=0,n=e.length;r<n;r++){var i=e[r];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)}).array=Cs;let Ps=e=>"[object Object]"===Object.prototype.toString.call(e);const ks=Ss([]);class js extends da{_typeCheck(e){return Ps(e)||"function"==typeof e}_cast(e,r={}){var n;let i=super._cast(e,r);if(void 0===i)return this.getDefault();if(!this._typeCheck(i))return i;let o=this.fields,a=null!=(n=r.stripUnknown)?n:this.spec.noUnknown,s=this._nodes.concat(Object.keys(i).filter((e=>-1===this._nodes.indexOf(e)))),u={},c=Is({},r,{parent:u,__validating:r.__validating||!1}),f=!1;for(const e of s){let n=o[e],s=t(mr)(i,e);if(n){let t,o=i[e];c.path=(r.path?`${r.path}.`:"")+e,n=n.resolve({value:o,context:r.context,parent:u});let a="spec"in n?n.spec:void 0,s=null==a?void 0:a.strict;if(null==a?void 0:a.strip){f=f||e in i;continue}t=r.__validating&&s?i[e]:n.cast(i[e],c),void 0!==t&&(u[e]=t)}else s&&!a&&(u[e]=i[e]);u[e]!==i[e]&&(f=!0)}return f?u:i}_validate(e,t={},r){let n=[],{sync:i,from:o=[],originalValue:a=e,abortEarly:s=this.spec.abortEarly,recursive:u=this.spec.recursive}=t;o=[{schema:this,value:a},...o],t.__validating=!0,t.originalValue=a,t.from=o,super._validate(e,t,((e,c)=>{if(e){if(!fi.isError(e)||s)return void r(e,c);n.push(e)}if(!u||!Ps(c))return void r(n[0]||null,c);a=a||c;let f=this._nodes.map((e=>(r,n)=>{let i=-1===e.indexOf(".")?(t.path?`${t.path}.`:"")+e:`${t.path||""}["${e}"]`,s=this.fields[e];s&&"validate"in s?s.validate(c[e],Is({},t,{path:i,from:o,strict:!0,parent:c,originalValue:a[e]}),n):n(null)}));li({sync:i,tests:f,value:c,errors:n,endEarly:s,sort:this._sortErrors,path:t.path},r)}))}clone(e){const t=super.clone(e);return t.fields=Is({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[e,t]of Object.entries(this.fields)){const n=r[e];void 0===n?r[e]=t:n instanceof da&&t instanceof da&&(r[e]=t.concat(n))}return t.withMutation((()=>t.shape(r,this._excludedEdges)))}getDefaultFromShape(){let e={};return this._nodes.forEach((t=>{const r=this.fields[t];e[t]="default"in r?r.getDefault():void 0})),e}_getDefault(){return"default"in this.spec?super._getDefault():this._nodes.length?this.getDefaultFromShape():void 0}shape(e,t=[]){let r=this.clone(),n=Object.assign(r.fields,e);return r.fields=n,r._sortErrors=Ss(Object.keys(n)),t.length&&(Array.isArray(t[0])||(t=[t]),r._excludedEdges=[...r._excludedEdges,...t]),r._nodes=Ns(n,r._excludedEdges),r}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.clone().withMutation((e=>(e.fields={},e.shape(t))))}omit(e){const t=this.clone(),r=t.fields;t.fields={};for(const t of e)delete r[t];return t.withMutation((()=>t.shape(r)))}from(e,r,n){let i=(0,Go.getter)(e,!0);return this.transform((o=>{if(null==o)return o;let a=o;return t(mr)(o,e)&&(a=Is({},o),n||delete a[e],a[r]=i(o)),a}))}noUnknown(e=!0,t=yr.noUnknown){"string"==typeof e&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const r=function(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===r.indexOf(e)))}(this.schema,t);return!e||0===r.length||this.createError({params:{unknown:r.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=yr.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((r=>r&&t(Fs)(r,((t,r)=>e(r)))))}camelCase(){return this.transformKeys(t(as))}snakeCase(){return this.transformKeys(t(Ua))}constantCase(){return this.transformKeys((e=>t(Ua)(e).toUpperCase()))}describe(){let e=super.describe();return e.fields=t(hi)(this.fields,(e=>e.describe())),e}constructor(e){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=ks,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{this.transform((function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&this.shape(e)}))}}function Rs(e){return new js(e)}Rs.prototype=js.prototype;const Ls=Rs({plaintext:Ea().nullable(!0).optional(),ciphertext:Ea().nullable(!0).optional(),decryptionTime:Oa().positive().required()}).required();function Ds(){const e={disableBeaconVerification:!1,noCache:!1,chainVerificationParams:{chainHash:"dbd506d6ef76e5f386f41c651dcb808c5bcbd75471cc4eafa3f4df7ad4e4c493",publicKey:"a0b862a7527fee3a731bcb59280ab6abd62d5c0b6ea03dc4ddf6612fdfc9d01f01c31542541771903475eb1ec6615f8d0df0b8b6dce385811d6dcf8cbefb8759e5e616a3dfd054c928940766d9a5b9db91e3b697e5d70a975181e007f87fca5e"}};return new(0,Se.HttpChainClient)(new(0,Se.HttpCachingChain)(Jt.MAINNET_CHAIN_URL,e),e,{})}function Ms(){const e={disableBeaconVerification:!1,noCache:!1,chainVerificationParams:{chainHash:"7672797f548f3f4748ac4bf3352fc6c6b6468c9ad40ad456a397545c6e2df5bf",publicKey:"8200fc249deb0148eb918d6e213980c5d01acd7fc251900d9260136da3b54836ce125172399ddc69c4e3e11429b62c11"}};return new(0,Se.HttpChainClient)(new(0,Se.HttpCachingChain)(Jt.TESTNET_CHAIN_URL,e),e,{})}var $s=(Pe=o("aBw8d")).Buffer;async function Hs(e,t){const r=await Ls.validate(t);let n;return n="mainnet"===e?Ds():Ms(),r.plaintext?async function(e,t,r){const n=await e.chain().info(),i=(0,Se.roundAt)(r,n),o=await(0,Se.timelockEncrypt)(i,$s.from(t),e);return{plaintext:t,decryptionTime:r,ciphertext:o}}(n,r.plaintext,r.decryptionTime):r.ciphertext?async function(e,t,r){return{plaintext:await(0,Se.timelockDecrypt)(t,e),decryptionTime:r,ciphertext:t}}(n,r.ciphertext,r.decryptionTime):Promise.reject("Neither plaintext nor ciphertext were input")}function Vs(e=500){let t=null;return r=>(t&&clearTimeout(t),new Promise((n=>{t=setTimeout((()=>n(r())),e)})))}const qs=26,Gs=3;var zs,Zs;const Ys=e=>y("label",{className:"form-label p-0"},e.label,y("textarea",{className:"form-control",cols:null!==(zs=e.cols)&&void 0!==zs?zs:Gs,rows:null!==(Zs=e.rows)&&void 0!==Zs?Zs:qs,value:e.value,onChange:t=>e.onChange&&e.onChange(t.currentTarget.value)})),Ws=e=>{return y("label",{className:"form-label p-0"},e.label,y("input",{className:"form-control",value:(t=new Date(e.value),`${t.getFullYear()}-${Ks(t.getMonth()+1)}-${Ks(t.getDate())} ${Ks(t.getHours())}:${Ks(t.getMinutes())}`),type:"datetime-local",onChange:t=>e.onChange(Date.parse(t.currentTarget.value))}));var t};function Ks(e){return e.toString().padStart(2,"0")}function Xs(e){return e instanceof Error?e.message:"string"==typeof e?e:"Unknown error"}function Js(e){const t=Xs(e),r="It's too early to decrypt the ciphertext - decryptable at round ";if(!t.startsWith(r))return"There was an error during decryption! Is your ciphertext valid?";const n=Number.parseInt(t.split(r)[1]),i=new Date((0,Se.roundTime)(Jt.MAINNET_CHAIN_INFO,n));return`This message cannot be decrypted until ${i.toLocaleDateString()} at ${i.toLocaleTimeString()}`}const Qs=e=>{const[t,r]=X(""),[n,i]=X(""),[o,a]=X(Date.now()),[s,u]=X(""),c=ee((()=>Vs()),[]);return Q((()=>{t&&c((()=>Hs(e.network,{plaintext:t,ciphertext:n,decryptionTime:o}))).then((e=>{var t;i(null!==(t=e.ciphertext)&&void 0!==t?t:""),a(e.decryptionTime)})).catch((e=>{console.error(e),u(Xs(e))}))}),[t,o,e.network]),y(m,null,y("div",{className:"row p-0",id:"errors"},y("p",{className:"m-0 p-0",id:"error"},s)),y("div",{className:"col-sm-6 p-3"},y("div",{className:"row mb-6"},y(Ws,{label:"Decryption time",value:o,onChange:a}))),y("div",{class:"row light-bg p-0"},y("div",{class:"col-12 col-lg-6 p-3"},y("div",{className:"row mb-6"},y(Ys,{label:"Plaintext",value:t,onChange:r}))),y("div",{class:"col-12 col-lg-6 p-3"},y("div",{className:"row mb-6"},y(Ys,{label:"Ciphertext",value:n,onChange:i})))))},eu=e=>y("label",{className:"form-label p-0"},e.label,y("input",{type:"file",className:"form-control",onChange:t=>t.currentTarget.files&&e.onChange(t.currentTarget.files)})),tu=e=>y("label",{className:"form-label p-0"},e.label,y("input",{type:"text",className:"form-control",value:e.value,onChange:t=>e.onChange&&e.onChange(t.currentTarget.value),disabled:e.disabled||!1})),ru=e=>y("button",{id:"encrypt-button",type:"button",className:"btn btn-primary float-end",onClick:t=>{t.preventDefault(),e.onClick()}},e.text),nu=Rs({title:Ea().required(),description:Ea().required(),cve:Ea().nullable(!0).optional(),files:ba().nullable(!0).optional(),decryptionTime:Oa().positive().required().positive().required()}).required(),iu=Rs({name:Ea().required(),content:Ea().matches(/^(?:[A-Za-z\d+/]{4})*(?:[A-Za-z\d+/]{3}=|[A-Za-z\d+/]{2}==)?$/).required()}),ou=Rs({title:Ea().required(),description:Ea().required(),cve:Ea().nullable(!0).optional(),file:iu.nullable(!0).optional()}).required();var au=(Pe=o("aBw8d")).Buffer;async function su(e){return au.from(new Uint8Array(await e.arrayBuffer()))}function uu(e){const t=document.createElement("a");t.href=URL.createObjectURL(e),t.download=e.name,document.body.appendChild(t),t.click(),document.body.removeChild(t)}var cu=(Pe=o("aBw8d")).Buffer;async function fu(e,t){var r;const n=await nu.validate(t);if(n.files&&n.files.length>1)throw Error("Right now only a single file is supported!");const i=null===(r=n.files)||void 0===r?void 0:r.item(0);let o=null;if(i){const e=(await su(i)).toString("base64");o={name:i.name,content:e}}const a=JSON.stringify({title:n.title,description:n.description,cve:n.cve,file:o});if("mainnet"===e){const e=(0,Se.roundAt)(n.decryptionTime,Jt.MAINNET_CHAIN_INFO);return await(0,Se.timelockEncrypt)(e,cu.from(a),Ds())}{const e=(0,Se.roundAt)(n.decryptionTime,Jt.TESTNET_CHAIN_INFO);return await(0,Se.timelockEncrypt)(e,cu.from(a),Ms())}}const lu=e=>{const[t,r]=X(""),[n,i]=X(""),[o,a]=X(""),[s,u]=X(),[c,f]=X(Date.now()),[l,h]=X(""),[d,p]=X("");return Q((()=>{p("")}),[e.network]),y("div",{className:"row light-bg"},y("div",{className:"row p-0",id:"errors"},y("p",{className:"m-0 p-0",id:"error"},l)),y("div",{class:"col-12 col-sm-6"},y("div",{className:"row mb-6 p-3"},y(Ws,{label:"Decryption time",value:c,onChange:f})),y("div",{className:"row mb-6 p-3"},y(tu,{label:"Title",value:n,onChange:i})),y("div",{className:"row mb-6 px-3"},y(Ys,{label:"Description",value:o,onChange:a,rows:15})),y("div",{className:"row mb-6 px-3 py-2"},"Optional fields:"),y("div",{className:"row mb-6 px-3"},y(tu,{label:"CVE",value:t,onChange:r})),y("div",{className:"row mb-6 px-3"},y(eu,{label:"Upload a file to encrypt",onChange:u}))),y("div",{className:"col-12 col-sm-6 p-0"},y("div",{className:"row mb-6 align-items-end p-3"},y("div",{className:"p-3"},y(ru,{onClick:async()=>{try{p(await fu(e.network,{title:n,description:o,cve:t,files:s,decryptionTime:c}))}catch(e){console.error(e),h(Xs(e))}},text:"Encrypt"}))),y("div",{className:"row mb-6 p-3"},y(Ys,{label:"Ciphertext",value:d,onChange:p}))))};var hu=(Pe=o("aBw8d")).Buffer;async function du(e,t){let r;r="mainnet"===e?Ds():Ms();const n=await(0,Se.timelockDecrypt)(t,r);if(await ou.isValid(n)){const e=await ou.validate(n);let t;if(e.file){const r=hu.from(e.file.content,"base64");t=new File([r],e.file.name)}var i;return{type:"vulnerability_report",value:{title:e.title,description:e.description,cve:null!==(i=e.cve)&&void 0!==i?i:void 0,file:t}}}return{type:"text",value:n}}const pu=e=>{const[t,r]=X(""),[n,i]=X(),[o,a]=X(""),[s,u]=X(!1),[c,f]=X(!1),l=te((e=>{a(""),f(!0),r(e)}),[]);return Q((()=>{if(!t||!c)return;u(!0);const r=setTimeout((()=>du(e.network,t).then((e=>i(e))).catch((e=>{console.error(e),a(Js(e))})).finally((()=>{u(!1),f(!1)}))));return()=>clearTimeout(r)}),[t,c,e.network]),y(m,null,y("div",{className:"row light-bg px-3 py-2 align-items-end"},y("div",{className:"col p-0",id:"errors"},y("p",{className:"p-0 my-0 my-sm-3"},o))),y("div",{className:"row light-bg"},y("div",{className:"col-12 col-lg-6 px-3"},y("div",{className:"row mb-6"},y(Ys,{label:"Ciphertext",value:t,onChange:l}))),y("div",{className:"col-12 col-lg-6 px-3"},y("div",{className:"row mb-6"},y(bu,{content:n,isLoading:s,error:o})))))},bu=e=>{if(e.isLoading)return y("div",{className:"row justify-content-center"},y("div",{className:"spinner-border",role:"status"}));if(""!==e.error)return y("div",{className:"row"});const t=e.content;if(!t)return y("div",{className:"row text-center"},y("p",null,y("br",null),"Your plaintext will load here once you enter a ciphertext..."));if("text"===t.type)return y(Ys,{label:"Plaintext",value:t.value,onChange:_u});if("vulnerability_report"===t.type)return y(yu,t.value);throw Error("Impossibru!")},yu=e=>{const t=e.file;var r;return y("div",{className:"col px-3"},y("div",{className:"row mb-6"},y(tu,{label:"Title",value:e.title})),y("div",{className:"row mb-6"},y(Ys,{label:"Description",value:e.description,rows:15})),y("div",{className:"row mb-6"},y(tu,{label:"CVE",value:null!==(r=e.cve)&&void 0!==r?r:""})),y("div",{className:"row mb-6 py-3"},null!=t?y(ru,{onClick:()=>t&&uu(t),text:"Click to download attached file"}):null))};function _u(){}function mu(e){const[t,r]=X(0),n=ee((()=>100*Math.random()),[]),[i,o]=X(!1);return y("div",null,y("div",{className:"dropdown"},y("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:`dropdownMenuButton${n}`,onClick:()=>o(!i),"data-bs-toggle":"dropdown","aria-expanded":"false"},e.label,": ",e.items[t].label),y("ul",{className:"dropdown-menu",style:{display:i?"block":"none"},"aria-labelledby":`dropdownMenuButton${n}`},e.items.map(((n,i)=>y("li",null,y("a",{className:i===t?"dropdown-item active":"dropdown-item",onClick:()=>{r(i),o(!1),e.onChange(n.value)}},n.label)))))))}const gu=[{label:"Mainnet",value:"mainnet"},{label:"Testnet",value:"testnet"}],vu=document.getElementById("root")||(()=>{throw Error("No element found with id root to bind to!!")})();R(y((()=>{const[e,t]=X(gu[0].value);return y("div",null,y(mu,{label:"Network",items:gu,onChange:e=>t(e)}),y(Ce,null,y(Ue,{title:"Text"},y(Qs,{network:e})),y(Ue,{title:"Vulnerability report"},y(lu,{network:e})),y(Ue,{title:"Decrypt"},y(pu,{network:e}))))}),null),vu);
//# sourceMappingURL=index.b7565957.js.map
